





<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://assets-cdn.github.com">
  <link rel="dns-prefetch" href="https://avatars0.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars1.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars2.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">



  <link crossorigin="anonymous" media="all" integrity="sha512-Z0JAar9+DkI1NjGVdZr3GivARUgJtA0o2eHlTv7Ou2gshR5awWVf8QGsq11Ns9ZxQLEs+G5/SuARmvpOLMzulw==" rel="stylesheet" href="https://assets-cdn.github.com/assets/frameworks-95aff0b550d3fe338b645a4deebdcb1b.css" />
  <link crossorigin="anonymous" media="all" integrity="sha512-h5cEqWTuBT7ANPGSQLt1mH+ozRnf2uZHIo5hzaBUEaFGGVZkq/aXrTxFNXPfCm9ir2ztHtlW4AAMl2IxBKc1pQ==" rel="stylesheet" href="https://assets-cdn.github.com/assets/github-e6bb18b320358b77abe040d2eb46b547.css" />
  
  
  <link crossorigin="anonymous" media="all" integrity="sha512-/YdlYmXBl0rVnTX/ANGx7YStBlWdlnfFUtRTlTr8eBpzeBkOUj1GjReYy1/BdJ4wMwOXzQEri+e91nqx5xrwGg==" rel="stylesheet" href="https://assets-cdn.github.com/assets/site-d3b91707396b15f2783f5f891bc6d36e.css" />
  

  <meta name="viewport" content="width=device-width">
  
  <title>bootstrap3-wysiwyg/bootstrap3-wysihtml5.all.min.js at master · bootstrap-wysiwyg/bootstrap3-wysiwyg · GitHub</title>
    <meta name="description" content="Simple, beautiful wysiwyg editor">
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">

    
    <meta property="og:image" content="https://avatars2.githubusercontent.com/u/8781161?s=400&amp;v=4" /><meta property="og:site_name" content="GitHub" /><meta property="og:type" content="object" /><meta property="og:title" content="bootstrap-wysiwyg/bootstrap3-wysiwyg" /><meta property="og:url" content="https://github.com/bootstrap-wysiwyg/bootstrap3-wysiwyg" /><meta property="og:description" content="bootstrap3-wysiwyg - Simple, beautiful wysiwyg editor" />

  <link rel="assets" href="https://assets-cdn.github.com/">
  
  <meta name="pjax-timeout" content="1000">
  
  <meta name="request-id" content="9E11:7F9C:3031581:5790286:5B75B816" data-pjax-transient>


  

  <meta name="selected-link" value="repo_source" data-pjax-transient>

    <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
  <meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
  <meta name="google-site-verification" content="GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc">
    <meta name="google-analytics" content="UA-3769691-2">

<meta name="octolytics-host" content="collector.githubapp.com" /><meta name="octolytics-app-id" content="github" /><meta name="octolytics-event-url" content="https://collector.githubapp.com/github-external/browser_event" /><meta name="octolytics-dimension-request_id" content="9E11:7F9C:3031581:5790286:5B75B816" /><meta name="octolytics-dimension-region_edge" content="iad" /><meta name="octolytics-dimension-region_render" content="iad" />
<meta name="analytics-location" content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-pjax-transient="true" />




<meta class="js-ga-set" name="dimension1" content="Logged Out">


  

      <meta name="hostname" content="github.com">
    <meta name="user-login" content="">

      <meta name="expected-hostname" content="github.com">
    <meta name="js-proxy-site-detection-payload" content="YzI3Y2JkZmU3YzkwNWI5MmYxNDVlNDJjNDZlMDFmOGYzYmM3MzY2NDA5Y2U5NDBjNTAzMWUyN2ZhZmVlNTUwNnx7InJlbW90ZV9hZGRyZXNzIjoiNDEuMjQ4LjE0MC4yMDciLCJyZXF1ZXN0X2lkIjoiOUUxMTo3RjlDOjMwMzE1ODE6NTc5MDI4Njo1Qjc1QjgxNiIsInRpbWVzdGFtcCI6MTUzNDQ0MTQ5NCwiaG9zdCI6ImdpdGh1Yi5jb20ifQ==">

    <meta name="enabled-features" content="DASHBOARD_V2_LAYOUT_OPT_IN,EXPLORE_DISCOVER_REPOSITORIES,UNIVERSE_BANNER,FREE_TRIALS,MARKETPLACE_INSIGHTS,MARKETPLACE_PLAN_RESTRICTION_EDITOR,MARKETPLACE_SEARCH,MARKETPLACE_INSIGHTS_CONVERSION_PERCENTAGES">

  <meta name="html-safe-nonce" content="0f2cf395219c06c8d346c7bf1b297210508870bf">

  <meta http-equiv="x-pjax-version" content="60e4fa41ffbcbd51f51925bcc7ea1d9f">
  

      <link href="https://github.com/bootstrap-wysiwyg/bootstrap3-wysiwyg/commits/master.atom" rel="alternate" title="Recent Commits to bootstrap3-wysiwyg:master" type="application/atom+xml">

  <meta name="go-import" content="github.com/bootstrap-wysiwyg/bootstrap3-wysiwyg git https://github.com/bootstrap-wysiwyg/bootstrap3-wysiwyg.git">

  <meta name="octolytics-dimension-user_id" content="8781161" /><meta name="octolytics-dimension-user_login" content="bootstrap-wysiwyg" /><meta name="octolytics-dimension-repository_id" content="24063759" /><meta name="octolytics-dimension-repository_nwo" content="bootstrap-wysiwyg/bootstrap3-wysiwyg" /><meta name="octolytics-dimension-repository_public" content="true" /><meta name="octolytics-dimension-repository_is_fork" content="false" /><meta name="octolytics-dimension-repository_network_root_id" content="24063759" /><meta name="octolytics-dimension-repository_network_root_nwo" content="bootstrap-wysiwyg/bootstrap3-wysiwyg" /><meta name="octolytics-dimension-repository_explore_github_marketplace_ci_cta_shown" content="false" />


    <link rel="canonical" href="https://github.com/bootstrap-wysiwyg/bootstrap3-wysiwyg/blob/master/dist/bootstrap3-wysihtml5.all.min.js" data-pjax-transient>


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <link rel="mask-icon" href="https://assets-cdn.github.com/pinned-octocat.svg" color="#000000">
  <link rel="icon" type="image/x-icon" class="js-site-favicon" href="https://assets-cdn.github.com/favicon.ico">

<meta name="theme-color" content="#1e2327">


  <meta name="u2f-support" content="true">

<link rel="manifest" href="/manifest.json" crossOrigin="use-credentials">

  </head>

  <body class="logged-out env-production page-blob">
    

  <div class="position-relative js-header-wrapper ">
    <a href="#start-of-content" tabindex="1" class="px-2 py-4 bg-blue text-white show-on-focus js-skip-to-content">Skip to content</a>
    <div id="js-pjax-loader-bar" class="pjax-loader-bar"><div class="progress"></div></div>

    
    
    



        


  <header class="Header header-logged-out  position-relative f4 py-3" role="banner" >
    <div class="container-lg d-flex px-3">
      <div class="d-flex flex-justify-between flex-items-center">
        <a class="header-logo-invertocat my-0" href="https://github.com/" aria-label="Homepage" data-ga-click="(Logged out) Header, go to homepage, icon:logo-wordmark; experiment:site_header_dropdowns; group:control">
          <svg height="32" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
        </a>

      </div>

      <div class="HeaderMenu d-flex flex-justify-between flex-auto">
          <nav class="mt-0">
            <ul class="d-flex list-style-none">
                <li class="ml-2">
                  <a class="js-selected-navigation-item HeaderNavlink px-0 py-2 m-0" data-ga-click="Header, click, Nav menu - item:features; experiment:site_header_dropdowns; group:control" data-selected-links="/features /features/project-management /features/code-review /features/project-management /features/integrations /features" href="/features">
                    Features
</a>                </li>
                <li class="ml-4">
                  <a class="js-selected-navigation-item HeaderNavlink px-0 py-2 m-0" data-ga-click="Header, click, Nav menu - item:business; experiment:site_header_dropdowns; group:control" data-selected-links="/business /business/security /business/customers /business" href="/business">
                    Business
</a>                </li>

                <li class="ml-4">
                  <a class="js-selected-navigation-item HeaderNavlink px-0 py-2 m-0" data-ga-click="Header, click, Nav menu - item:explore; experiment:site_header_dropdowns; group:control" data-selected-links="/explore /trending /trending/developers /integrations /integrations/feature/code /integrations/feature/collaborate /integrations/feature/ship showcases showcases_search showcases_landing /explore" href="/explore">
                    Explore
</a>                </li>

                <li class="ml-4">
                      <a class="js-selected-navigation-item HeaderNavlink px-0 py-2 m-0" data-ga-click="Header, click, Nav menu - item:marketplace; experiment:site_header_dropdowns; group:control" data-selected-links=" /marketplace" href="/marketplace">
                        Marketplace
</a>                </li>
                <li class="ml-4">
                  <a class="js-selected-navigation-item HeaderNavlink px-0 py-2 m-0" data-ga-click="Header, click, Nav menu - item:pricing; experiment:site_header_dropdowns; group:control" data-selected-links="/pricing /pricing/developer /pricing/team /pricing/business-hosted /pricing/business-enterprise /pricing" href="/pricing">
                    Pricing
</a>                </li>
            </ul>
          </nav>

        <div class="d-flex">
            <div class="d-lg-flex flex-items-center mr-3">
              <div class="header-search scoped-search site-scoped-search js-site-search position-relative js-jump-to"
  role="search combobox"
  aria-owns="jump-to-results"
  aria-label="Search or jump to"
  aria-haspopup="listbox"
  aria-expanded="true"
>
  <div class="position-relative">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-site-search-form" data-scope-type="Repository" data-scope-id="24063759" data-scoped-search-url="/bootstrap-wysiwyg/bootstrap3-wysiwyg/search" data-unscoped-search-url="/search" action="/bootstrap-wysiwyg/bootstrap3-wysiwyg/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
      <label class="form-control header-search-wrapper header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center js-chromeless-input-container">
        <input type="text"
          class="form-control header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
          data-hotkey="s,/"
          name="q"
          value=""
          placeholder="Search"
          data-unscoped-placeholder="Search GitHub"
          data-scoped-placeholder="Search"
          autocapitalize="off"
          aria-autocomplete="list"
          aria-controls="jump-to-results"
          data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations#csrf-token=BUnI4dj5uZapS0vbbQOYlDw3+1agGNfbqidx6RXdl8j8EnMY7MEYjazphIxLxq++jP2o5G2Mx+gAeIUwWJ2IwQ=="
          spellcheck="false"
          autocomplete="off"
          >
          <input type="hidden" class="js-site-search-type-field" name="type" >
            <img src="https://assets-cdn.github.com/images/search-shortcut-hint.svg" alt="" class="mr-2 header-search-key-slash">

            <div class="Box position-absolute overflow-hidden d-none jump-to-suggestions js-jump-to-suggestions-container">
              <ul class="d-none js-jump-to-suggestions-template-container">
                <li class="d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item">
                  <a tabindex="-1" class="no-underline d-flex flex-auto flex-items-center p-2 jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open" href="">
                    <div class="jump-to-octicon js-jump-to-octicon mr-2 text-center d-none"></div>
                    <img class="avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar" alt="" aria-label="Team" src="" width="28" height="28">

                    <div class="jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target">
                    </div>

                    <div class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search">
                      <span class="js-jump-to-badge-search-text-default d-none" aria-label="in this repository">
                        In this repository
                      </span>
                      <span class="js-jump-to-badge-search-text-global d-none" aria-label="in all of GitHub">
                        All GitHub
                      </span>
                      <span aria-hidden="true" class="d-inline-block ml-1 v-align-middle">↵</span>
                    </div>

                    <div aria-hidden="true" class="border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump">
                      Jump to
                      <span class="d-inline-block ml-1 v-align-middle">↵</span>
                    </div>
                  </a>
                </li>
                <svg height="16" width="16" class="octicon octicon-repo flex-shrink-0 js-jump-to-repo-octicon-template" title="Repository" aria-label="Repository" viewBox="0 0 12 16" version="1.1" role="img"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"/></svg>
                <svg height="16" width="16" class="octicon octicon-project flex-shrink-0 js-jump-to-project-octicon-template" title="Project" aria-label="Project" viewBox="0 0 15 16" version="1.1" role="img"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"/></svg>
                <svg height="16" width="16" class="octicon octicon-search flex-shrink-0 js-jump-to-search-octicon-template" title="Search" aria-label="Search" viewBox="0 0 16 16" version="1.1" role="img"><path fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"/></svg>
              </ul>
              <ul class="d-none js-jump-to-no-results-template-container">
                <li class="d-flex flex-justify-center flex-items-center p-3 f5 d-none">
                  <span class="text-gray">No suggested jump to results</span>
                </li>
              </ul>

              <ul id="jump-to-results" class="js-navigation-container jump-to-suggestions-results-container js-jump-to-suggestions-results-container" >
                <li class="d-flex flex-justify-center flex-items-center p-0 f5">
                  <img src="https://assets-cdn.github.com/images/spinners/octocat-spinner-128.gif" alt="Octocat Spinner Icon" class="m-2" width="28">
                </li>
              </ul>
            </div>
      </label>
</form>  </div>
</div>

            </div>

          <span class="d-inline-block">
              <div class="HeaderNavlink px-0 py-2 m-0">
                <a class="text-bold text-white no-underline" href="/login?return_to=%2Fbootstrap-wysiwyg%2Fbootstrap3-wysiwyg%2Fblob%2Fmaster%2Fdist%2Fbootstrap3-wysihtml5.all.min.js" data-ga-click="(Logged out) Header, clicked Sign in, text:sign-in; experiment:site_header_dropdowns; group:control">Sign in</a>
                  <span class="text-gray">or</span>
                  <a class="text-bold text-white no-underline" href="/join?source=header-repo" data-ga-click="(Logged out) Header, clicked Sign up, text:sign-up; experiment:site_header_dropdowns; group:control">Sign up</a>
              </div>
          </span>
        </div>
      </div>
    </div>
  </header>

  </div>

  <div id="start-of-content" class="show-on-focus"></div>

    <div id="js-flash-container">


</div>



  <div role="main" class="application-main ">
        <div itemscope itemtype="http://schema.org/SoftwareSourceCode" class="">
    <div id="js-repo-pjax-container" data-pjax-container >
      





  



  <div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav  ">
    <div class="repohead-details-container clearfix container">

      <ul class="pagehead-actions">
  <li>
      <a href="/login?return_to=%2Fbootstrap-wysiwyg%2Fbootstrap3-wysiwyg"
    class="btn btn-sm btn-with-count tooltipped tooltipped-s"
    aria-label="You must be signed in to watch a repository" rel="nofollow">
    <svg class="octicon octicon-eye v-align-text-bottom" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
    Watch
  </a>
  <a class="social-count" href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/watchers"
     aria-label="46 users are watching this repository">
    46
  </a>

  </li>

  <li>
      <a href="/login?return_to=%2Fbootstrap-wysiwyg%2Fbootstrap3-wysiwyg"
    class="btn btn-sm btn-with-count tooltipped tooltipped-s"
    aria-label="You must be signed in to star a repository" rel="nofollow">
    <svg class="octicon octicon-star v-align-text-bottom" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74L14 6z"/></svg>
    Star
  </a>

    <a class="social-count js-social-count" href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/stargazers"
      aria-label="784 users starred this repository">
      784
    </a>

  </li>

  <li>
      <a href="/login?return_to=%2Fbootstrap-wysiwyg%2Fbootstrap3-wysiwyg"
        class="btn btn-sm btn-with-count tooltipped tooltipped-s"
        aria-label="You must be signed in to fork a repository" rel="nofollow">
        <svg class="octicon octicon-repo-forked v-align-text-bottom" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
        Fork
      </a>

    <a href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/network/members" class="social-count"
       aria-label="262 users forked this repository">
      262
    </a>
  </li>
</ul>

      <h1 class="public ">
  <svg class="octicon octicon-repo" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"/></svg>
  <span class="author" itemprop="author"><a class="url fn" rel="author" href="/bootstrap-wysiwyg">bootstrap-wysiwyg</a></span><!--
--><span class="path-divider">/</span><!--
--><strong itemprop="name"><a data-pjax="#js-repo-pjax-container" href="/bootstrap-wysiwyg/bootstrap3-wysiwyg">bootstrap3-wysiwyg</a></strong>

</h1>

    </div>
    
<nav class="reponav js-repo-nav js-sidenav-container-pjax container"
     itemscope
     itemtype="http://schema.org/BreadcrumbList"
     role="navigation"
     data-pjax="#js-repo-pjax-container">

  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a class="js-selected-navigation-item selected reponav-item" itemprop="url" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages /bootstrap-wysiwyg/bootstrap3-wysiwyg" href="/bootstrap-wysiwyg/bootstrap3-wysiwyg">
      <svg class="octicon octicon-code" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"/></svg>
      <span itemprop="name">Code</span>
      <meta itemprop="position" content="1">
</a>  </span>

    <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
      <a itemprop="url" data-hotkey="g i" class="js-selected-navigation-item reponav-item" data-selected-links="repo_issues repo_labels repo_milestones /bootstrap-wysiwyg/bootstrap3-wysiwyg/issues" href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/issues">
        <svg class="octicon octicon-issue-opened" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg>
        <span itemprop="name">Issues</span>
        <span class="Counter">100</span>
        <meta itemprop="position" content="2">
</a>    </span>

  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a data-hotkey="g p" itemprop="url" class="js-selected-navigation-item reponav-item" data-selected-links="repo_pulls checks /bootstrap-wysiwyg/bootstrap3-wysiwyg/pulls" href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/pulls">
      <svg class="octicon octicon-git-pull-request" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
      <span itemprop="name">Pull requests</span>
      <span class="Counter">13</span>
      <meta itemprop="position" content="3">
</a>  </span>

    <a data-hotkey="g b" class="js-selected-navigation-item reponav-item" data-selected-links="repo_projects new_repo_project repo_project /bootstrap-wysiwyg/bootstrap3-wysiwyg/projects" href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/projects">
      <svg class="octicon octicon-project" viewBox="0 0 15 16" version="1.1" width="15" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"/></svg>
      Projects
      <span class="Counter" >0</span>
</a>

    <a class="js-selected-navigation-item reponav-item" data-hotkey="g w" data-selected-links="repo_wiki /bootstrap-wysiwyg/bootstrap3-wysiwyg/wiki" href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/wiki">
      <svg class="octicon octicon-book" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z"/></svg>
      Wiki
</a>

  <a class="js-selected-navigation-item reponav-item" data-selected-links="repo_graphs repo_contributors dependency_graph pulse /bootstrap-wysiwyg/bootstrap3-wysiwyg/pulse" href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/pulse">
    <svg class="octicon octicon-graph" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M16 14v1H0V0h1v14h15zM5 13H3V8h2v5zm4 0H7V3h2v10zm4 0h-2V6h2v7z"/></svg>
    Insights
</a>

</nav>


  </div>

<div class="container new-discussion-timeline experiment-repo-nav  ">
  <div class="repository-content ">

    
  <a class="d-none js-permalink-shortcut" data-hotkey="y" href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/blob/7bbc35028e494e02f1b956da0a9880b841fee9e2/dist/bootstrap3-wysihtml5.all.min.js">Permalink</a>

  <!-- blob contrib key: blob_contributors:v21:1814c8c38131917ca53168206b9fc032 -->

      <div class="signup-prompt-bg rounded-1">
      <div class="signup-prompt p-4 text-center mb-4 rounded-1">
        <div class="position-relative">
          <!-- '"` --><!-- </textarea></xmp> --></option></form><form action="/site/dismiss_signup_prompt" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="8PGDzTlpPjxv6t6jr+3C7voBjT5WVer8k303Eh5r57iKGwlTacUvNGNHsVzGUYEKiWWiW5n0S+lzdfRJQOWW5g==" />
            <button type="submit" class="position-absolute top-0 right-0 btn-link link-gray" data-ga-click="(Logged out) Sign up prompt, clicked Dismiss, text:dismiss">
              Dismiss
            </button>
</form>          <h3 class="pt-2">Join GitHub today</h3>
          <p class="col-6 mx-auto">GitHub is home to over 28 million developers working together to host and review code, manage projects, and build software together.</p>
          <a class="btn btn-primary" href="/join?source=prompt-blob-show" data-ga-click="(Logged out) Sign up prompt, clicked Sign up, text:sign-up">Sign up</a>
        </div>
      </div>
    </div>


  <div class="file-navigation">
    
<div class="select-menu branch-select-menu js-menu-container js-select-menu float-left">
  <button class=" btn btn-sm select-menu-button js-menu-target css-truncate" data-hotkey="w"
    
    type="button" aria-label="Switch branches or tags" aria-expanded="false" aria-haspopup="true">
      <i>Branch:</i>
      <span class="js-select-button css-truncate-target">master</span>
  </button>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax>

    <div class="select-menu-modal">
      <div class="select-menu-header">
        <svg class="octicon octicon-x js-menu-close" role="img" aria-label="Close" viewBox="0 0 12 16" version="1.1" width="12" height="16"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/></svg>
        <span class="select-menu-title">Switch branches/tags</span>
      </div>

      <div class="select-menu-filters">
        <div class="select-menu-text-filter">
          <input type="text" aria-label="Filter branches/tags" id="context-commitish-filter-field" class="form-control js-filterable-field js-navigation-enable" placeholder="Filter branches/tags">
        </div>
        <div class="select-menu-tabs">
          <ul>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="branches" data-filter-placeholder="Filter branches/tags" class="js-select-menu-tab" role="tab">Branches</a>
            </li>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="tags" data-filter-placeholder="Find a tag…" class="js-select-menu-tab" role="tab">Tags</a>
            </li>
          </ul>
        </div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches" role="menu">

        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/blob/gh-pages/dist/bootstrap3-wysihtml5.all.min.js"
               data-name="gh-pages"
               data-skip-pjax="true"
               rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">
                gh-pages
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open selected"
               href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/blob/master/dist/bootstrap3-wysihtml5.all.min.js"
               data-name="master"
               data-skip-pjax="true"
               rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">
                master
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/blob/v0.2.x-dev/dist/bootstrap3-wysihtml5.all.min.js"
               data-name="v0.2.x-dev"
               data-skip-pjax="true"
               rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">
                v0.2.x-dev
              </span>
            </a>
        </div>

          <div class="select-menu-no-results">Nothing to show</div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.3.3/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.3.3"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.3.3">
                v0.3.3
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.3.2/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.3.2"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.3.2">
                v0.3.2
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.3.1/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.3.1"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.3.1">
                v0.3.1
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.3.0/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.3.0"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.3.0">
                v0.3.0
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.3.0-alpha.5/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.3.0-alpha.5"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.3.0-alpha.5">
                v0.3.0-alpha.5
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.3.0-alpha.4/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.3.0-alpha.4"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.3.0-alpha.4">
                v0.3.0-alpha.4
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.3.0-alpha.3/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.3.0-alpha.3"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.3.0-alpha.3">
                v0.3.0-alpha.3
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.3.0-alpha.2/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.3.0-alpha.2"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.3.0-alpha.2">
                v0.3.0-alpha.2
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.3.0-alpha.1/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.3.0-alpha.1"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.3.0-alpha.1">
                v0.3.0-alpha.1
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.2.11/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.2.11"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.2.11">
                v0.2.11
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.2.10/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.2.10"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.2.10">
                v0.2.10
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.2.10-alpha.1/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.2.10-alpha.1"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.2.10-alpha.1">
                v0.2.10-alpha.1
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.2.9/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.2.9"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.2.9">
                v0.2.9
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.2.9-alpha.1/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.2.9-alpha.1"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.2.9-alpha.1">
                v0.2.9-alpha.1
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.2.8/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.2.8"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.2.8">
                v0.2.8
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.2.8-alpha.2/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.2.8-alpha.2"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.2.8-alpha.2">
                v0.2.8-alpha.2
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.2.8-alpha.1/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.2.8-alpha.1"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.2.8-alpha.1">
                v0.2.8-alpha.1
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.2.7/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.2.7"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.2.7">
                v0.2.7
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.2.6/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.2.6"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.2.6">
                v0.2.6
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.2.5/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.2.5"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.2.5">
                v0.2.5
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.2.4/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.2.4"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.2.4">
                v0.2.4
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.2.3/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.2.3"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.2.3">
                v0.2.3
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.2.2/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.2.2"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.2.2">
                v0.2.2
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.2.1/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.2.1"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.2.1">
                v0.2.1
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.2.0/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.2.0"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.2.0">
                v0.2.0
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
              href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/v0.1.0/dist/bootstrap3-wysihtml5.all.min.js"
              data-name="v0.1.0"
              data-skip-pjax="true"
              rel="nofollow">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z"/></svg>
              <span class="select-menu-item-text css-truncate-target" title="v0.1.0">
                v0.1.0
              </span>
            </a>
        </div>

        <div class="select-menu-no-results">Nothing to show</div>
      </div>

    </div>
  </div>
</div>

    <div class="BtnGroup float-right">
      <a href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/find/master"
            class="js-pjax-capture-input btn btn-sm BtnGroup-item"
            data-pjax
            data-hotkey="t">
        Find file
      </a>
      <clipboard-copy for="blob-path" class="btn btn-sm BtnGroup-item">
        Copy path
      </clipboard-copy>
    </div>
    <div id="blob-path" class="breadcrumb">
      <span class="repo-root js-repo-root"><span class="js-path-segment"><a data-pjax="true" href="/bootstrap-wysiwyg/bootstrap3-wysiwyg"><span>bootstrap3-wysiwyg</span></a></span></span><span class="separator">/</span><span class="js-path-segment"><a data-pjax="true" href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/tree/master/dist"><span>dist</span></a></span><span class="separator">/</span><strong class="final-path">bootstrap3-wysihtml5.all.min.js</strong>
    </div>
  </div>


  <include-fragment src="/bootstrap-wysiwyg/bootstrap3-wysiwyg/contributors/master/dist/bootstrap3-wysihtml5.all.min.js" class="commit-tease commit-loader">
    <div>
      Fetching contributors&hellip;
    </div>

    <div class="commit-tease-contributors">
        <img alt="" class="loader-loading float-left" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32-EAF2F5.gif" width="16" height="16" />
      <span class="loader-error">Cannot retrieve contributors at this time</span>
    </div>
</include-fragment>


  <div class="file">
    <div class="file-header">
  <div class="file-actions">

    <div class="BtnGroup">
      <a id="raw-url" class="btn btn-sm BtnGroup-item" href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/raw/master/dist/bootstrap3-wysihtml5.all.min.js">Raw</a>
        <a class="btn btn-sm js-update-url-with-hash BtnGroup-item" data-hotkey="b" href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/blame/master/dist/bootstrap3-wysihtml5.all.min.js">Blame</a>
      <a rel="nofollow" class="btn btn-sm BtnGroup-item" href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/commits/master/dist/bootstrap3-wysihtml5.all.min.js">History</a>
    </div>

        <a class="btn-octicon tooltipped tooltipped-nw"
           href="https://desktop.github.com"
           aria-label="Open this file in GitHub Desktop"
           data-ga-click="Repository, open with desktop, type:windows">
            <svg class="octicon octicon-device-desktop" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M15 2H1c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5.34c-.25.61-.86 1.39-2.34 2h8c-1.48-.61-2.09-1.39-2.34-2H15c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm0 9H1V3h14v8z"/></svg>
        </a>

        <button type="button" class="btn-octicon disabled tooltipped tooltipped-nw"
          aria-label="You must be signed in to make or propose changes">
          <svg class="octicon octicon-pencil" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996 0 0 1 1.41 0l1.59 1.59c.39.39.39 1.02 0 1.41z"/></svg>
        </button>
        <button type="button" class="btn-octicon btn-octicon-danger disabled tooltipped tooltipped-nw"
          aria-label="You must be signed in to make or propose changes">
          <svg class="octicon octicon-trashcan" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z"/></svg>
        </button>
  </div>

  <div class="file-info">
      8 lines (8 sloc)
      <span class="file-info-divider"></span>
    206 KB
  </div>
</div>

    

  <div itemprop="text" class="blob-wrapper data type-javascript">
      <table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tr>
        <td id="L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="LC1" class="blob-code blob-code-inner js-file-line">/*! bootstrap3-wysihtml5-bower 2014-09-26 */</td>
      </tr>
      <tr>
        <td id="L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="LC2" class="blob-code blob-code-inner js-file-line">var wysihtml5,Base,Handlebars;Object.defineProperty&amp;&amp;Object.getOwnPropertyDescriptor&amp;&amp;Object.getOwnPropertyDescriptor(Element.prototype,&quot;textContent&quot;)&amp;&amp;!Object.getOwnPropertyDescriptor(Element.prototype,&quot;textContent&quot;).get&amp;&amp;!function(){var a=Object.getOwnPropertyDescriptor(Element.prototype,&quot;innerText&quot;);Object.defineProperty(Element.prototype,&quot;textContent&quot;,{get:function(){return a.get.call(this)},set:function(b){return a.set.call(this,b)}})}(),Array.isArray||(Array.isArray=function(a){return&quot;[object Array]&quot;===Object.prototype.toString.call(a)}),wysihtml5={version:&quot;0.4.15&quot;,commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:&quot;﻿&quot;,EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46},function(a,b){&quot;function&quot;==typeof define&amp;&amp;define.amd?define(a):b.rangy=a()}(function(){function a(a,b){var c=typeof a[b];return c==x||!(c!=w||!a[b])||&quot;unknown&quot;==c}function b(a,b){return!(typeof a[b]!=w||!a[b])}function c(a,b){return typeof a[b]!=y}function d(a){return function(b,c){for(var d=c.length;d--;)if(!a(b,c[d]))return!1;return!0}}function e(a){return a&amp;&amp;D(a,C)&amp;&amp;F(a,B)}function f(a){return b(a,&quot;body&quot;)?a.body:a.getElementsByTagName(&quot;body&quot;)[0]}function g(c){b(window,&quot;console&quot;)&amp;&amp;a(window.console,&quot;log&quot;)&amp;&amp;window.console.log(c)}function h(a,b){b?window.alert(a):g(a)}function i(a){H.initialized=!0,H.supported=!1,h(&quot;Rangy is not supported on this page in your browser. Reason: &quot;+a,H.config.alertOnFail)}function j(a){h(&quot;Rangy warning: &quot;+a,H.config.alertOnWarn)}function k(a){return a.message||a.description||a+&quot;&quot;}function l(){var b,c,d,h,j,l,m,o,p;if(!H.initialized){if(c=!1,d=!1,a(document,&quot;createRange&quot;)&amp;&amp;(b=document.createRange(),D(b,A)&amp;&amp;F(b,z)&amp;&amp;(c=!0)),h=f(document),!h||&quot;body&quot;!=h.nodeName.toLowerCase())return i(&quot;No body element found&quot;),void 0;if(h&amp;&amp;a(h,&quot;createTextRange&quot;)&amp;&amp;(b=h.createTextRange(),e(b)&amp;&amp;(d=!0)),!c&amp;&amp;!d)return i(&quot;Neither Range nor TextRange are available&quot;),void 0;H.initialized=!0,H.features={implementsDomRange:c,implementsTextRange:d};for(m in G)(j=G[m])instanceof n&amp;&amp;j.init(j,H);for(o=0,p=s.length;p&gt;o;++o)try{s[o](H)}catch(q){l=&quot;Rangy init listener threw an exception. Continuing. Detail: &quot;+k(q),g(l)}}}function m(a){a=a||window,l();for(var b=0,c=t.length;c&gt;b;++b)t[b](a)}function n(a,b,c){this.name=a,this.dependencies=b,this.initialized=!1,this.supported=!1,this.initializer=c}function o(a,b,c,d){var e=new n(b,c,function(a){if(!a.initialized){a.initialized=!0;try{d(H,a),a.supported=!0}catch(c){var e=&quot;Module &#39;&quot;+b+&quot;&#39; failed to load: &quot;+k(c);g(e)}}});G[b]=e}function p(){}function q(){}var r,s,t,u,v,w=&quot;object&quot;,x=&quot;function&quot;,y=&quot;undefined&quot;,z=[&quot;startContainer&quot;,&quot;startOffset&quot;,&quot;endContainer&quot;,&quot;endOffset&quot;,&quot;collapsed&quot;,&quot;commonAncestorContainer&quot;],A=[&quot;setStart&quot;,&quot;setStartBefore&quot;,&quot;setStartAfter&quot;,&quot;setEnd&quot;,&quot;setEndBefore&quot;,&quot;setEndAfter&quot;,&quot;collapse&quot;,&quot;selectNode&quot;,&quot;selectNodeContents&quot;,&quot;compareBoundaryPoints&quot;,&quot;deleteContents&quot;,&quot;extractContents&quot;,&quot;cloneContents&quot;,&quot;insertNode&quot;,&quot;surroundContents&quot;,&quot;cloneRange&quot;,&quot;toString&quot;,&quot;detach&quot;],B=[&quot;boundingHeight&quot;,&quot;boundingLeft&quot;,&quot;boundingTop&quot;,&quot;boundingWidth&quot;,&quot;htmlText&quot;,&quot;text&quot;],C=[&quot;collapse&quot;,&quot;compareEndPoints&quot;,&quot;duplicate&quot;,&quot;moveToElementText&quot;,&quot;parentElement&quot;,&quot;select&quot;,&quot;setEndPoint&quot;,&quot;getBoundingClientRect&quot;],D=d(a),E=d(b),F=d(c),G={},H={version:&quot;1.3alpha.20140804&quot;,initialized:!1,supported:!0,util:{isHostMethod:a,isHostObject:b,isHostProperty:c,areHostMethods:D,areHostObjects:E,areHostProperties:F,isTextRange:e,getBody:f},features:{},modules:G,config:{alertOnFail:!0,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==y?!0:rangyAutoInitialize}};return H.fail=i,H.warn=j,{}.hasOwnProperty?H.util.extend=function(a,b,c){var d,e,f;for(f in b)b.hasOwnProperty(f)&amp;&amp;(d=a[f],e=b[f],c&amp;&amp;null!==d&amp;&amp;&quot;object&quot;==typeof d&amp;&amp;null!==e&amp;&amp;&quot;object&quot;==typeof e&amp;&amp;H.util.extend(d,e,!0),a[f]=e);return b.hasOwnProperty(&quot;toString&quot;)&amp;&amp;(a.toString=b.toString),a}:i(&quot;hasOwnProperty not supported&quot;),function(){var a,b,c=document.createElement(&quot;div&quot;);c.appendChild(document.createElement(&quot;span&quot;)),a=[].slice;try{1==a.call(c.childNodes,0)[0].nodeType&amp;&amp;(b=function(b){return a.call(b,0)})}catch(d){}b||(b=function(a){var b,c,d=[];for(b=0,c=a.length;c&gt;b;++b)d[b]=a[b];return d}),H.util.toArray=b}(),a(document,&quot;addEventListener&quot;)?r=function(a,b,c){a.addEventListener(b,c,!1)}:a(document,&quot;attachEvent&quot;)?r=function(a,b,c){a.attachEvent(&quot;on&quot;+b,c)}:i(&quot;Document does not have required addEventListener or attachEvent method&quot;),H.util.addListener=r,s=[],H.init=l,H.addInitListener=function(a){H.initialized?a(H):s.push(a)},t=[],H.addShimListener=function(a){t.push(a)},H.shim=H.createMissingNativeApi=m,n.prototype={init:function(){var a,b,c,d,e=this.dependencies||[];for(a=0,b=e.length;b&gt;a;++a){if(d=e[a],c=G[d],!(c&amp;&amp;c instanceof n))throw Error(&quot;required module &#39;&quot;+d+&quot;&#39; not found&quot;);if(c.init(),!c.supported)throw Error(&quot;required module &#39;&quot;+d+&quot;&#39; not supported&quot;)}this.initializer(this)},fail:function(a){throw this.initialized=!0,this.supported=!1,Error(&quot;Module &#39;&quot;+this.name+&quot;&#39; failed to load: &quot;+a)},warn:function(a){H.warn(&quot;Module &quot;+this.name+&quot;: &quot;+a)},deprecationNotice:function(a,b){H.warn(&quot;DEPRECATED: &quot;+a+&quot; in module &quot;+this.name+&quot;is deprecated. Please use &quot;+b+&quot; instead&quot;)},createError:function(a){return Error(&quot;Error in Rangy &quot;+this.name+&quot; module: &quot;+a)}},H.createModule=function(a){var b,c,d;2==arguments.length?(b=arguments[1],c=[]):(b=arguments[2],c=arguments[1]),d=o(!1,a,c,b),H.initialized&amp;&amp;d.init()},H.createCoreModule=function(a,b,c){o(!0,a,b,c)},H.RangePrototype=p,H.rangePrototype=new p,H.selectionPrototype=new q,u=!1,v=function(){u||(u=!0,!H.initialized&amp;&amp;H.config.autoInitialize&amp;&amp;l())},typeof window==y?(i(&quot;No window found&quot;),void 0):typeof document==y?(i(&quot;No document found&quot;),void 0):(a(document,&quot;addEventListener&quot;)&amp;&amp;document.addEventListener(&quot;DOMContentLoaded&quot;,v,!1),r(window,&quot;load&quot;,v),H.createCoreModule(&quot;DomUtil&quot;,[],function(a,b){function c(a){var b;return typeof a.namespaceURI==I||null===(b=a.namespaceURI)||&quot;http://www.w3.org/1999/xhtml&quot;==b}function d(a){var b=a.parentNode;return 1==b.nodeType?b:null}function e(a){for(var b=0;a=a.previousSibling;)++b;return b}function f(a){switch(a.nodeType){case 7:case 10:return 0;case 3:case 8:return a.length;default:return a.childNodes.length}}function g(a,b){var c,d=[];for(c=a;c;c=c.parentNode)d.push(c);for(c=b;c;c=c.parentNode)if(F(d,c))return c;return null}function h(a,b,c){for(var d=c?b:b.parentNode;d;){if(d===a)return!0;d=d.parentNode}return!1}function i(a,b){return h(a,b,!0)}function j(a,b,c){for(var d,e=c?a:a.parentNode;e;){if(d=e.parentNode,d===b)return e;e=d}return null}function k(a){var b=a.nodeType;return 3==b||4==b||8==b}function l(a){if(!a)return!1;var b=a.nodeType;return 3==b||8==b}function m(a,b){var c=b.nextSibling,d=b.parentNode;return c?d.insertBefore(a,c):d.appendChild(a),a}function n(a,b,c){var d,f,g=a.cloneNode(!1);if(g.deleteData(0,b),a.deleteData(b,a.length-b),m(g,a),c)for(d=0;f=c[d++];)f.node==a&amp;&amp;f.offset&gt;b?(f.node=g,f.offset-=b):f.node==a.parentNode&amp;&amp;f.offset&gt;e(a)&amp;&amp;++f.offset;return g}function o(a){if(9==a.nodeType)return a;if(typeof a.ownerDocument!=I)return a.ownerDocument;if(typeof a.document!=I)return a.document;if(a.parentNode)return o(a.parentNode);throw b.createError(&quot;getDocument: no document found for node&quot;)}function p(a){var c=o(a);if(typeof c.defaultView!=I)return c.defaultView;if(typeof c.parentWindow!=I)return c.parentWindow;throw b.createError(&quot;Cannot get a window object for node&quot;)}function q(a){if(typeof a.contentDocument!=I)return a.contentDocument;if(typeof a.contentWindow!=I)return a.contentWindow.document;throw b.createError(&quot;getIframeDocument: No Document object found for iframe element&quot;)}function r(a){if(typeof a.contentWindow!=I)return a.contentWindow;if(typeof a.contentDocument!=I)return a.contentDocument.defaultView;throw b.createError(&quot;getIframeWindow: No Window object found for iframe element&quot;)}function s(a){return a&amp;&amp;J.isHostMethod(a,&quot;setTimeout&quot;)&amp;&amp;J.isHostObject(a,&quot;document&quot;)}function t(a,b,c){var d;if(a?J.isHostProperty(a,&quot;nodeType&quot;)?d=1==a.nodeType&amp;&amp;&quot;iframe&quot;==a.tagName.toLowerCase()?q(a):o(a):s(a)&amp;&amp;(d=a.document):d=document,!d)throw b.createError(c+&quot;(): Parameter must be a Window object or DOM node&quot;);return d}function u(a){for(var b;b=a.parentNode;)a=b;return a}function v(a,c,d,f){var h,i,k,l,m;if(a==d)return c===f?0:f&gt;c?-1:1;if(h=j(d,a,!0))return c&lt;=e(h)?-1:1;if(h=j(a,d,!0))return e(h)&lt;f?-1:1;if(i=g(a,d),!i)throw Error(&quot;comparePoints error: nodes have no common ancestor&quot;);if(k=a===i?i:j(a,i,!0),l=d===i?i:j(d,i,!0),k===l)throw b.createError(&quot;comparePoints got to case 4 and childA and childB are the same!&quot;);for(m=i.firstChild;m;){if(m===k)return-1;if(m===l)return 1;m=m.nextSibling}}function w(a){var b;try{return b=a.parentNode,!1}catch(c){return!0}}function x(a){if(!a)return&quot;[No node]&quot;;if(G&amp;&amp;w(a))return&quot;[Broken node]&quot;;if(k(a))return&#39;&quot;&#39;+a.data+&#39;&quot;&#39;;if(1==a.nodeType){var b=a.id?&#39; id=&quot;&#39;+a.id+&#39;&quot;&#39;:&quot;&quot;;return&quot;&lt;&quot;+a.nodeName+b+&quot;&gt;[index:&quot;+e(a)+&quot;,length:&quot;+a.childNodes.length+&quot;][&quot;+(a.innerHTML||&quot;[innerHTML not supported]&quot;).slice(0,25)+&quot;]&quot;}return a.nodeName}function y(a){for(var b,c=o(a).createDocumentFragment();b=a.firstChild;)c.appendChild(b);return c}function z(a){this.root=a,this._next=a}function A(a){return new z(a)}function B(a,b){this.node=a,this.offset=b}function C(a){this.code=this[a],this.codeName=a,this.message=&quot;DOMException: &quot;+this.codeName}var D,E,F,G,H,I=&quot;undefined&quot;,J=a.util;J.areHostMethods(document,[&quot;createDocumentFragment&quot;,&quot;createElement&quot;,&quot;createTextNode&quot;])||b.fail(&quot;document missing a Node creation method&quot;),J.isHostMethod(document,&quot;getElementsByTagName&quot;)||b.fail(&quot;document missing getElementsByTagName method&quot;),D=document.createElement(&quot;div&quot;),J.areHostMethods(D,[&quot;insertBefore&quot;,&quot;appendChild&quot;,&quot;cloneNode&quot;]||!J.areHostObjects(D,[&quot;previousSibling&quot;,&quot;nextSibling&quot;,&quot;childNodes&quot;,&quot;parentNode&quot;]))||b.fail(&quot;Incomplete Element implementation&quot;),J.isHostProperty(D,&quot;innerHTML&quot;)||b.fail(&quot;Element is missing innerHTML property&quot;),E=document.createTextNode(&quot;test&quot;),J.areHostMethods(E,[&quot;splitText&quot;,&quot;deleteData&quot;,&quot;insertData&quot;,&quot;appendData&quot;,&quot;cloneNode&quot;]||!J.areHostObjects(D,[&quot;previousSibling&quot;,&quot;nextSibling&quot;,&quot;childNodes&quot;,&quot;parentNode&quot;])||!J.areHostProperties(E,[&quot;data&quot;]))||b.fail(&quot;Incomplete Text Node implementation&quot;),F=function(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1},G=!1,function(){var b,c=document.createElement(&quot;b&quot;);c.innerHTML=&quot;1&quot;,b=c.firstChild,c.innerHTML=&quot;&lt;br&gt;&quot;,G=w(b),a.features.crashyTextNodes=G}(),typeof window.getComputedStyle!=I?H=function(a,b){return p(a).getComputedStyle(a,null)[b]}:typeof document.documentElement.currentStyle!=I?H=function(a,b){return a.currentStyle[b]}:b.fail(&quot;No means of obtaining computed style properties found&quot;),z.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var a,b,c=this._current=this._next;if(this._current)if(a=c.firstChild,a)this._next=a;else{for(b=null;c!==this.root&amp;&amp;!(b=c.nextSibling);)c=c.parentNode;this._next=b}return this._current},detach:function(){this._current=this._next=this.root=null}},B.prototype={equals:function(a){return!!a&amp;&amp;this.node===a.node&amp;&amp;this.offset==a.offset},inspect:function(){return&quot;[DomPosition(&quot;+x(this.node)+&quot;:&quot;+this.offset+&quot;)]&quot;},toString:function(){return this.inspect()}},C.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},C.prototype.toString=function(){return this.message},a.dom={arrayContains:F,isHtmlNamespace:c,parentElement:d,getNodeIndex:e,getNodeLength:f,getCommonAncestor:g,isAncestorOf:h,isOrIsAncestorOf:i,getClosestAncestorIn:j,isCharacterDataNode:k,isTextOrCommentNode:l,insertAfter:m,splitDataNode:n,getDocument:o,getWindow:p,getIframeWindow:r,getIframeDocument:q,getBody:J.getBody,isWindow:s,getContentDocument:t,getRootContainer:u,comparePoints:v,isBrokenNode:w,inspectNode:x,getComputedStyleProperty:H,fragmentFromNodeChildren:y,createIterator:A,DomPosition:B},a.DOMException=C}),H.createCoreModule(&quot;DomRange&quot;,[&quot;DomUtil&quot;],function(a){function b(a,b){return 3!=a.nodeType&amp;&amp;(gb(a,b.startContainer)||gb(a,b.endContainer))}function c(a){return a.document||hb(a.startContainer)}function d(a){return new cb(a.parentNode,fb(a))}function e(a){return new cb(a.parentNode,fb(a)+1)}function f(a,b,c){var d=11==a.nodeType?a.firstChild:a;return eb(b)?c==b.length?ab.insertAfter(a,b):b.parentNode.insertBefore(a,0==c?b:jb(b,c)):c&gt;=b.childNodes.length?b.appendChild(a):b.insertBefore(a,b.childNodes[c]),d}function g(a,b,d){if(y(a),y(b),c(b)!=c(a))throw new db(&quot;WRONG_DOCUMENT_ERR&quot;);var e=ib(a.startContainer,a.startOffset,b.endContainer,b.endOffset),f=ib(a.endContainer,a.endOffset,b.startContainer,b.startOffset);return d?0&gt;=e&amp;&amp;f&gt;=0:0&gt;e&amp;&amp;f&gt;0}function h(a){var b,d,e,f;for(e=c(a.range).createDocumentFragment();d=a.next();){if(b=a.isPartiallySelectedSubtree(),d=d.cloneNode(!b),b&amp;&amp;(f=a.getSubtreeIterator(),d.appendChild(h(f)),f.detach()),10==d.nodeType)throw new db(&quot;HIERARCHY_REQUEST_ERR&quot;);e.appendChild(d)}return e}function i(a,b,c){var d,e,f,g;for(c=c||{stop:!1};f=a.next();)if(a.isPartiallySelectedSubtree()){if(b(f)===!1)return c.stop=!0,void 0;if(g=a.getSubtreeIterator(),i(g,b,c),g.detach(),c.stop)return}else for(d=ab.createIterator(f);e=d.next();)if(b(e)===!1)return c.stop=!0,void 0}function j(a){for(var b;a.next();)a.isPartiallySelectedSubtree()?(b=a.getSubtreeIterator(),j(b),b.detach()):a.remove()}function k(a){for(var b,d,e=c(a.range).createDocumentFragment();b=a.next();){if(a.isPartiallySelectedSubtree()?(b=b.cloneNode(!1),d=a.getSubtreeIterator(),b.appendChild(k(d)),d.detach()):a.remove(),10==b.nodeType)throw new db(&quot;HIERARCHY_REQUEST_ERR&quot;);e.appendChild(b)}return e}function l(a,b,c){var d,e,f=!(!b||!b.length),g=!!c;return f&amp;&amp;(d=RegExp(&quot;^(&quot;+b.join(&quot;|&quot;)+&quot;)$&quot;)),e=[],i(new n(a,!1),function(b){var h,i;(!f||d.test(b.nodeType))&amp;&amp;(!g||c(b))&amp;&amp;(h=a.startContainer,b==h&amp;&amp;eb(h)&amp;&amp;a.startOffset==h.length||(i=a.endContainer,b==i&amp;&amp;eb(i)&amp;&amp;0==a.endOffset||e.push(b)))}),e}function m(a){var b=void 0===a.getName?&quot;Range&quot;:a.getName();return&quot;[&quot;+b+&quot;(&quot;+ab.inspectNode(a.startContainer)+&quot;:&quot;+a.startOffset+&quot;, &quot;+ab.inspectNode(a.endContainer)+&quot;:&quot;+a.endOffset+&quot;)]&quot;}function n(a,b){if(this.range=a,this.clonePartiallySelectedTextNodes=b,!a.collapsed){this.sc=a.startContainer,this.so=a.startOffset,this.ec=a.endContainer,this.eo=a.endOffset;var c=a.commonAncestorContainer;this.sc===this.ec&amp;&amp;eb(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==c||eb(this.sc)?kb(this.sc,c,!0):this.sc.childNodes[this.so],this._last=this.ec!==c||eb(this.ec)?kb(this.ec,c,!0):this.ec.childNodes[this.eo-1])}}function o(a){return function(b,c){for(var d,e=c?b:b.parentNode;e;){if(d=e.nodeType,mb(a,d))return e;e=e.parentNode}return null}}function p(a,b){if(P(a,b))throw new db(&quot;INVALID_NODE_TYPE_ERR&quot;)}function q(a,b){if(!mb(b,a.nodeType))throw new db(&quot;INVALID_NODE_TYPE_ERR&quot;)}function r(a,b){if(0&gt;b||b&gt;(eb(a)?a.length:a.childNodes.length))throw new db(&quot;INDEX_SIZE_ERR&quot;)}function s(a,b){if(N(a,!0)!==N(b,!0))throw new db(&quot;WRONG_DOCUMENT_ERR&quot;)}function t(a){if(O(a,!0))throw new db(&quot;NO_MODIFICATION_ALLOWED_ERR&quot;)}function u(a,b){if(!a)throw new db(b)}function v(a){return ob&amp;&amp;ab.isBrokenNode(a)||!mb(J,a.nodeType)&amp;&amp;!N(a,!0)}function w(a,b){return b&lt;=(eb(a)?a.length:a.childNodes.length)}function x(a){return!!a.startContainer&amp;&amp;!!a.endContainer&amp;&amp;!v(a.startContainer)&amp;&amp;!v(a.endContainer)&amp;&amp;w(a.startContainer,a.startOffset)&amp;&amp;w(a.endContainer,a.endOffset)}function y(a){if(!x(a))throw Error(&quot;Range error: Range is no longer valid after DOM mutation (&quot;+a.inspect()+&quot;)&quot;)}function z(a,b){var c,d,e,f,g;y(a),c=a.startContainer,d=a.startOffset,e=a.endContainer,f=a.endOffset,g=c===e,eb(e)&amp;&amp;f&gt;0&amp;&amp;f&lt;e.length&amp;&amp;jb(e,f,b),eb(c)&amp;&amp;d&gt;0&amp;&amp;d&lt;c.length&amp;&amp;(c=jb(c,d,b),g?(f-=d,e=c):e==c.parentNode&amp;&amp;f&gt;=fb(c)&amp;&amp;f++,d=0),a.setStartAndEnd(c,d,e,f)}function A(a){y(a);var b=a.commonAncestorContainer.parentNode.cloneNode(!1);return b.appendChild(a.cloneContents()),b.innerHTML}function B(a){a.START_TO_START=U,a.START_TO_END=V,a.END_TO_END=W,a.END_TO_START=X,a.NODE_BEFORE=Y,a.NODE_AFTER=Z,a.NODE_BEFORE_AND_AFTER=$,a.NODE_INSIDE=_}function C(a){B(a),B(a.prototype)}function D(a,b){return function(){var c,d,f,g,h,j,k;return y(this),c=this.startContainer,d=this.startOffset,f=this.commonAncestorContainer,g=new n(this,!0),c!==f&amp;&amp;(h=kb(c,f,!0),j=e(h),c=j.node,d=j.offset),i(g,t),g.reset(),k=a(g),g.detach(),b(this,c,d,c,d),k}}function E(c,f){function g(a,b){return function(c){q(c,I),q(nb(c),J);var f=(a?d:e)(c);(b?h:i)(this,f.node,f.offset)}}function h(a,b,c){var d=a.endContainer,e=a.endOffset;(b!==a.startContainer||c!==a.startOffset)&amp;&amp;((nb(b)!=nb(d)||1==ib(b,c,d,e))&amp;&amp;(d=b,e=c),f(a,b,c,d,e))}function i(a,b,c){var d=a.startContainer,e=a.startOffset;(b!==a.endContainer||c!==a.endOffset)&amp;&amp;((nb(b)!=nb(d)||-1==ib(b,c,d,e))&amp;&amp;(d=b,e=c),f(a,d,e,b,c))}var l=function(){};l.prototype=a.rangePrototype,c.prototype=new l,bb.extend(c.prototype,{setStart:function(a,b){p(a,!0),r(a,b),h(this,a,b)},setEnd:function(a,b){p(a,!0),r(a,b),i(this,a,b)},setStartAndEnd:function(){var a=arguments,b=a[0],c=a[1],d=b,e=c;switch(a.length){case 3:e=a[2];break;case 4:d=a[2],e=a[3]}f(this,b,c,d,e)},setBoundary:function(a,b,c){this[&quot;set&quot;+(c?&quot;Start&quot;:&quot;End&quot;)](a,b)},setStartBefore:g(!0,!0),setStartAfter:g(!1,!0),setEndBefore:g(!0,!1),setEndAfter:g(!1,!1),collapse:function(a){y(this),a?f(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):f(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(a){p(a,!0),f(this,a,0,a,lb(a))},selectNode:function(a){p(a,!1),q(a,I);var b=d(a),c=e(a);f(this,b.node,b.offset,c.node,c.offset)},extractContents:D(k,f),deleteContents:D(j,f),canSurroundContents:function(){var a,c;return y(this),t(this.startContainer),t(this.endContainer),a=new n(this,!0),c=a._first&amp;&amp;b(a._first,this)||a._last&amp;&amp;b(a._last,this),a.detach(),!c},splitBoundaries:function(){z(this)},splitBoundariesPreservingPositions:function(a){z(this,a)},normalizeBoundaries:function(){var a,b,c,d,e,g,h,i,j;y(this),a=this.startContainer,b=this.startOffset,c=this.endContainer,d=this.endOffset,e=function(a){var b=a.nextSibling;b&amp;&amp;b.nodeType==a.nodeType&amp;&amp;(c=a,d=a.length,a.appendData(b.data),b.parentNode.removeChild(b))},g=function(e){var f,g,h=e.previousSibling;h&amp;&amp;h.nodeType==e.nodeType&amp;&amp;(a=e,f=e.length,b=h.length,e.insertData(0,h.data),h.parentNode.removeChild(h),a==c?(d+=b,c=a):c==e.parentNode&amp;&amp;(g=fb(e),d==g?(c=e,d=f):d&gt;g&amp;&amp;d--))},h=!0,eb(c)?c.length==d&amp;&amp;e(c):(d&gt;0&amp;&amp;(i=c.childNodes[d-1],i&amp;&amp;eb(i)&amp;&amp;e(i)),h=!this.collapsed),h?eb(a)?0==b&amp;&amp;g(a):b&lt;a.childNodes.length&amp;&amp;(j=a.childNodes[b],j&amp;&amp;eb(j)&amp;&amp;g(j)):(a=c,b=d),f(this,a,b,c,d)},collapseToPoint:function(a,b){p(a,!0),r(a,b),this.setStartAndEnd(a,b)}}),C(c)}function F(a){a.collapsed=a.startContainer===a.endContainer&amp;&amp;a.startOffset===a.endOffset,a.commonAncestorContainer=a.collapsed?a.startContainer:ab.getCommonAncestor(a.startContainer,a.endContainer)}function G(a,b,c,d,e){a.startContainer=b,a.startOffset=c,a.endContainer=d,a.endOffset=e,a.document=ab.getDocument(b),F(a)}function H(a){this.startContainer=a,this.startOffset=0,this.endContainer=a,this.endOffset=0,this.document=a,F(this)}var I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab=a.dom,bb=a.util,cb=ab.DomPosition,db=a.DOMException,eb=ab.isCharacterDataNode,fb=ab.getNodeIndex,gb=ab.isOrIsAncestorOf,hb=ab.getDocument,ib=ab.comparePoints,jb=ab.splitDataNode,kb=ab.getClosestAncestorIn,lb=ab.getNodeLength,mb=ab.arrayContains,nb=ab.getRootContainer,ob=a.features.crashyTextNodes;n.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;return a&amp;&amp;(this._next=a!==this._last?a.nextSibling:null,eb(a)&amp;&amp;this.clonePartiallySelectedTextNodes&amp;&amp;(a===this.ec&amp;&amp;(a=a.cloneNode(!0)).deleteData(this.eo,a.length-this.eo),this._current===this.sc&amp;&amp;(a=a.cloneNode(!0)).deleteData(0,this.so))),a},remove:function(){var a,b,c=this._current;!eb(c)||c!==this.sc&amp;&amp;c!==this.ec?c.parentNode&amp;&amp;c.parentNode.removeChild(c):(a=c===this.sc?this.so:0,b=c===this.ec?this.eo:c.length,a!=b&amp;&amp;c.deleteData(a,b-a))},isPartiallySelectedSubtree:function(){var a=this._current;return b(a,this.range)},getSubtreeIterator:function(){var a,b,d,e,f,g;return this.isSingleCharacterDataNode?(a=this.range.cloneRange(),a.collapse(!1)):(a=new H(c(this.range)),b=this._current,d=b,e=0,f=b,g=lb(b),gb(b,this.sc)&amp;&amp;(d=this.sc,e=this.so),gb(b,this.ec)&amp;&amp;(f=this.ec,g=this.eo),G(a,d,e,f,g)),new n(a,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},I=[1,3,4,5,7,8,10],J=[2,9,11],K=[5,6,10,12],L=[1,3,4,5,7,8,10,11],M=[1,3,4,5,7,8],N=o([9,11]),O=o(K),P=o([6,10,12]),Q=document.createElement(&quot;style&quot;),R=!1;try{Q.innerHTML=&quot;&lt;b&gt;x&lt;/b&gt;&quot;,R=3==Q.firstChild.nodeType}catch(pb){}a.features.htmlParsingConforms=R,S=R?function(a){var b,c=this.startContainer,d=hb(c);if(!c)throw new db(&quot;INVALID_STATE_ERR&quot;);return b=null,1==c.nodeType?b=c:eb(c)&amp;&amp;(b=ab.parentElement(c)),b=null===b||&quot;HTML&quot;==b.nodeName&amp;&amp;ab.isHtmlNamespace(hb(b).documentElement)&amp;&amp;ab.isHtmlNamespace(b)?d.createElement(&quot;body&quot;):b.cloneNode(!1),b.innerHTML=a,ab.fragmentFromNodeChildren(b)}:function(a){var b=c(this),d=b.createElement(&quot;body&quot;);return d.innerHTML=a,ab.fragmentFromNodeChildren(d)},T=[&quot;startContainer&quot;,&quot;startOffset&quot;,&quot;endContainer&quot;,&quot;endOffset&quot;,&quot;collapsed&quot;,&quot;commonAncestorContainer&quot;],U=0,V=1,W=2,X=3,Y=0,Z=1,$=2,_=3,bb.extend(a.rangePrototype,{compareBoundaryPoints:function(a,b){var c,d,e,f,g,h;return y(this),s(this.startContainer,b.startContainer),g=a==X||a==U?&quot;start&quot;:&quot;end&quot;,h=a==V||a==U?&quot;start&quot;:&quot;end&quot;,c=this[g+&quot;Container&quot;],d=this[g+&quot;Offset&quot;],e=b[h+&quot;Container&quot;],f=b[h+&quot;Offset&quot;],ib(c,d,e,f)},insertNode:function(a){if(y(this),q(a,L),t(this.startContainer),gb(a,this.startContainer))throw new db(&quot;HIERARCHY_REQUEST_ERR&quot;);var b=f(a,this.startContainer,this.startOffset);this.setStartBefore(b)},cloneContents:function(){var a,b,d;return y(this),this.collapsed?c(this).createDocumentFragment():this.startContainer===this.endContainer&amp;&amp;eb(this.startContainer)?(a=this.startContainer.cloneNode(!0),a.data=a.data.slice(this.startOffset,this.endOffset),b=c(this).createDocumentFragment(),b.appendChild(a),b):(d=new n(this,!0),a=h(d),d.detach(),a)},canSurroundContents:function(){var a,c;return y(this),t(this.startContainer),t(this.endContainer),a=new n(this,!0),c=a._first&amp;&amp;b(a._first,this)||a._last&amp;&amp;b(a._last,this),a.detach(),!c},surroundContents:function(a){if(q(a,M),!this.canSurroundContents())throw new db(&quot;INVALID_STATE_ERR&quot;);var b=this.extractContents();if(a.hasChildNodes())for(;a.lastChild;)a.removeChild(a.lastChild);f(a,this.startContainer,this.startOffset),a.appendChild(b),this.selectNode(a)},cloneRange:function(){var a,b,d;for(y(this),a=new H(c(this)),b=T.length;b--;)d=T[b],a[d]=this[d];return a},toString:function(){var a,b,c;return y(this),a=this.startContainer,a===this.endContainer&amp;&amp;eb(a)?3==a.nodeType||4==a.nodeType?a.data.slice(this.startOffset,this.endOffset):&quot;&quot;:(b=[],c=new n(this,!0),i(c,function(a){(3==a.nodeType||4==a.nodeType)&amp;&amp;b.push(a.data)}),c.detach(),b.join(&quot;&quot;))},compareNode:function(a){var b,c,d,e;if(y(this),b=a.parentNode,c=fb(a),!b)throw new db(&quot;NOT_FOUND_ERR&quot;);return d=this.comparePoint(b,c),e=this.comparePoint(b,c+1),0&gt;d?e&gt;0?$:Y:e&gt;0?Z:_},comparePoint:function(a,b){return y(this),u(a,&quot;HIERARCHY_REQUEST_ERR&quot;),s(a,this.startContainer),ib(a,b,this.startContainer,this.startOffset)&lt;0?-1:ib(a,b,this.endContainer,this.endOffset)&gt;0?1:0},createContextualFragment:S,toHtml:function(){return A(this)},intersectsNode:function(a,b){var d,e,f,g;return y(this),u(a,&quot;NOT_FOUND_ERR&quot;),hb(a)!==c(this)?!1:(d=a.parentNode,e=fb(a),u(d,&quot;NOT_FOUND_ERR&quot;),f=ib(d,e,this.endContainer,this.endOffset),g=ib(d,e+1,this.startContainer,this.startOffset),b?0&gt;=f&amp;&amp;g&gt;=0:0&gt;f&amp;&amp;g&gt;0)},isPointInRange:function(a,b){return y(this),u(a,&quot;HIERARCHY_REQUEST_ERR&quot;),s(a,this.startContainer),ib(a,b,this.startContainer,this.startOffset)&gt;=0&amp;&amp;ib(a,b,this.endContainer,this.endOffset)&lt;=0},intersectsRange:function(a){return g(this,a,!1)},intersectsOrTouchesRange:function(a){return g(this,a,!0)},intersection:function(a){var b,c,d;return this.intersectsRange(a)?(b=ib(this.startContainer,this.startOffset,a.startContainer,a.startOffset),c=ib(this.endContainer,this.endOffset,a.endContainer,a.endOffset),d=this.cloneRange(),-1==b&amp;&amp;d.setStart(a.startContainer,a.startOffset),1==c&amp;&amp;d.setEnd(a.endContainer,a.endOffset),d):null},union:function(a){if(this.intersectsOrTouchesRange(a)){var b=this.cloneRange();return-1==ib(a.startContainer,a.startOffset,this.startContainer,this.startOffset)&amp;&amp;b.setStart(a.startContainer,a.startOffset),1==ib(a.endContainer,a.endOffset,this.endContainer,this.endOffset)&amp;&amp;b.setEnd(a.endContainer,a.endOffset),b}throw new db(&quot;Ranges do not intersect&quot;)},containsNode:function(a,b){return b?this.intersectsNode(a,!1):this.compareNode(a)==_},containsNodeContents:function(a){return this.comparePoint(a,0)&gt;=0&amp;&amp;this.comparePoint(a,lb(a))&lt;=0},containsRange:function(a){var b=this.intersection(a);return null!==b&amp;&amp;a.equals(b)},containsNodeText:function(a){var b,c,d=this.cloneRange();return d.selectNode(a),b=d.getNodes([3]),b.length&gt;0?(d.setStart(b[0],0),c=b.pop(),d.setEnd(c,c.length),this.containsRange(d)):this.containsNodeContents(a)},getNodes:function(a,b){return y(this),l(this,a,b)},getDocument:function(){return c(this)},collapseBefore:function(a){this.setEndBefore(a),this.collapse(!1)},collapseAfter:function(a){this.setStartAfter(a),this.collapse(!0)},getBookmark:function(b){var d,e,f,g=c(this),h=a.createRange(g);return b=b||ab.getBody(g),h.selectNodeContents(b),d=this.intersection(h),e=0,f=0,d&amp;&amp;(h.setEnd(d.startContainer,d.startOffset),e=(&quot;&quot;+h).length,f=e+(&quot;&quot;+d).length),{start:e,end:f,containerNode:b}},moveToBookmark:function(a){var b,c,d,e,f,g,h,i=a.containerNode,j=0;for(this.setStart(i,0),this.collapse(!0),b=[i],d=!1,e=!1;!e&amp;&amp;(c=b.pop());)if(3==c.nodeType)f=j+c.length,!d&amp;&amp;a.start&gt;=j&amp;&amp;a.start&lt;=f&amp;&amp;(this.setStart(c,a.start-j),d=!0),d&amp;&amp;a.end&gt;=j&amp;&amp;a.end&lt;=f&amp;&amp;(this.setEnd(c,a.end-j),e=!0),j=f;else for(h=c.childNodes,g=h.length;g--;)b.push(h[g])},getName:function(){return&quot;DomRange&quot;},equals:function(a){return H.rangesEqual(this,a)},isValid:function(){return x(this)},inspect:function(){return m(this)},detach:function(){}}),E(H,G),bb.extend(H,{rangeProperties:T,RangeIterator:n,copyComparisonConstants:C,createPrototypeRange:E,inspect:m,toHtml:A,getRangeDocument:c,rangesEqual:function(a,b){return a.startContainer===b.startContainer&amp;&amp;a.startOffset===b.startOffset&amp;&amp;a.endContainer===b.endContainer&amp;&amp;a.endOffset===b.endOffset}}),a.DomRange=H}),H.createCoreModule(&quot;WrappedRange&quot;,[&quot;DomRange&quot;],function(a,b){var c,d,e,f,g,h,i,j,k=a.dom,l=a.util,m=k.DomPosition,n=a.DomRange,o=k.getBody,p=k.getContentDocument,q=k.isCharacterDataNode;a.features.implementsDomRange&amp;&amp;!function(){function d(a){for(var b,c=s.length;c--;)b=s[c],a[b]=a.nativeRange[b];a.collapsed=a.startContainer===a.endContainer&amp;&amp;a.startOffset===a.endOffset}function e(a,b,c,d,e){var f=a.startContainer!==b||a.startOffset!=c,g=a.endContainer!==d||a.endOffset!=e,h=!a.equals(a.nativeRange);(f||g||h)&amp;&amp;(a.setEnd(d,e),a.setStart(b,c))}var f,g,h,i,j,m,q,r,s=n.rangeProperties;c=function(a){if(!a)throw b.createError(&quot;WrappedRange: Range must be specified&quot;);this.nativeRange=a,d(this)},n.createPrototypeRange(c,e),f=c.prototype,f.selectNode=function(a){this.nativeRange.selectNode(a),d(this)},f.cloneContents=function(){return this.nativeRange.cloneContents()},f.surroundContents=function(a){this.nativeRange.surroundContents(a),d(this)},f.collapse=function(a){this.nativeRange.collapse(a),d(this)},f.cloneRange=function(){return new c(this.nativeRange.cloneRange())},f.refresh=function(){d(this)},f.toString=function(){return&quot;&quot;+this.nativeRange},h=document.createTextNode(&quot;test&quot;),o(document).appendChild(h),i=document.createRange(),i.setStart(h,0),i.setEnd(h,0);try{i.setStart(h,1),f.setStart=function(a,b){this.nativeRange.setStart(a,b),d(this)},f.setEnd=function(a,b){this.nativeRange.setEnd(a,b),d(this)},g=function(a){return function(b){this.nativeRange[a](b),d(this)}}}catch(t){f.setStart=function(a,b){try{this.nativeRange.setStart(a,b)}catch(c){this.nativeRange.setEnd(a,b),this.nativeRange.setStart(a,b)}d(this)},f.setEnd=function(a,b){try{this.nativeRange.setEnd(a,b)}catch(c){this.nativeRange.setStart(a,b),this.nativeRange.setEnd(a,b)}d(this)},g=function(a,b){return function(c){try{this.nativeRange[a](c)}catch(e){this.nativeRange[b](c),this.nativeRange[a](c)}d(this)}}}f.setStartBefore=g(&quot;setStartBefore&quot;,&quot;setEndBefore&quot;),f.setStartAfter=g(&quot;setStartAfter&quot;,&quot;setEndAfter&quot;),f.setEndBefore=g(&quot;setEndBefore&quot;,&quot;setStartBefore&quot;),f.setEndAfter=g(&quot;setEndAfter&quot;,&quot;setStartAfter&quot;),f.selectNodeContents=function(a){this.setStartAndEnd(a,0,k.getNodeLength(a))},i.selectNodeContents(h),i.setEnd(h,3),j=document.createRange(),j.selectNodeContents(h),j.setEnd(h,4),j.setStart(h,2),f.compareBoundaryPoints=-1==i.compareBoundaryPoints(i.START_TO_END,j)&amp;&amp;1==i.compareBoundaryPoints(i.END_TO_START,j)?function(a,b){return b=b.nativeRange||b,a==b.START_TO_END?a=b.END_TO_START:a==b.END_TO_START&amp;&amp;(a=b.START_TO_END),this.nativeRange.compareBoundaryPoints(a,b)}:function(a,b){return this.nativeRange.compareBoundaryPoints(a,b.nativeRange||b)},m=document.createElement(&quot;div&quot;),m.innerHTML=&quot;123&quot;,q=m.firstChild,r=o(document),r.appendChild(m),i.setStart(q,1),i.setEnd(q,2),i.deleteContents(),&quot;13&quot;==q.data&amp;&amp;(f.deleteContents=function(){this.nativeRange.deleteContents(),d(this)},f.extractContents=function(){var a=this.nativeRange.extractContents();return d(this),a}),r.removeChild(m),r=null,l.isHostMethod(i,&quot;createContextualFragment&quot;)&amp;&amp;(f.createContextualFragment=function(a){return this.nativeRange.createContextualFragment(a)}),o(document).removeChild(h),f.getName=function(){return&quot;WrappedRange&quot;},a.WrappedRange=c,a.createNativeRange=function(a){return a=p(a,b,&quot;createNativeRange&quot;),a.createRange()}}(),a.features.implementsTextRange&amp;&amp;(e=function(a){var b,c,d,e=a.parentElement(),f=a.duplicate();return f.collapse(!0),b=f.parentElement(),f=a.duplicate(),f.collapse(!1),c=f.parentElement(),d=b==c?b:k.getCommonAncestor(b,c),d==e?d:k.getCommonAncestor(e,d)},f=function(a){return 0==a.compareEndPoints(&quot;StartToEnd&quot;,a)},g=function(a,b,c,d,e){var f,g,h,i,j,l,n,o,p,r,s,t,u,v,w,x,y=a.duplicate();if(y.collapse(c),f=y.parentElement(),k.isOrIsAncestorOf(b,f)||(f=b),!f.canHaveHTML)return g=new m(f.parentNode,k.getNodeIndex(f)),{boundaryPosition:g,nodeInfo:{nodeIndex:g.offset,containerElement:g.node}};for(h=k.getDocument(f).createElement(&quot;span&quot;),h.parentNode&amp;&amp;h.parentNode.removeChild(h),j=c?&quot;StartToStart&quot;:&quot;StartToEnd&quot;,r=e&amp;&amp;e.containerElement==f?e.nodeIndex:0,s=f.childNodes.length,t=s,u=t;;){if(u==s?f.appendChild(h):f.insertBefore(h,f.childNodes[u]),y.moveToElementText(h),i=y.compareEndPoints(j,a),0==i||r==t)break;if(-1==i){if(t==r+1)break;r=u}else t=t==r+1?r:u;u=Math.floor((r+t)/2),f.removeChild(h)}if(p=h.nextSibling,-1==i&amp;&amp;p&amp;&amp;q(p)){if(y.setEndPoint(c?&quot;EndToStart&quot;:&quot;EndToEnd&quot;,a),/[\r\n]/.test(p.data))for(w=y.duplicate(),x=w.text.replace(/\r\n/g,&quot;\r&quot;).length,v=w.moveStart(&quot;character&quot;,x);-1==(i=w.compareEndPoints(&quot;StartToEnd&quot;,w));)v++,w.moveStart(&quot;character&quot;,1);else v=y.text.length;o=new m(p,v)}else l=(d||!c)&amp;&amp;h.previousSibling,n=(d||c)&amp;&amp;h.nextSibling,o=n&amp;&amp;q(n)?new m(n,0):l&amp;&amp;q(l)?new m(l,l.data.length):new m(f,k.getNodeIndex(h));return h.parentNode.removeChild(h),{boundaryPosition:o,nodeInfo:{nodeIndex:u,containerElement:f}}},h=function(a,b){var c,d,e,f,g=a.offset,h=k.getDocument(a.node),i=o(h).createTextRange(),j=q(a.node);return j?(c=a.node,d=c.parentNode):(f=a.node.childNodes,c=g&lt;f.length?f[g]:null,d=a.node),e=h.createElement(&quot;span&quot;),e.innerHTML=&quot;&amp;#feff;&quot;,c?d.insertBefore(e,c):d.appendChild(e),i.moveToElementText(e),i.collapse(!b),d.removeChild(e),j&amp;&amp;i[b?&quot;moveStart&quot;:&quot;moveEnd&quot;](&quot;character&quot;,g),i},d=function(a){this.textRange=a,this.refresh()},d.prototype=new n(document),d.prototype.refresh=function(){var a,b,c,d=e(this.textRange);</td>
      </tr>
      <tr>
        <td id="L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="LC3" class="blob-code blob-code-inner js-file-line">f(this.textRange)?b=a=g(this.textRange,d,!0,!0).boundaryPosition:(c=g(this.textRange,d,!0,!1),a=c.boundaryPosition,b=g(this.textRange,d,!1,!1,c.nodeInfo).boundaryPosition),this.setStart(a.node,a.offset),this.setEnd(b.node,b.offset)},d.prototype.getName=function(){return&quot;WrappedTextRange&quot;},n.copyComparisonConstants(d),i=function(a){var b,c,d;return a.collapsed?h(new m(a.startContainer,a.startOffset),!0):(b=h(new m(a.startContainer,a.startOffset),!0),c=h(new m(a.endContainer,a.endOffset),!1),d=o(n.getRangeDocument(a)).createTextRange(),d.setEndPoint(&quot;StartToStart&quot;,b),d.setEndPoint(&quot;EndToEnd&quot;,c),d)},d.rangeToTextRange=i,d.prototype.toTextRange=function(){return i(this)},a.WrappedTextRange=d,(!a.features.implementsDomRange||a.config.preferTextRange)&amp;&amp;(j=function(){return this}(),void 0===j.Range&amp;&amp;(j.Range=d),a.createNativeRange=function(a){return a=p(a,b,&quot;createNativeRange&quot;),o(a).createTextRange()},a.WrappedRange=d)),a.createRange=function(c){return c=p(c,b,&quot;createRange&quot;),new a.WrappedRange(a.createNativeRange(c))},a.createRangyRange=function(a){return a=p(a,b,&quot;createRangyRange&quot;),new n(a)},a.createIframeRange=function(c){return b.deprecationNotice(&quot;createIframeRange()&quot;,&quot;createRange(iframeEl)&quot;),a.createRange(c)},a.createIframeRangyRange=function(c){return b.deprecationNotice(&quot;createIframeRangyRange()&quot;,&quot;createRangyRange(iframeEl)&quot;),a.createRangyRange(c)},a.addShimListener(function(b){var c=b.document;void 0===c.createRange&amp;&amp;(c.createRange=function(){return a.createRange(c)}),c=b=null})}),H.createCoreModule(&quot;WrappedSelection&quot;,[&quot;DomRange&quot;,&quot;WrappedRange&quot;],function(a,b){function c(a){return&quot;string&quot;==typeof a?/^backward(s)?$/i.test(a):!!a}function d(a,c){if(a){if(A.isWindow(a))return a;if(a instanceof r)return a.win;var d=A.getContentDocument(a,b,c);return A.getWindow(d)}return window}function e(a){return d(a,&quot;getWinSelection&quot;).getSelection()}function f(a){return d(a,&quot;getDocSelection&quot;).document.selection}function g(a){var b=!1;return a.anchorNode&amp;&amp;(b=1==A.comparePoints(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset)),b}function h(a,b,c){var d=c?&quot;end&quot;:&quot;start&quot;,e=c?&quot;start&quot;:&quot;end&quot;;a.anchorNode=b[d+&quot;Container&quot;],a.anchorOffset=b[d+&quot;Offset&quot;],a.focusNode=b[e+&quot;Container&quot;],a.focusOffset=b[e+&quot;Offset&quot;]}function i(a){var b=a.nativeSelection;a.anchorNode=b.anchorNode,a.anchorOffset=b.anchorOffset,a.focusNode=b.focusNode,a.focusOffset=b.focusOffset}function j(a){a.anchorNode=a.focusNode=null,a.anchorOffset=a.focusOffset=0,a.rangeCount=0,a.isCollapsed=!0,a._ranges.length=0}function k(b){var c;return b instanceof D?(c=a.createNativeRange(b.getDocument()),c.setEnd(b.endContainer,b.endOffset),c.setStart(b.startContainer,b.startOffset)):b instanceof E?c=b.nativeRange:J.implementsDomRange&amp;&amp;b instanceof A.getWindow(b.startContainer).Range&amp;&amp;(c=b),c}function l(a){if(!a.length||1!=a[0].nodeType)return!1;for(var b=1,c=a.length;c&gt;b;++b)if(!A.isAncestorOf(a[0],a[b]))return!1;return!0}function m(a){var c=a.getNodes();if(!l(c))throw b.createError(&quot;getSingleElementFromRange: range &quot;+a.inspect()+&quot; did not consist of a single element&quot;);return c[0]}function n(a){return!!a&amp;&amp;void 0!==a.text}function o(a,b){var c=new E(b);a._ranges=[c],h(a,c,!1),a.rangeCount=1,a.isCollapsed=c.collapsed}function p(b){var c,d,e,f;if(b._ranges.length=0,&quot;None&quot;==b.docSelection.type)j(b);else if(c=b.docSelection.createRange(),n(c))o(b,c);else{for(b.rangeCount=c.length,e=L(c.item(0)),f=0;f&lt;b.rangeCount;++f)d=a.createRange(e),d.selectNode(c.item(f)),b._ranges.push(d);b.isCollapsed=1==b.rangeCount&amp;&amp;b._ranges[0].collapsed,h(b,b._ranges[b.rangeCount-1],!1)}}function q(a,c){var d,e,f=a.docSelection.createRange(),g=m(c),h=L(f.item(0)),i=M(h).createControlRange();for(d=0,e=f.length;e&gt;d;++d)i.add(f.item(d));try{i.add(g)}catch(j){throw b.createError(&quot;addRange(): Element within the specified Range could not be added to control selection (does it have layout?)&quot;)}i.select(),p(a)}function r(a,b,c){this.nativeSelection=a,this.docSelection=b,this._ranges=[],this.win=c,this.refresh()}function s(a){a.win=a.anchorNode=a.focusNode=a._ranges=null,a.rangeCount=a.anchorOffset=a.focusOffset=0,a.detached=!0}function t(a,b){for(var c,d,e=bb.length;e--;)if(c=bb[e],d=c.selection,&quot;deleteAll&quot;==b)s(d);else if(c.win==a)return&quot;delete&quot;==b?(bb.splice(e,1),!0):d;return&quot;deleteAll&quot;==b&amp;&amp;(bb.length=0),null}function u(a,c){var d,e,f,g=L(c[0].startContainer),h=M(g).createControlRange();for(d=0,f=c.length;f&gt;d;++d){e=m(c[d]);try{h.add(e)}catch(i){throw b.createError(&quot;setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)&quot;)}}h.select(),p(a)}function v(a,b){if(a.win.document!=L(b))throw new F(&quot;WRONG_DOCUMENT_ERR&quot;)}function w(b){return function(c,d){var e;this.rangeCount?(e=this.getRangeAt(0),e[&quot;set&quot;+(b?&quot;Start&quot;:&quot;End&quot;)](c,d)):(e=a.createRange(this.win.document),e.setStartAndEnd(c,d)),this.setSingleRange(e,this.isBackward())}}function x(a){var b,c,d=[],e=new G(a.anchorNode,a.anchorOffset),f=new G(a.focusNode,a.focusOffset),g=&quot;function&quot;==typeof a.getName?a.getName():&quot;Selection&quot;;if(void 0!==a.rangeCount)for(b=0,c=a.rangeCount;c&gt;b;++b)d[b]=D.inspect(a.getRangeAt(b));return&quot;[&quot;+g+&quot;(Ranges: &quot;+d.join(&quot;, &quot;)+&quot;)(anchor: &quot;+e.inspect()+&quot;, focus: &quot;+f.inspect()+&quot;]&quot;}var y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb;if(a.config.checkSelectionRanges=!0,y=&quot;boolean&quot;,z=&quot;number&quot;,A=a.dom,B=a.util,C=B.isHostMethod,D=a.DomRange,E=a.WrappedRange,F=a.DOMException,G=A.DomPosition,J=a.features,K=&quot;Control&quot;,L=A.getDocument,M=A.getBody,N=D.rangesEqual,O=C(window,&quot;getSelection&quot;),P=B.isHostObject(document,&quot;selection&quot;),J.implementsWinGetSelection=O,J.implementsDocSelection=P,Q=P&amp;&amp;(!O||a.config.preferTextRange),Q?(H=f,a.isSelectionValid=function(a){var b=d(a,&quot;isSelectionValid&quot;).document,c=b.selection;return&quot;None&quot;!=c.type||L(c.createRange().parentElement())==b}):O?(H=e,a.isSelectionValid=function(){return!0}):b.fail(&quot;Neither document.selection or window.getSelection() detected.&quot;),a.getNativeSelection=H,R=H(),S=a.createNativeRange(document),T=M(document),U=B.areHostProperties(R,[&quot;anchorNode&quot;,&quot;focusNode&quot;,&quot;anchorOffset&quot;,&quot;focusOffset&quot;]),J.selectionHasAnchorAndFocus=U,V=C(R,&quot;extend&quot;),J.selectionHasExtend=V,W=typeof R.rangeCount==z,J.selectionHasRangeCount=W,X=!1,Y=!0,Z=V?function(b,c){var d=D.getRangeDocument(c),e=a.createRange(d);e.collapseToPoint(c.endContainer,c.endOffset),b.addRange(k(e)),b.extend(c.startContainer,c.startOffset)}:null,B.areHostMethods(R,[&quot;addRange&quot;,&quot;getRangeAt&quot;,&quot;removeAllRanges&quot;])&amp;&amp;typeof R.rangeCount==z&amp;&amp;J.implementsDomRange&amp;&amp;!function(){var b,c,d,e,f,h,i,j,k,l,m,n=window.getSelection();if(n){for(b=n.rangeCount,c=b&gt;1,d=[],e=g(n),f=0;b&gt;f;++f)d[f]=n.getRangeAt(f);for(h=M(document),i=h.appendChild(document.createElement(&quot;div&quot;)),i.contentEditable=&quot;false&quot;,j=i.appendChild(document.createTextNode(&quot;   &quot;)),k=document.createRange(),k.setStart(j,1),k.collapse(!0),n.addRange(k),Y=1==n.rangeCount,n.removeAllRanges(),c||(l=window.navigator.appVersion.match(/Chrome\/(.*?) /),l&amp;&amp;parseInt(l[1])&gt;=36?X=!1:(m=k.cloneRange(),k.setStart(j,0),m.setEnd(j,3),m.setStart(j,2),n.addRange(k),n.addRange(m),X=2==n.rangeCount)),h.removeChild(i),n.removeAllRanges(),f=0;b&gt;f;++f)0==f&amp;&amp;e?Z?Z(n,d[f]):(a.warn(&quot;Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend&quot;),n.addRange(d[f])):n.addRange(d[f])}}(),J.selectionSupportsMultipleRanges=X,J.collapsedNonEditableSelectionsSupported=Y,$=!1,T&amp;&amp;C(T,&quot;createControlRange&quot;)&amp;&amp;(_=T.createControlRange(),B.areHostProperties(_,[&quot;item&quot;,&quot;add&quot;])&amp;&amp;($=!0)),J.implementsControlRange=$,I=U?function(a){return a.anchorNode===a.focusNode&amp;&amp;a.anchorOffset===a.focusOffset}:function(a){return a.rangeCount?a.getRangeAt(a.rangeCount-1).collapsed:!1},C(R,&quot;getRangeAt&quot;)?ab=function(a,b){try{return a.getRangeAt(b)}catch(c){return null}}:U&amp;&amp;(ab=function(b){var c=L(b.anchorNode),d=a.createRange(c);return d.setStartAndEnd(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset),d.collapsed!==this.isCollapsed&amp;&amp;d.setStartAndEnd(b.focusNode,b.focusOffset,b.anchorNode,b.anchorOffset),d}),r.prototype=a.selectionPrototype,bb=[],cb=function(a){var b,c,e;return a&amp;&amp;a instanceof r?(a.refresh(),a):(a=d(a,&quot;getNativeSelection&quot;),b=t(a),c=H(a),e=P?f(a):null,b?(b.nativeSelection=c,b.docSelection=e,b.refresh()):(b=new r(c,e,a),bb.push({win:a,selection:b})),b)},a.getSelection=cb,a.getIframeSelection=function(c){return b.deprecationNotice(&quot;getIframeSelection()&quot;,&quot;getSelection(iframeEl)&quot;),a.getSelection(A.getIframeWindow(c))},db=r.prototype,!Q&amp;&amp;U&amp;&amp;B.areHostMethods(R,[&quot;removeAllRanges&quot;,&quot;addRange&quot;]))db.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),j(this)},eb=function(a,b){Z(a.nativeSelection,b),a.refresh()},db.addRange=W?function(b,d){var e,f;$&amp;&amp;P&amp;&amp;this.docSelection.type==K?q(this,b):c(d)&amp;&amp;V?eb(this,b):(X?e=this.rangeCount:(this.removeAllRanges(),e=0),this.nativeSelection.addRange(k(b).cloneRange()),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==e+1?(a.config.checkSelectionRanges&amp;&amp;(f=ab(this.nativeSelection,this.rangeCount-1),f&amp;&amp;!N(f,b)&amp;&amp;(b=new E(f))),this._ranges[this.rangeCount-1]=b,h(this,b,hb(this.nativeSelection)),this.isCollapsed=I(this)):this.refresh())}:function(a,b){c(b)&amp;&amp;V?eb(this,a):(this.nativeSelection.addRange(k(a)),this.refresh())},db.setRanges=function(a){if($&amp;&amp;P&amp;&amp;a.length&gt;1)u(this,a);else{this.removeAllRanges();for(var b=0,c=a.length;c&gt;b;++b)this.addRange(a[b])}};else{if(!(C(R,&quot;empty&quot;)&amp;&amp;C(S,&quot;select&quot;)&amp;&amp;$&amp;&amp;Q))return b.fail(&quot;No means of selecting a Range or TextRange was found&quot;),!1;db.removeAllRanges=function(){var a,b,c;try{this.docSelection.empty(),&quot;None&quot;!=this.docSelection.type&amp;&amp;(this.anchorNode?a=L(this.anchorNode):this.docSelection.type==K&amp;&amp;(b=this.docSelection.createRange(),b.length&amp;&amp;(a=L(b.item(0)))),a&amp;&amp;(c=M(a).createTextRange(),c.select(),this.docSelection.empty()))}catch(d){}j(this)},db.addRange=function(b){this.docSelection.type==K?q(this,b):(a.WrappedTextRange.rangeToTextRange(b).select(),this._ranges[0]=b,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,h(this,b,!1))},db.setRanges=function(a){this.removeAllRanges();var b=a.length;b&gt;1?u(this,a):b&amp;&amp;this.addRange(a[0])}}if(db.getRangeAt=function(a){if(0&gt;a||a&gt;=this.rangeCount)throw new F(&quot;INDEX_SIZE_ERR&quot;);return this._ranges[a].cloneRange()},Q)fb=function(b){var c;a.isSelectionValid(b.win)?c=b.docSelection.createRange():(c=M(b.win.document).createTextRange(),c.collapse(!0)),b.docSelection.type==K?p(b):n(c)?o(b,c):j(b)};else if(C(R,&quot;getRangeAt&quot;)&amp;&amp;typeof R.rangeCount==z)fb=function(b){if($&amp;&amp;P&amp;&amp;b.docSelection.type==K)p(b);else if(b._ranges.length=b.rangeCount=b.nativeSelection.rangeCount,b.rangeCount){for(var c=0,d=b.rangeCount;d&gt;c;++c)b._ranges[c]=new a.WrappedRange(b.nativeSelection.getRangeAt(c));h(b,b._ranges[b.rangeCount-1],hb(b.nativeSelection)),b.isCollapsed=I(b)}else j(b)};else{if(!U||typeof R.isCollapsed!=y||typeof S.collapsed!=y||!J.implementsDomRange)return b.fail(&quot;No means of obtaining a Range or TextRange from the user&#39;s selection was found&quot;),!1;fb=function(a){var b,c=a.nativeSelection;c.anchorNode?(b=ab(c,0),a._ranges=[b],a.rangeCount=1,i(a),a.isCollapsed=I(a)):j(a)}}db.refresh=function(a){var b,c=a?this._ranges.slice(0):null,d=this.anchorNode,e=this.anchorOffset;if(fb(this),a){if(b=c.length,b!=this._ranges.length)return!0;if(this.anchorNode!=d||this.anchorOffset!=e)return!0;for(;b--;)if(!N(c[b],this._ranges[b]))return!0;return!1}},gb=function(a,b){var c,d,e=a.getAllRanges();for(a.removeAllRanges(),c=0,d=e.length;d&gt;c;++c)N(b,e[c])||a.addRange(e[c]);a.rangeCount||j(a)},db.removeRange=$&amp;&amp;P?function(a){var b,c,d,e,f,g,h,i;if(this.docSelection.type==K){for(b=this.docSelection.createRange(),c=m(a),d=L(b.item(0)),e=M(d).createControlRange(),g=!1,h=0,i=b.length;i&gt;h;++h)f=b.item(h),f!==c||g?e.add(b.item(h)):g=!0;e.select(),p(this)}else gb(this,a)}:function(a){gb(this,a)},!Q&amp;&amp;U&amp;&amp;J.implementsDomRange?(hb=g,db.isBackward=function(){return hb(this)}):hb=db.isBackward=function(){return!1},db.isBackwards=db.isBackward,db.toString=function(){var a,b,c=[];for(a=0,b=this.rangeCount;b&gt;a;++a)c[a]=&quot;&quot;+this._ranges[a];return c.join(&quot;&quot;)},db.collapse=function(b,c){v(this,b);var d=a.createRange(b);d.collapseToPoint(b,c),this.setSingleRange(d),this.isCollapsed=!0},db.collapseToStart=function(){if(!this.rangeCount)throw new F(&quot;INVALID_STATE_ERR&quot;);var a=this._ranges[0];this.collapse(a.startContainer,a.startOffset)},db.collapseToEnd=function(){if(!this.rangeCount)throw new F(&quot;INVALID_STATE_ERR&quot;);var a=this._ranges[this.rangeCount-1];this.collapse(a.endContainer,a.endOffset)},db.selectAllChildren=function(b){v(this,b);var c=a.createRange(b);c.selectNodeContents(b),this.setSingleRange(c)},db.deleteFromDocument=function(){var a,b,c,d,e;if($&amp;&amp;P&amp;&amp;this.docSelection.type==K){for(a=this.docSelection.createRange();a.length;)b=a.item(0),a.remove(b),b.parentNode.removeChild(b);this.refresh()}else if(this.rangeCount&amp;&amp;(c=this.getAllRanges(),c.length)){for(this.removeAllRanges(),d=0,e=c.length;e&gt;d;++d)c[d].deleteContents();this.addRange(c[e-1])}},db.eachRange=function(a,b){for(var c=0,d=this._ranges.length;d&gt;c;++c)if(a(this.getRangeAt(c)))return b},db.getAllRanges=function(){var a=[];return this.eachRange(function(b){a.push(b)}),a},db.setSingleRange=function(a,b){this.removeAllRanges(),this.addRange(a,b)},db.callMethodOnEachRange=function(a,b){var c=[];return this.eachRange(function(d){c.push(d[a].apply(d,b))}),c},db.setStart=w(!0),db.setEnd=w(!1),a.rangePrototype.select=function(a){cb(this.getDocument()).setSingleRange(this,a)},db.changeEachRange=function(a){var b=[],c=this.isBackward();this.eachRange(function(c){a(c),b.push(c)}),this.removeAllRanges(),c&amp;&amp;1==b.length?this.addRange(b[0],&quot;backward&quot;):this.setRanges(b)},db.containsNode=function(a,b){return this.eachRange(function(c){return c.containsNode(a,b)},!0)||!1},db.getBookmark=function(a){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange(&quot;getBookmark&quot;,[a])}},db.moveToBookmark=function(b){var c,d,e,f=[];for(c=0;d=b.rangeBookmarks[c++];)e=a.createRange(this.win),e.moveToBookmark(d),f.push(e);b.backward?this.setSingleRange(f[0],&quot;backward&quot;):this.setRanges(f)},db.toHtml=function(){var a=[];return this.eachRange(function(b){a.push(D.toHtml(b))}),a.join(&quot;&quot;)},J.implementsTextRange&amp;&amp;(db.getNativeTextRange=function(){var c,d;if(c=this.docSelection){if(d=c.createRange(),n(d))return d;throw b.createError(&quot;getNativeTextRange: selection is a control selection&quot;)}if(this.rangeCount&gt;0)return a.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw b.createError(&quot;getNativeTextRange: selection contains no range&quot;)}),db.getName=function(){return&quot;WrappedSelection&quot;},db.inspect=function(){return x(this)},db.detach=function(){t(this.win,&quot;delete&quot;),s(this)},r.detachAll=function(){t(null,&quot;deleteAll&quot;)},r.inspect=x,r.isDirectionBackward=c,a.Selection=r,a.selectionPrototype=db,a.addShimListener(function(a){void 0===a.getSelection&amp;&amp;(a.getSelection=function(){return cb(a)}),a=null})}),H)},this),function(a,b){&quot;function&quot;==typeof define&amp;&amp;define.amd?define([&quot;rangy&quot;],a):a(b.rangy)}(function(a){a.createModule(&quot;SaveRestore&quot;,[&quot;WrappedRange&quot;],function(a,b){function c(a,b){return(b||document).getElementById(a)}function d(a,b){var c,d=&quot;selectionBoundary_&quot;+ +new Date+&quot;_&quot;+(&quot;&quot;+Math.random()).slice(2),e=o.getDocument(a.startContainer),f=a.cloneRange();return f.collapse(b),c=e.createElement(&quot;span&quot;),c.id=d,c.style.lineHeight=&quot;0&quot;,c.style.display=&quot;none&quot;,c.className=&quot;rangySelectionBoundary&quot;,c.appendChild(e.createTextNode(p)),f.insertNode(c),c}function e(a,d,e,f){var g=c(e,a);g?(d[f?&quot;setStartBefore&quot;:&quot;setEndBefore&quot;](g),g.parentNode.removeChild(g)):b.warn(&quot;Marker element has been removed. Cannot restore selection.&quot;)}function f(a,b){return b.compareBoundaryPoints(a.START_TO_START,a)}function g(b,c){var e,f,g=a.DomRange.getRangeDocument(b),h=&quot;&quot;+b;return b.collapsed?(f=d(b,!1),{document:g,markerId:f.id,collapsed:!0}):(f=d(b,!1),e=d(b,!0),{document:g,startMarkerId:e.id,endMarkerId:f.id,collapsed:!1,backward:c,toString:function(){return&quot;original text: &#39;&quot;+h+&quot;&#39;, new text: &#39;&quot;+b+&quot;&#39;&quot;}})}function h(d,f){var g,h,i,j=d.document;return void 0===f&amp;&amp;(f=!0),g=a.createRange(j),d.collapsed?(h=c(d.markerId,j),h?(h.style.display=&quot;inline&quot;,i=h.previousSibling,i&amp;&amp;3==i.nodeType?(h.parentNode.removeChild(h),g.collapseToPoint(i,i.length)):(g.collapseBefore(h),h.parentNode.removeChild(h))):b.warn(&quot;Marker element has been removed. Cannot restore selection.&quot;)):(e(j,g,d.startMarkerId,!0),e(j,g,d.endMarkerId,!1)),f&amp;&amp;g.normalizeBoundaries(),g}function i(b,d){var e,h,i,j,k=[];for(b=b.slice(0),b.sort(f),i=0,j=b.length;j&gt;i;++i)k[i]=g(b[i],d);for(i=j-1;i&gt;=0;--i)e=b[i],h=a.DomRange.getRangeDocument(e),e.collapsed?e.collapseAfter(c(k[i].markerId,h)):(e.setEndBefore(c(k[i].endMarkerId,h)),e.setStartAfter(c(k[i].startMarkerId,h)));return k}function j(c){var d,e,f,g;return a.isSelectionValid(c)?(d=a.getSelection(c),e=d.getAllRanges(),f=1==e.length&amp;&amp;d.isBackward(),g=i(e,f),f?d.setSingleRange(e[0],&quot;backward&quot;):d.setRanges(e),{win:c,rangeInfos:g,restored:!1}):(b.warn(&quot;Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus.&quot;),null)}function k(a){var b,c=[],d=a.length;for(b=d-1;b&gt;=0;b--)c[b]=h(a[b],!0);return c}function l(b,c){var d,e,f,g;b.restored||(d=b.rangeInfos,e=a.getSelection(b.win),f=k(d),g=d.length,1==g&amp;&amp;c&amp;&amp;a.features.selectionHasExtend&amp;&amp;d[0].backward?(e.removeAllRanges(),e.addRange(f[0],!0)):e.setRanges(f),b.restored=!0)}function m(a,b){var d=c(b,a);d&amp;&amp;d.parentNode.removeChild(d)}function n(a){var b,c,d,e=a.rangeInfos;for(b=0,c=e.length;c&gt;b;++b)d=e[b],d.collapsed?m(a.doc,d.markerId):(m(a.doc,d.startMarkerId),m(a.doc,d.endMarkerId))}var o=a.dom,p=&quot;﻿&quot;;a.util.extend(a,{saveRange:g,restoreRange:h,saveRanges:i,restoreRanges:k,saveSelection:j,restoreSelection:l,removeMarkerElement:m,removeMarkers:n})})},this),Base=function(){},Base.extend=function(a,b){var c,d,e,f=Base.prototype.extend;return Base._prototyping=!0,c=new this,f.call(c,a),c.base=function(){},delete Base._prototyping,d=c.constructor,e=c.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==e)this._constructing=!0,d.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||f).call(arguments[0],c)},e.ancestor=this,e.extend=this.extend,e.forEach=this.forEach,e.implement=this.implement,e.prototype=c,e.toString=this.toString,e.valueOf=function(a){return&quot;object&quot;==a?e:d.valueOf()},f.call(e,b),&quot;function&quot;==typeof e.init&amp;&amp;e.init(),e},Base.prototype={extend:function(a,b){var c,d,e,f,g,h,i;if(arguments.length&gt;1)c=this[a],!c||&quot;function&quot;!=typeof b||c.valueOf&amp;&amp;c.valueOf()==b.valueOf()||!/\bbase\b/.test(b)||(d=b.valueOf(),b=function(){var a,b=this.base||Base.prototype.base;return this.base=c,a=d.apply(this,arguments),this.base=b,a},b.valueOf=function(a){return&quot;object&quot;==a?b:d},b.toString=Base.toString),this[a]=b;else if(a){for(e=Base.prototype.extend,Base._prototyping||&quot;function&quot;==typeof this||(e=this.extend||e),f={toSource:null},g=[&quot;constructor&quot;,&quot;toString&quot;,&quot;valueOf&quot;],h=Base._prototyping?0:1;i=g[h++];)a[i]!=f[i]&amp;&amp;e.call(this,i,a[i]);for(i in a)f[i]||e.call(this,i,a[i])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:&quot;1.1&quot;,forEach:function(a,b,c){for(var d in a)void 0===this.prototype[d]&amp;&amp;b.call(c,a[d],d,a)},implement:function(){for(var a=0;a&lt;arguments.length;a++)&quot;function&quot;==typeof arguments[a]?arguments[a](this.prototype):this.prototype.extend(arguments[a]);return this},toString:function(){return this.valueOf()+&quot;&quot;}}),wysihtml5.browser=function(){function a(a){return+(/ipad|iphone|ipod/.test(a)&amp;&amp;a.match(/ os (\d+).+? like mac os x/)||[void 0,0])[1]}function b(a){return+(a.match(/android (\d+)/)||[void 0,0])[1]}function c(a,b){var c,d=-1;return&quot;Microsoft Internet Explorer&quot;==navigator.appName?c=RegExp(&quot;MSIE ([0-9]{1,}[.0-9]{0,})&quot;):&quot;Netscape&quot;==navigator.appName&amp;&amp;(c=RegExp(&quot;Trident/.*rv:([0-9]{1,}[.0-9]{0,})&quot;)),c&amp;&amp;null!=c.exec(navigator.userAgent)&amp;&amp;(d=parseFloat(RegExp.$1)),-1===d?!1:a?b?&quot;&lt;&quot;===b?d&gt;a:&quot;&gt;&quot;===b?a&gt;d:&quot;&lt;=&quot;===b?d&gt;=a:&quot;&gt;=&quot;===b?a&gt;=d:void 0:a===d:!0}var d=navigator.userAgent,e=document.createElement(&quot;div&quot;),f=-1!==d.indexOf(&quot;Gecko&quot;)&amp;&amp;-1===d.indexOf(&quot;KHTML&quot;),g=-1!==d.indexOf(&quot;AppleWebKit/&quot;),h=-1!==d.indexOf(&quot;Chrome/&quot;),i=-1!==d.indexOf(&quot;Opera/&quot;);return{USER_AGENT:d,supported:function(){var c=this.USER_AGENT.toLowerCase(),d=&quot;contentEditable&quot;in e,f=document.execCommand&amp;&amp;document.queryCommandSupported&amp;&amp;document.queryCommandState,g=document.querySelector&amp;&amp;document.querySelectorAll,h=this.isIos()&amp;&amp;a(c)&lt;5||this.isAndroid()&amp;&amp;b(c)&lt;4||-1!==c.indexOf(&quot;opera mobi&quot;)||-1!==c.indexOf(&quot;hpwos/&quot;);return d&amp;&amp;f&amp;&amp;g&amp;&amp;!h},isTouchDevice:function(){return this.supportsEvent(&quot;touchmove&quot;)},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return-1!==this.USER_AGENT.indexOf(&quot;Android&quot;)},supportsSandboxedIframes:function(){return c()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!(&quot;querySelector&quot;in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return c()},hasCurrentStyleProperty:function(){return&quot;currentStyle&quot;in e},hasHistoryIssue:function(){return f&amp;&amp;&quot;Mac&quot;===navigator.platform.substr(0,3)},insertsLineBreaksOnReturn:function(){return f},supportsPlaceholderAttributeOn:function(a){return&quot;placeholder&quot;in a},supportsEvent:function(a){return&quot;on&quot;+a in e||function(){return e.setAttribute(&quot;on&quot;+a,&quot;return;&quot;),&quot;function&quot;==typeof e[&quot;on&quot;+a]}()},supportsEventsInIframeCorrectly:function(){return!i},supportsHTML5Tags:function(a){var b=a.createElement(&quot;div&quot;),c=&quot;&lt;article&gt;foo&lt;/article&gt;&quot;;return b.innerHTML=c,b.innerHTML.toLowerCase()===c},supportsCommand:function(){var a={formatBlock:c(10,&quot;&lt;=&quot;),insertUnorderedList:c(),insertOrderedList:c()},b={insertHTML:f};return function(c,d){var e=a[d];if(!e){try{return c.queryCommandSupported(d)}catch(f){}try{return c.queryCommandEnabled(d)}catch(g){return!!b[d]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return c()},canDisableAutoLinking:function(){return this.supportsCommand(document,&quot;AutoUrlDetect&quot;)},clearsContentEditableCorrectly:function(){return f||i||g},supportsGetAttributeCorrectly:function(){var a=document.createElement(&quot;td&quot;);return&quot;1&quot;!=a.getAttribute(&quot;rowspan&quot;)},canSelectImagesInContentEditable:function(){return f||c()||i},autoScrollsToCaret:function(){return!g},autoClosesUnclosedTags:function(){var a,b,c=e.cloneNode(!1);return c.innerHTML=&quot;&lt;p&gt;&lt;div&gt;&lt;/div&gt;&quot;,b=c.innerHTML.toLowerCase(),a=&quot;&lt;p&gt;&lt;/p&gt;&lt;div&gt;&lt;/div&gt;&quot;===b||&quot;&lt;p&gt;&lt;div&gt;&lt;/div&gt;&lt;/p&gt;&quot;===b,this.autoClosesUnclosedTags=function(){return a},a},supportsNativeGetElementsByClassName:function(){return-1!==(document.getElementsByClassName+&quot;&quot;).indexOf(&quot;[native code]&quot;)},supportsSelectionModify:function(){return&quot;getSelection&quot;in window&amp;&amp;&quot;modify&quot;in window.getSelection()},needsSpaceAfterLineBreak:function(){return i},supportsSpeechApiOn:function(a){var b=d.match(/Chrome\/(\d+)/)||[void 0,0];return b[1]&gt;=11&amp;&amp;(&quot;onwebkitspeechchange&quot;in a||&quot;speech&quot;in a)},crashesWhenDefineProperty:function(a){return c(9)&amp;&amp;(&quot;XMLHttpRequest&quot;===a||&quot;XDomainRequest&quot;===a)},doesAsyncFocus:function(){return c()},hasProblemsSettingCaretAfterImg:function(){return c()},hasUndoInContextMenu:function(){return f||h||i},hasInsertNodeIssue:function(){return i},hasIframeFocusIssue:function(){return c()},createsNestedInvalidMarkupAfterPaste:function(){return g},supportsMutationEvents:function(){return&quot;MutationEvent&quot;in window},supportsModenPaste:function(){return!(&quot;clipboardData&quot;in window)}}}(),wysihtml5.lang.array=function(a){return{contains:function(b){if(Array.isArray(b)){for(var c=b.length;c--;)if(-1!==wysihtml5.lang.array(a).indexOf(b[c]))return!0;return!1}return-1!==wysihtml5.lang.array(a).indexOf(b)},indexOf:function(b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d&gt;c;c++)if(a[c]===b)return c;return-1},without:function(b){b=wysihtml5.lang.array(b);for(var c=[],d=0,e=a.length;e&gt;d;d++)b.contains(a[d])||c.push(a[d]);return c},get:function(){for(var b=0,c=a.length,d=[];c&gt;b;b++)d.push(a[b]);return d},map:function(b,c){if(Array.prototype.map)return a.map(b,c);for(var d=a.length&gt;&gt;&gt;0,e=Array(d),f=0;d&gt;f;f++)e[f]=b.call(c,a[f],f,a);return e},unique:function(){for(var b=[],c=a.length,d=0;c&gt;d;)wysihtml5.lang.array(b).contains(a[d])||b.push(a[d]),d++;return b}}},wysihtml5.lang.Dispatcher=Base.extend({on:function(a,b){return this.events=this.events||{},this.events[a]=this.events[a]||[],this.events[a].push(b),this},off:function(a,b){this.events=this.events||{};var c,d,e=0;if(a){for(c=this.events[a]||[],d=[];e&lt;c.length;e++)c[e]!==b&amp;&amp;b&amp;&amp;d.push(c[e]);this.events[a]=d}else this.events={};return this},fire:function(a,b){this.events=this.events||{};for(var c=this.events[a]||[],d=0;d&lt;c.length;d++)c[d].call(this,b);return this},observe:function(){return this.on.apply(this,arguments)},stopObserving:function(){return this.off.apply(this,arguments)}}),wysihtml5.lang.object=function(a){return{merge:function(b){for(var c in b)a[c]=b[c];return this},get:function(){return a},clone:function(b){var c,d={};if(null===a||!wysihtml5.lang.object(a).isPlainObject())return a;for(c in a)a.hasOwnProperty(c)&amp;&amp;(d[c]=b?wysihtml5.lang.object(a[c]).clone(b):a[c]);return d},isArray:function(){return&quot;[object Array]&quot;===Object.prototype.toString.call(a)},isFunction:function(){return&quot;[object Function]&quot;===Object.prototype.toString.call(a)},isPlainObject:function(){return&quot;[object Object]&quot;===Object.prototype.toString.call(a)}}},function(){var a=/^\s+/,b=/\s+$/,c=/[&amp;&lt;&gt;\t&quot;]/g,d={&quot;&amp;&quot;:&quot;&amp;amp;&quot;,&quot;&lt;&quot;:&quot;&amp;lt;&quot;,&quot;&gt;&quot;:&quot;&amp;gt;&quot;,&#39;&quot;&#39;:&quot;&amp;quot;&quot;,&quot;	&quot;:&quot;&amp;nbsp; &quot;};wysihtml5.lang.string=function(e){return e+=&quot;&quot;,{trim:function(){return e.replace(a,&quot;&quot;).replace(b,&quot;&quot;)},interpolate:function(a){for(var b in a)e=this.replace(&quot;#{&quot;+b+&quot;}&quot;).by(a[b]);return e},replace:function(a){return{by:function(b){return e.split(a).join(b)}}},escapeHTML:function(a,b){var f=e.replace(c,function(a){return d[a]});return a&amp;&amp;(f=f.replace(/(?:\r\n|\r|\n)/g,&quot;&lt;br /&gt;&quot;)),b&amp;&amp;(f=f.replace(/  /gi,&quot;&amp;nbsp; &quot;)),f}}}}(),function(a){function b(a,b){return f(a,b)?a:(a===a.ownerDocument.documentElement&amp;&amp;(a=a.ownerDocument.body),g(a,b))}function c(a){return a.replace(i,function(a,b){var c,d,e=(b.match(j)||[])[1]||&quot;&quot;,f=l[e];return b=b.replace(j,&quot;&quot;),b.split(f).length&gt;b.split(e).length&amp;&amp;(b+=e,e=&quot;&quot;),c=b,d=b,b.length&gt;k&amp;&amp;(d=d.substr(0,k)+&quot;...&quot;),&quot;www.&quot;===c.substr(0,4)&amp;&amp;(c=&quot;http://&quot;+c),&#39;&lt;a href=&quot;&#39;+c+&#39;&quot;&gt;&#39;+d+&quot;&lt;/a&gt;&quot;+e})}function d(a){var b=a._wysihtml5_tempElement;return b||(b=a._wysihtml5_tempElement=a.createElement(&quot;div&quot;)),b}function e(b){var e=b.parentNode,f=a.lang.string(b.data).escapeHTML(),g=d(e.ownerDocument);for(g.innerHTML=&quot;&lt;span&gt;&lt;/span&gt;&quot;+c(f),g.removeChild(g.firstChild);g.firstChild;)e.insertBefore(g.firstChild,b);e.removeChild(b)}function f(b,c){for(var d;b.parentNode;){if(b=b.parentNode,d=b.nodeName,b.className&amp;&amp;a.lang.array(b.className.split(&quot; &quot;)).contains(c))return!0;if(h.contains(d))return!0;if(&quot;body&quot;===d)return!1}return!1}function g(b,c){if(!(h.contains(b.nodeName)||b.className&amp;&amp;a.lang.array(b.className.split(&quot; &quot;)).contains(c))){if(b.nodeType===a.TEXT_NODE&amp;&amp;b.data.match(i))return e(b),void 0;for(var d=a.lang.array(b.childNodes).get(),f=d.length,j=0;f&gt;j;j++)g(d[j],c);return b}}var h=a.lang.array([&quot;CODE&quot;,&quot;PRE&quot;,&quot;A&quot;,&quot;SCRIPT&quot;,&quot;HEAD&quot;,&quot;TITLE&quot;,&quot;STYLE&quot;]),i=/((https?:\/\/|www\.)[^\s&lt;]{3,})/gi,j=/([^\w\/\-](,?))$/i,k=100,l={&quot;)&quot;:&quot;(&quot;,&quot;]&quot;:&quot;[&quot;,&quot;}&quot;:&quot;{&quot;};a.dom.autoLink=b,a.dom.autoLink.URL_REG_EXP=i}(wysihtml5),function(a){var b=a.dom;b.addClass=function(a,c){var d=a.classList;return d?d.add(c):(b.hasClass(a,c)||(a.className+=&quot; &quot;+c),void 0)},b.removeClass=function(a,b){var c=a.classList;return c?c.remove(b):(a.className=a.className.replace(RegExp(&quot;(^|\\s+)&quot;+b+&quot;(\\s+|$)&quot;),&quot; &quot;),void 0)},b.hasClass=function(a,b){var c,d=a.classList;return d?d.contains(b):(c=a.className,c.length&gt;0&amp;&amp;(c==b||RegExp(&quot;(^|\\s)&quot;+b+&quot;(\\s|$)&quot;).test(c)))}}(wysihtml5),wysihtml5.dom.contains=function(){var a=document.documentElement;return a.contains?function(a,b){return b.nodeType!==wysihtml5.ELEMENT_NODE&amp;&amp;(b=b.parentNode),a!==b&amp;&amp;a.contains(b)}:a.compareDocumentPosition?function(a,b){return!!(16&amp;a.compareDocumentPosition(b))}:void 0}(),wysihtml5.dom.convertToList=function(){function a(a,b){var c=a.createElement(&quot;li&quot;);return b.appendChild(c),c}function b(a,b){return a.createElement(b)}function c(c,d,e){if(&quot;UL&quot;===c.nodeName||&quot;OL&quot;===c.nodeName||&quot;MENU&quot;===c.nodeName)return c;var f,g,h,i,j,k,l,m,n,o=c.ownerDocument,p=b(o,d),q=c.querySelectorAll(&quot;br&quot;),r=q.length;for(n=0;r&gt;n;n++)for(i=q[n];(j=i.parentNode)&amp;&amp;j!==c&amp;&amp;j.lastChild===i;){if(&quot;block&quot;===wysihtml5.dom.getStyle(&quot;display&quot;).from(j)){j.removeChild(i);break}wysihtml5.dom.insert(i).after(i.parentNode)}for(f=wysihtml5.lang.array(c.childNodes).get(),g=f.length,n=0;g&gt;n;n++)m=m||a(o,p),h=f[n],k=&quot;block&quot;===wysihtml5.dom.getStyle(&quot;display&quot;).from(h),l=&quot;BR&quot;===h.nodeName,!k||e&amp;&amp;wysihtml5.dom.hasClass(h,e)?l?m=m.firstChild?null:m:m.appendChild(h):(m=m.firstChild?a(o,p):m,m.appendChild(h),m=null);return 0===f.length&amp;&amp;a(o,p),c.parentNode.replaceChild(p,c),p}return c}(),wysihtml5.dom.copyAttributes=function(a){return{from:function(b){return{to:function(c){for(var d,e=0,f=a.length;f&gt;e;e++)d=a[e],void 0!==b[d]&amp;&amp;&quot;&quot;!==b[d]&amp;&amp;(c[d]=b[d]);return{andTo:arguments.callee}}}}}},function(a){var b=[&quot;-webkit-box-sizing&quot;,&quot;-moz-box-sizing&quot;,&quot;-ms-box-sizing&quot;,&quot;box-sizing&quot;],c=function(b){return d(b)?parseInt(a.getStyle(&quot;width&quot;).from(b),10)&lt;b.offsetWidth:!1},d=function(c){for(var d=0,e=b.length;e&gt;d;d++)if(&quot;border-box&quot;===a.getStyle(b[d]).from(c))return b[d]};a.copyStyles=function(d){return{from:function(e){c(e)&amp;&amp;(d=wysihtml5.lang.array(d).without(b));for(var f,g=&quot;&quot;,h=d.length,i=0;h&gt;i;i++)f=d[i],g+=f+&quot;:&quot;+a.getStyle(f).from(e)+&quot;;&quot;;return{to:function(b){return a.setStyles(g).on(b),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(a){a.dom.delegate=function(b,c,d,e){return a.dom.observe(b,d,function(d){for(var f=d.target,g=a.lang.array(b.querySelectorAll(c));f&amp;&amp;f!==b;){if(g.contains(f)){e.call(f,d);break}f=f.parentNode}})}}(wysihtml5),function(a){a.dom.domNode=function(b){var c=[a.ELEMENT_NODE,a.TEXT_NODE],d=function(b){return b.nodeType===a.TEXT_NODE&amp;&amp;/^\s*$/g.test(b.data)};return{prev:function(e){var f=b.previousSibling,g=e&amp;&amp;e.nodeTypes?e.nodeTypes:c;return f?!a.lang.array(g).contains(f.nodeType)||e&amp;&amp;e.ignoreBlankTexts&amp;&amp;d(f)?a.dom.domNode(f).prev(e):f:null},next:function(e){var f=b.nextSibling,g=e&amp;&amp;e.nodeTypes?e.nodeTypes:c;return f?!a.lang.array(g).contains(f.nodeType)||e&amp;&amp;e.ignoreBlankTexts&amp;&amp;d(f)?a.dom.domNode(f).next(e):f:null}}}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var a=function(a,b){var c=b.createElement(&quot;div&quot;);c.style.display=&quot;none&quot;,b.body.appendChild(c);try{c.innerHTML=a}catch(d){}return b.body.removeChild(c),c},b=function(a){if(!a._wysihtml5_supportsHTML5Tags){for(var b=0,d=c.length;d&gt;b;b++)a.createElement(c[b]);a._wysihtml5_supportsHTML5Tags=!0}},c=[&quot;abbr&quot;,&quot;article&quot;,&quot;aside&quot;,&quot;audio&quot;,&quot;bdi&quot;,&quot;canvas&quot;,&quot;command&quot;,&quot;datalist&quot;,&quot;details&quot;,&quot;figcaption&quot;,&quot;figure&quot;,&quot;footer&quot;,&quot;header&quot;,&quot;hgroup&quot;,&quot;keygen&quot;,&quot;mark&quot;,&quot;meter&quot;,&quot;nav&quot;,&quot;output&quot;,&quot;progress&quot;,&quot;rp&quot;,&quot;rt&quot;,&quot;ruby&quot;,&quot;svg&quot;,&quot;section&quot;,&quot;source&quot;,&quot;summary&quot;,&quot;time&quot;,&quot;track&quot;,&quot;video&quot;,&quot;wbr&quot;];return function(c,d){d=d||document;var e;return&quot;object&quot;==typeof c&amp;&amp;c.nodeType?(e=d.createElement(&quot;div&quot;),e.appendChild(c)):wysihtml5.browser.supportsHTML5Tags(d)?(e=d.createElement(&quot;div&quot;),e.innerHTML=c):(b(d),e=a(c,d)),e}}(),wysihtml5.dom.getParentElement=function(){function a(a,b){return b&amp;&amp;b.length?&quot;string&quot;==typeof b?a===b:wysihtml5.lang.array(b).contains(a):!0}function b(a){return a.nodeType===wysihtml5.ELEMENT_NODE}function c(a,b,c){var d=(a.className||&quot;&quot;).match(c)||[];return b?d[d.length-1]===b:!!d.length}function d(a,b,c){var d=(a.getAttribute(&quot;style&quot;)||&quot;&quot;).match(c)||[];return b?d[d.length-1]===b:!!d.length}return function(e,f,g,h){var i=f.cssStyle||f.styleRegExp,j=f.className||f.classRegExp;for(g=g||50;g--&amp;&amp;e&amp;&amp;&quot;BODY&quot;!==e.nodeName&amp;&amp;(!h||e!==h);){if(b(e)&amp;&amp;a(e.nodeName,f.nodeName)&amp;&amp;(!i||d(e,f.cssStyle,f.styleRegExp))&amp;&amp;(!j||c(e,f.className,f.classRegExp)))return e;e=e.parentNode}return null}}(),wysihtml5.dom.getStyle=function(){function a(a){return a.replace(c,function(a){return a.charAt(1).toUpperCase()</td>
      </tr>
      <tr>
        <td id="L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="LC4" class="blob-code blob-code-inner js-file-line">})}var b={&quot;float&quot;:&quot;styleFloat&quot;in document.createElement(&quot;div&quot;).style?&quot;styleFloat&quot;:&quot;cssFloat&quot;},c=/\-[a-z]/g;return function(c){return{from:function(d){var e,f,g,h,i,j,k,l,m;if(d.nodeType===wysihtml5.ELEMENT_NODE){if(e=d.ownerDocument,f=b[c]||a(c),g=d.style,h=d.currentStyle,i=g[f],i)return i;if(h)try{return h[f]}catch(n){}return j=e.defaultView||e.parentWindow,k=(&quot;height&quot;===c||&quot;width&quot;===c)&amp;&amp;&quot;TEXTAREA&quot;===d.nodeName,j.getComputedStyle?(k&amp;&amp;(l=g.overflow,g.overflow=&quot;hidden&quot;),m=j.getComputedStyle(d,null).getPropertyValue(c),k&amp;&amp;(g.overflow=l||&quot;&quot;),m):void 0}}}}}(),wysihtml5.dom.getTextNodes=function(a,b){var c=[];for(a=a.firstChild;a;a=a.nextSibling)3==a.nodeType?b&amp;&amp;/^\s*$/.test(a.innerText||a.textContent)||c.push(a):c=c.concat(wysihtml5.dom.getTextNodes(a,b));return c},wysihtml5.dom.hasElementWithTagName=function(){function a(a){return a._wysihtml5_identifier||(a._wysihtml5_identifier=c++)}var b={},c=1;return function(c,d){var e=a(c)+&quot;:&quot;+d,f=b[e];return f||(f=b[e]=c.getElementsByTagName(d)),f.length&gt;0}}(),function(a){function b(a){return a._wysihtml5_identifier||(a._wysihtml5_identifier=d++)}var c={},d=1;a.dom.hasElementWithClassName=function(d,e){if(!a.browser.supportsNativeGetElementsByClassName())return!!d.querySelector(&quot;.&quot;+e);var f=b(d)+&quot;:&quot;+e,g=c[f];return g||(g=c[f]=d.getElementsByClassName(e)),g.length&gt;0}}(wysihtml5),wysihtml5.dom.insert=function(a){return{after:function(b){b.parentNode.insertBefore(a,b.nextSibling)},before:function(b){b.parentNode.insertBefore(a,b)},into:function(b){b.appendChild(a)}}},wysihtml5.dom.insertCSS=function(a){return a=a.join(&quot;\n&quot;),{into:function(b){var c,d,e=b.createElement(&quot;style&quot;);return e.type=&quot;text/css&quot;,e.styleSheet?e.styleSheet.cssText=a:e.appendChild(b.createTextNode(a)),c=b.querySelector(&quot;head link&quot;),c?(c.parentNode.insertBefore(e,c),void 0):(d=b.querySelector(&quot;head&quot;),d&amp;&amp;d.appendChild(e),void 0)}}},function(a){a.dom.lineBreaks=function(b){function c(a){return&quot;BR&quot;===a.nodeName}function d(b){return c(b)?!0:&quot;block&quot;===a.dom.getStyle(&quot;display&quot;).from(b)?!0:!1}return{add:function(){var c=b.ownerDocument,e=a.dom.domNode(b).next({ignoreBlankTexts:!0}),f=a.dom.domNode(b).prev({ignoreBlankTexts:!0});e&amp;&amp;!d(e)&amp;&amp;a.dom.insert(c.createElement(&quot;br&quot;)).after(b),f&amp;&amp;!d(f)&amp;&amp;a.dom.insert(c.createElement(&quot;br&quot;)).before(b)},remove:function(){var d=a.dom.domNode(b).next({ignoreBlankTexts:!0}),e=a.dom.domNode(b).prev({ignoreBlankTexts:!0});d&amp;&amp;c(d)&amp;&amp;d.parentNode.removeChild(d),e&amp;&amp;c(e)&amp;&amp;e.parentNode.removeChild(e)}}}}(wysihtml5),wysihtml5.dom.observe=function(a,b,c){b=&quot;string&quot;==typeof b?[b]:b;for(var d,e,f=0,g=b.length;g&gt;f;f++)e=b[f],a.addEventListener?a.addEventListener(e,c,!1):(d=function(b){&quot;target&quot;in b||(b.target=b.srcElement),b.preventDefault=b.preventDefault||function(){this.returnValue=!1},b.stopPropagation=b.stopPropagation||function(){this.cancelBubble=!0},c.call(a,b)},a.attachEvent(&quot;on&quot;+e,d));return{stop:function(){for(var e,f=0,g=b.length;g&gt;f;f++)e=b[f],a.removeEventListener?a.removeEventListener(e,c,!1):a.detachEvent(&quot;on&quot;+e,d)}}},wysihtml5.dom.parse=function(a,b){function c(a,b){var c,f,g,h,i,j,k,l,m;for(wysihtml5.lang.object(t).merge(s).merge(b.rules).get(),c=b.context||a.ownerDocument||document,f=c.createDocumentFragment(),g=&quot;string&quot;==typeof a,h=!1,b.clearInternals===!0&amp;&amp;(h=!0),i=g?wysihtml5.dom.getAsDom(a,c):a,t.selectors&amp;&amp;e(i,t.selectors);i.firstChild;)k=i.firstChild,j=d(k,b.cleanUp,h,b.uneditableClass),j&amp;&amp;f.appendChild(j),k!==j&amp;&amp;i.removeChild(k);if(b.unjoinNbsps)for(l=wysihtml5.dom.getTextNodes(f),m=l.length;m--;)l[m].nodeValue=l[m].nodeValue.replace(/([\S\u00A0])\u00A0/gi,&quot;$1 &quot;);return i.innerHTML=&quot;&quot;,i.appendChild(f),g?wysihtml5.quirks.getCorrectInnerHTML(i):i}function d(a,b,c,e){var f,g,h,i=a.nodeType,j=a.childNodes,k=j.length,l=p[i],m=0;if(e&amp;&amp;1===i&amp;&amp;wysihtml5.dom.hasClass(a,e))return a;if(g=l&amp;&amp;l(a,c),!g){if(g===!1){for(f=a.ownerDocument.createDocumentFragment(),m=k;m--;)j[m]&amp;&amp;(h=d(j[m],b,c,e),h&amp;&amp;(j[m]===h&amp;&amp;m--,f.insertBefore(h,f.firstChild)));return&quot;block&quot;===wysihtml5.dom.getStyle(&quot;display&quot;).from(a)&amp;&amp;f.appendChild(a.ownerDocument.createElement(&quot;br&quot;)),wysihtml5.lang.array([&quot;div&quot;,&quot;pre&quot;,&quot;p&quot;,&quot;table&quot;,&quot;td&quot;,&quot;th&quot;,&quot;ul&quot;,&quot;ol&quot;,&quot;li&quot;,&quot;dd&quot;,&quot;dl&quot;,&quot;footer&quot;,&quot;header&quot;,&quot;section&quot;,&quot;h1&quot;,&quot;h2&quot;,&quot;h3&quot;,&quot;h4&quot;,&quot;h5&quot;,&quot;h6&quot;]).contains(a.nodeName.toLowerCase())&amp;&amp;a.parentNode.lastChild!==a&amp;&amp;(a.nextSibling&amp;&amp;3===a.nextSibling.nodeType&amp;&amp;/^\s/.test(a.nextSibling.nodeValue)||f.appendChild(a.ownerDocument.createTextNode(&quot; &quot;))),f.normalize&amp;&amp;f.normalize(),f}return null}for(m=0;k&gt;m;m++)j[m]&amp;&amp;(h=d(j[m],b,c,e),h&amp;&amp;(j[m]===h&amp;&amp;m--,g.appendChild(h)));if(b&amp;&amp;g.nodeName.toLowerCase()===q&amp;&amp;(!g.childNodes.length||/^\s*$/gi.test(g.innerHTML)&amp;&amp;(c||&quot;_wysihtml5-temp-placeholder&quot;!==a.className&amp;&amp;&quot;rangySelectionBoundary&quot;!==a.className)||!g.attributes.length)){for(f=g.ownerDocument.createDocumentFragment();g.firstChild;)f.appendChild(g.firstChild);return f.normalize&amp;&amp;f.normalize(),f}return g.normalize&amp;&amp;g.normalize(),g}function e(a,b){var c,d,e,f;for(c in b)if(b.hasOwnProperty(c))for(wysihtml5.lang.object(b[c]).isFunction()?d=b[c]:&quot;string&quot;==typeof b[c]&amp;&amp;z[b[c]]&amp;&amp;(d=z[b[c]]),e=a.querySelectorAll(c),f=e.length;f--;)d(e[f])}function f(a,b){var c,d,e,f=t.tags,h=a.nodeName.toLowerCase(),j=a.scopeName;if(a._wysihtml5)return null;if(a._wysihtml5=1,&quot;wysihtml5-temp&quot;===a.className)return null;if(j&amp;&amp;&quot;HTML&quot;!=j&amp;&amp;(h=j+&quot;:&quot;+h),&quot;outerHTML&quot;in a&amp;&amp;(wysihtml5.browser.autoClosesUnclosedTags()||&quot;P&quot;!==a.nodeName||&quot;&lt;/p&gt;&quot;===a.outerHTML.slice(-4).toLowerCase()||(h=&quot;div&quot;)),h in f){if(c=f[h],!c||c.remove)return null;if(c.unwrap)return!1;c=&quot;string&quot;==typeof c?{rename_tag:c}:c}else{if(!a.firstChild)return null;c={rename_tag:q}}if(c.one_of_type&amp;&amp;!g(a,t,c.one_of_type,b)){if(!c.remove_action)return null;if(&quot;unwrap&quot;===c.remove_action)return!1;if(&quot;rename&quot;!==c.remove_action)return null;e=c.remove_action_rename_to||q}return d=a.ownerDocument.createElement(e||c.rename_tag||h),m(a,d,c,b),i(a,d,c),a=null,d.normalize&amp;&amp;d.normalize(),d}function g(a,b,c,d){var e,f;if(&quot;SPAN&quot;===a.nodeName&amp;&amp;!d&amp;&amp;(&quot;_wysihtml5-temp-placeholder&quot;===a.className||&quot;rangySelectionBoundary&quot;===a.className))return!0;for(f in c)if(c.hasOwnProperty(f)&amp;&amp;b.type_definitions&amp;&amp;b.type_definitions[f]&amp;&amp;(e=b.type_definitions[f],h(a,e)))return!0;return!1}function h(a,b){var c,d,e,f,g,h,i,j,k=a.getAttribute(&quot;class&quot;),l=a.getAttribute(&quot;style&quot;);if(b.methods)for(h in b.methods)if(b.methods.hasOwnProperty(h)&amp;&amp;y[h]&amp;&amp;y[h](a))return!0;if(k&amp;&amp;b.classes)for(k=k.replace(/^\s+/g,&quot;&quot;).replace(/\s+$/g,&quot;&quot;).split(r),c=k.length,i=0;c&gt;i;i++)if(b.classes[k[i]])return!0;if(l&amp;&amp;b.styles){l=l.split(&quot;;&quot;);for(d in b.styles)if(b.styles.hasOwnProperty(d))for(j=l.length;j--;)if(g=l[j].split(&quot;:&quot;),g[0].replace(/\s/g,&quot;&quot;).toLowerCase()===d&amp;&amp;(b.styles[d]===!0||1===b.styles[d]||wysihtml5.lang.array(b.styles[d]).contains(g[1].replace(/\s/g,&quot;&quot;).toLowerCase())))return!0}if(b.attrs)for(e in b.attrs)if(b.attrs.hasOwnProperty(e)&amp;&amp;(f=wysihtml5.dom.getAttribute(a,e),&quot;string&quot;==typeof f&amp;&amp;f.search(b.attrs[e])&gt;-1))return!0;return!1}function i(a,b,c){var d,e;if(c&amp;&amp;c.keep_styles)for(d in c.keep_styles)if(c.keep_styles.hasOwnProperty(d)){if(e=&quot;float&quot;===d?a.style.styleFloat||a.style.cssFloat:a.style[d],c.keep_styles[d]instanceof RegExp&amp;&amp;!c.keep_styles[d].test(e))continue;&quot;float&quot;===d?b.style[a.style.styleFloat?&quot;styleFloat&quot;:&quot;cssFloat&quot;]=e:a.style[d]&amp;&amp;(b.style[d]=e)}}function j(a,b){var c,d=[];for(c in b)b.hasOwnProperty(c)&amp;&amp;0===c.indexOf(a)&amp;&amp;d.push(c);return d}function k(a,b,c,d){var e,f=v[c];return f&amp;&amp;(b||&quot;alt&quot;===a&amp;&amp;&quot;IMG&quot;==d)&amp;&amp;(e=f(b),&quot;string&quot;==typeof e)?e:!1}function l(a,b){var c,d,e,f,g,h=wysihtml5.lang.object(t.attributes||{}).clone(),i=wysihtml5.lang.object(h).merge(wysihtml5.lang.object(b||{}).clone()).get(),l={},m=wysihtml5.dom.getAttributes(a);for(c in i)if(/\*$/.test(c))for(e=j(c.slice(0,-1),m),f=0,g=e.length;g&gt;f;f++)d=k(e[f],m[e[f]],i[c],a.nodeName),d!==!1&amp;&amp;(l[e[f]]=d);else d=k(c,m[c],i[c],a.nodeName),d!==!1&amp;&amp;(l[c]=d);return l}function m(a,b,c,d){var e,f,g,h,i,j={},k=c.set_class,m=c.add_class,n=c.add_style,o=c.set_attributes,p=t.classes,q=0,s=[],u=[],v=[],y=[];if(o&amp;&amp;(j=wysihtml5.lang.object(o).clone()),j=wysihtml5.lang.object(j).merge(l(a,c.check_attributes)).get(),k&amp;&amp;s.push(k),m)for(h in m)i=x[m[h]],i&amp;&amp;(g=i(wysihtml5.dom.getAttribute(a,h)),&quot;string&quot;==typeof g&amp;&amp;s.push(g));if(n)for(h in n)i=w[n[h]],i&amp;&amp;(newStyle=i(wysihtml5.dom.getAttribute(a,h)),&quot;string&quot;==typeof newStyle&amp;&amp;u.push(newStyle));if(&quot;string&quot;==typeof p&amp;&amp;&quot;any&quot;===p&amp;&amp;a.getAttribute(&quot;class&quot;))if(t.classes_blacklist){for(y=a.getAttribute(&quot;class&quot;),y&amp;&amp;(s=s.concat(y.split(r))),e=s.length;e&gt;q;q++)f=s[q],t.classes_blacklist[f]||v.push(f);v.length&amp;&amp;(j[&quot;class&quot;]=wysihtml5.lang.array(v).unique().join(&quot; &quot;))}else j[&quot;class&quot;]=a.getAttribute(&quot;class&quot;);else{for(d||(p[&quot;_wysihtml5-temp-placeholder&quot;]=1,p._rangySelectionBoundary=1,p[&quot;wysiwyg-tmp-selected-cell&quot;]=1),y=a.getAttribute(&quot;class&quot;),y&amp;&amp;(s=s.concat(y.split(r))),e=s.length;e&gt;q;q++)f=s[q],p[f]&amp;&amp;v.push(f);v.length&amp;&amp;(j[&quot;class&quot;]=wysihtml5.lang.array(v).unique().join(&quot; &quot;))}j[&quot;class&quot;]&amp;&amp;d&amp;&amp;(j[&quot;class&quot;]=j[&quot;class&quot;].replace(&quot;wysiwyg-tmp-selected-cell&quot;,&quot;&quot;),/^\s*$/g.test(j[&quot;class&quot;])&amp;&amp;delete j[&quot;class&quot;]),u.length&amp;&amp;(j.style=wysihtml5.lang.array(u).unique().join(&quot; &quot;));for(h in j)try{b.setAttribute(h,j[h])}catch(z){}j.src&amp;&amp;(void 0!==j.width&amp;&amp;b.setAttribute(&quot;width&quot;,j.width),void 0!==j.height&amp;&amp;b.setAttribute(&quot;height&quot;,j.height))}function n(a){var b,c=a.nextSibling;return c&amp;&amp;c.nodeType===wysihtml5.TEXT_NODE?(c.data=a.data.replace(u,&quot;&quot;)+c.data.replace(u,&quot;&quot;),void 0):(b=a.data.replace(u,&quot;&quot;),a.ownerDocument.createTextNode(b))}function o(a){return t.comments?a.ownerDocument.createComment(a.nodeValue):void 0}var p={1:f,3:n,8:o},q=&quot;span&quot;,r=/\s+/,s={tags:{},classes:{}},t={},u=/\uFEFF/g,v={url:function(){var a=/^https?:\/\//i;return function(b){return b&amp;&amp;b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),src:function(){var a=/^(\/|https?:\/\/)/i;return function(b){return b&amp;&amp;b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),href:function(){var a=/^(#|\/|https?:\/\/|mailto:)/i;return function(b){return b&amp;&amp;b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),alt:function(){var a=/[^ a-z0-9_\-]/gi;return function(b){return b?b.replace(a,&quot;&quot;):&quot;&quot;}}(),numbers:function(){var a=/\D/g;return function(b){return b=(b||&quot;&quot;).replace(a,&quot;&quot;),b||null}}(),any:function(){return function(a){return a}}()},w={align_text:function(){var a={left:&quot;text-align: left;&quot;,right:&quot;text-align: right;&quot;,center:&quot;text-align: center;&quot;};return function(b){return a[(b+&quot;&quot;).toLowerCase()]}}()},x={align_img:function(){var a={left:&quot;wysiwyg-float-left&quot;,right:&quot;wysiwyg-float-right&quot;};return function(b){return a[(b+&quot;&quot;).toLowerCase()]}}(),align_text:function(){var a={left:&quot;wysiwyg-text-align-left&quot;,right:&quot;wysiwyg-text-align-right&quot;,center:&quot;wysiwyg-text-align-center&quot;,justify:&quot;wysiwyg-text-align-justify&quot;};return function(b){return a[(b+&quot;&quot;).toLowerCase()]}}(),clear_br:function(){var a={left:&quot;wysiwyg-clear-left&quot;,right:&quot;wysiwyg-clear-right&quot;,both:&quot;wysiwyg-clear-both&quot;,all:&quot;wysiwyg-clear-both&quot;};return function(b){return a[(b+&quot;&quot;).toLowerCase()]}}(),size_font:function(){var a={1:&quot;wysiwyg-font-size-xx-small&quot;,2:&quot;wysiwyg-font-size-small&quot;,3:&quot;wysiwyg-font-size-medium&quot;,4:&quot;wysiwyg-font-size-large&quot;,5:&quot;wysiwyg-font-size-x-large&quot;,6:&quot;wysiwyg-font-size-xx-large&quot;,7:&quot;wysiwyg-font-size-xx-large&quot;,&quot;-&quot;:&quot;wysiwyg-font-size-smaller&quot;,&quot;+&quot;:&quot;wysiwyg-font-size-larger&quot;};return function(b){return a[(b+&quot;&quot;).charAt(0)]}}()},y={has_visible_contet:function(){var a,b=[&quot;img&quot;,&quot;video&quot;,&quot;picture&quot;,&quot;br&quot;,&quot;script&quot;,&quot;noscript&quot;,&quot;style&quot;,&quot;table&quot;,&quot;iframe&quot;,&quot;object&quot;,&quot;embed&quot;,&quot;audio&quot;,&quot;svg&quot;,&quot;input&quot;,&quot;button&quot;,&quot;select&quot;,&quot;textarea&quot;,&quot;canvas&quot;];return function(c){if(a=(c.innerText||c.textContent).replace(/\s/g,&quot;&quot;),a&amp;&amp;a.length&gt;0)return!0;for(var d=b.length;d--;)if(c.querySelector(b[d]))return!0;return c.offsetWidth&amp;&amp;c.offsetWidth&gt;0&amp;&amp;c.offsetHeight&amp;&amp;c.offsetHeight&gt;0?!0:!1}}()},z={unwrap:function(a){wysihtml5.dom.unwrap(a)},remove:function(a){a.parentNode.removeChild(a)}};return c(a,b)},wysihtml5.dom.removeEmptyTextNodes=function(a){for(var b,c=wysihtml5.lang.array(a.childNodes).get(),d=c.length,e=0;d&gt;e;e++)b=c[e],b.nodeType===wysihtml5.TEXT_NODE&amp;&amp;&quot;&quot;===b.data&amp;&amp;b.parentNode.removeChild(b)},wysihtml5.dom.renameElement=function(a,b){for(var c,d=a.ownerDocument.createElement(b);c=a.firstChild;)d.appendChild(c);return wysihtml5.dom.copyAttributes([&quot;align&quot;,&quot;className&quot;]).from(a).to(d),a.parentNode.replaceChild(d,a),d},wysihtml5.dom.replaceWithChildNodes=function(a){if(a.parentNode){if(!a.firstChild)return a.parentNode.removeChild(a),void 0;for(var b=a.ownerDocument.createDocumentFragment();a.firstChild;)b.appendChild(a.firstChild);a.parentNode.replaceChild(b,a),a=b=null}},function(a){function b(b){return&quot;block&quot;===a.getStyle(&quot;display&quot;).from(b)}function c(a){return&quot;BR&quot;===a.nodeName}function d(a){var b=a.ownerDocument.createElement(&quot;br&quot;);a.appendChild(b)}function e(a,e){if(a.nodeName.match(/^(MENU|UL|OL)$/)){var f,g,h,i,j,k,l=a.ownerDocument,m=l.createDocumentFragment(),n=wysihtml5.dom.domNode(a).prev({ignoreBlankTexts:!0});if(e)for(!n||b(n)||c(n)||d(m);k=a.firstElementChild||a.firstChild;){for(g=k.lastChild;f=k.firstChild;)h=f===g,i=h&amp;&amp;!b(f)&amp;&amp;!c(f),m.appendChild(f),i&amp;&amp;d(m);k.parentNode.removeChild(k)}else for(;k=a.firstElementChild||a.firstChild;){if(k.querySelector&amp;&amp;k.querySelector(&quot;div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6&quot;))for(;f=k.firstChild;)m.appendChild(f);else{for(j=l.createElement(&quot;p&quot;);f=k.firstChild;)j.appendChild(f);m.appendChild(j)}k.parentNode.removeChild(k)}a.parentNode.replaceChild(m,a)}}a.resolveList=e}(wysihtml5.dom),function(a){var b=document,c=[&quot;parent&quot;,&quot;top&quot;,&quot;opener&quot;,&quot;frameElement&quot;,&quot;frames&quot;,&quot;localStorage&quot;,&quot;globalStorage&quot;,&quot;sessionStorage&quot;,&quot;indexedDB&quot;],d=[&quot;open&quot;,&quot;close&quot;,&quot;openDialog&quot;,&quot;showModalDialog&quot;,&quot;alert&quot;,&quot;confirm&quot;,&quot;prompt&quot;,&quot;openDatabase&quot;,&quot;postMessage&quot;,&quot;XMLHttpRequest&quot;,&quot;XDomainRequest&quot;],e=[&quot;referrer&quot;,&quot;write&quot;,&quot;open&quot;,&quot;close&quot;];a.dom.Sandbox=Base.extend({constructor:function(b,c){this.callback=b||a.EMPTY_FUNCTION,this.config=a.lang.object({}).merge(c).get(),this.editableArea=this._createIframe()},insertInto:function(a){&quot;string&quot;==typeof a&amp;&amp;(a=b.getElementById(a)),a.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var a=this.getIframe();a.parentNode.removeChild(a)},_readyError:function(){throw Error(&quot;wysihtml5.Sandbox: Sandbox iframe isn&#39;t loaded yet&quot;)},_createIframe:function(){var c=this,d=b.createElement(&quot;iframe&quot;);return d.className=&quot;wysihtml5-sandbox&quot;,a.dom.setAttributes({security:&quot;restricted&quot;,allowtransparency:&quot;true&quot;,frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(d),a.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&amp;&amp;(d.src=&quot;javascript:&#39;&lt;html&gt;&lt;/html&gt;&#39;&quot;),d.onload=function(){d.onreadystatechange=d.onload=null,c._onLoadIframe(d)},d.onreadystatechange=function(){/loaded|complete/.test(d.readyState)&amp;&amp;(d.onreadystatechange=d.onload=null,c._onLoadIframe(d))},d},_onLoadIframe:function(f){var g,h,i,j,k,l,m;if(a.dom.contains(b.documentElement,f)){if(g=this,h=f.contentWindow,i=f.contentWindow.document,j=b.characterSet||b.charset||&quot;utf-8&quot;,k=this._getHtml({charset:j,stylesheets:this.config.stylesheets}),i.open(&quot;text/html&quot;,&quot;replace&quot;),i.write(k),i.close(),this.getWindow=function(){return f.contentWindow},this.getDocument=function(){return f.contentWindow.document},h.onerror=function(a,b,c){throw Error(&quot;wysihtml5.Sandbox: &quot;+a,b,c)},!a.browser.supportsSandboxedIframes()){for(l=0,m=c.length;m&gt;l;l++)this._unset(h,c[l]);for(l=0,m=d.length;m&gt;l;l++)this._unset(h,d[l],a.EMPTY_FUNCTION);for(l=0,m=e.length;m&gt;l;l++)this._unset(i,e[l]);this._unset(i,&quot;cookie&quot;,&quot;&quot;,!0)}this.loaded=!0,setTimeout(function(){g.callback(g)},0)}},_getHtml:function(b){var c,d=b.stylesheets,e=&quot;&quot;,f=0;if(d=&quot;string&quot;==typeof d?[d]:d,d)for(c=d.length;c&gt;f;f++)e+=&#39;&lt;link rel=&quot;stylesheet&quot; href=&quot;&#39;+d[f]+&#39;&quot;&gt;&#39;;return b.stylesheets=e,a.lang.string(&#39;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=&quot;#{charset}&quot;&gt;#{stylesheets}&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;&#39;).interpolate(b)},_unset:function(b,c,d,e){try{b[c]=d}catch(f){}try{b.__defineGetter__(c,function(){return d})}catch(f){}if(e)try{b.__defineSetter__(c,function(){})}catch(f){}if(!a.browser.crashesWhenDefineProperty(c))try{var g={get:function(){return d}};e&amp;&amp;(g.set=function(){}),Object.defineProperty(b,c,g)}catch(f){}}})}(wysihtml5),function(a){var b=document;a.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView},getDocument:function(){return this.element.ownerDocument},constructor:function(b,c,d){this.callback=b||a.EMPTY_FUNCTION,this.config=a.lang.object({}).merge(c).get(),this.element=d?this._bindElement(d):this._createElement()},_createElement:function(){var a=b.createElement(&quot;div&quot;);return a.className=&quot;wysihtml5-sandbox&quot;,this._loadElement(a),a},_bindElement:function(a){return a.className=a.className&amp;&amp;&quot;&quot;!=a.className?a.className+&quot; wysihtml5-sandbox&quot;:&quot;wysihtml5-sandbox&quot;,this._loadElement(a,!0),a},_loadElement:function(a,b){var c,d=this;b||(c=this._getHtml(),a.innerHTML=c),this.getWindow=function(){return a.ownerDocument.defaultView},this.getDocument=function(){return a.ownerDocument},this.loaded=!0,setTimeout(function(){d.callback(d)},0)},_getHtml:function(){return&quot;&quot;}})}(wysihtml5),function(){var a={className:&quot;class&quot;};wysihtml5.dom.setAttributes=function(b){return{on:function(c){for(var d in b)c.setAttribute(a[d]||d,b[d])}}}}(),wysihtml5.dom.setStyles=function(a){return{on:function(b){var c,d=b.style;if(&quot;string&quot;==typeof a)return d.cssText+=&quot;;&quot;+a,void 0;for(c in a)&quot;float&quot;===c?(d.cssFloat=a[c],d.styleFloat=a[c]):d[c]=a[c]}}},function(a){a.simulatePlaceholder=function(b,c,d){var e=&quot;placeholder&quot;,f=function(){var b=c.element.offsetWidth&gt;0&amp;&amp;c.element.offsetHeight&gt;0;c.hasPlaceholderSet()&amp;&amp;(c.clear(),c.element.focus(),b&amp;&amp;setTimeout(function(){var a=c.selection.getSelection();a.focusNode&amp;&amp;a.anchorNode||c.selection.selectNode(c.element.firstChild||c.element)},0)),c.placeholderSet=!1,a.removeClass(c.element,e)},g=function(){c.isEmpty()&amp;&amp;(c.placeholderSet=!0,c.setValue(d),a.addClass(c.element,e))};b.on(&quot;set_placeholder&quot;,g).on(&quot;unset_placeholder&quot;,f).on(&quot;focus:composer&quot;,f).on(&quot;paste:composer&quot;,f).on(&quot;blur:composer&quot;,g),g()}}(wysihtml5.dom),function(a){var b=document.documentElement;&quot;textContent&quot;in b?(a.setTextContent=function(a,b){a.textContent=b},a.getTextContent=function(a){return a.textContent}):&quot;innerText&quot;in b?(a.setTextContent=function(a,b){a.innerText=b},a.getTextContent=function(a){return a.innerText}):(a.setTextContent=function(a,b){a.nodeValue=b},a.getTextContent=function(a){return a.nodeValue})}(wysihtml5.dom),wysihtml5.dom.getAttribute=function(a,b){var c,d,e,f=!wysihtml5.browser.supportsGetAttributeCorrectly();return b=b.toLowerCase(),c=a.nodeName,&quot;IMG&quot;==c&amp;&amp;&quot;src&quot;==b&amp;&amp;wysihtml5.dom.isLoadedImage(a)===!0?a.src:f&amp;&amp;&quot;outerHTML&quot;in a?(d=a.outerHTML.toLowerCase(),e=-1!=d.indexOf(&quot; &quot;+b+&quot;=&quot;),e?a.getAttribute(b):null):a.getAttribute(b)},wysihtml5.dom.getAttributes=function(a){var b,c=!wysihtml5.browser.supportsGetAttributeCorrectly(),d=a.nodeName,e=[];for(b in a.attributes)(a.attributes.hasOwnProperty&amp;&amp;a.attributes.hasOwnProperty(b)||!a.attributes.hasOwnProperty&amp;&amp;Object.prototype.hasOwnProperty.call(a.attributes,b))&amp;&amp;a.attributes[b].specified&amp;&amp;(&quot;IMG&quot;==d&amp;&amp;&quot;src&quot;==a.attributes[b].name.toLowerCase()&amp;&amp;wysihtml5.dom.isLoadedImage(a)===!0?e.src=a.src:wysihtml5.lang.array([&quot;rowspan&quot;,&quot;colspan&quot;]).contains(a.attributes[b].name.toLowerCase())&amp;&amp;c?1!==a.attributes[b].value&amp;&amp;(e[a.attributes[b].name]=a.attributes[b].value):e[a.attributes[b].name]=a.attributes[b].value);return e},wysihtml5.dom.isLoadedImage=function(a){try{return a.complete&amp;&amp;!a.mozMatchesSelector(&quot;:-moz-broken&quot;)}catch(b){if(a.complete&amp;&amp;&quot;complete&quot;===a.readyState)return!0}},function(a){function b(a,b){var c,d,e,f,g=[];for(d=0,e=a.length;e&gt;d;d++)if(c=a[d].querySelectorAll(b),c)for(f=c.length;f--;g.unshift(c[f]));return g}function d(a){a.parentNode.removeChild(a)}function e(a,b){a.parentNode.insertBefore(b,a.nextSibling)}function f(a,b){for(var c=a.nextSibling;1!=c.nodeType;)if(c=c.nextSibling,!b||b==c.tagName.toLowerCase())return c;return null}var g=a.dom,h=function(a){this.el=a,this.isColspan=!1,this.isRowspan=!1,this.firstCol=!0,this.lastCol=!0,this.firstRow=!0,this.lastRow=!0,this.isReal=!0,this.spanCollection=[],this.modified=!1},i=function(a,b){a?(this.cell=a,this.table=g.getParentElement(a,{nodeName:[&quot;TABLE&quot;]})):b&amp;&amp;(this.table=b,this.cell=this.table.querySelectorAll(&quot;th, td&quot;)[0])};i.prototype={addSpannedCellToMap:function(a,b,c,d,e,f){var g,i,j=[],k=c+(f?parseInt(f,10)-1:0),l=d+(e?parseInt(e,10)-1:0);for(g=c;k&gt;=g;g++)for(void 0===b[g]&amp;&amp;(b[g]=[]),i=d;l&gt;=i;i++)b[g][i]=new h(a),b[g][i].isColspan=e&amp;&amp;parseInt(e,10)&gt;1,b[g][i].isRowspan=f&amp;&amp;parseInt(f,10)&gt;1,b[g][i].firstCol=i==d,b[g][i].lastCol=i==l,b[g][i].firstRow=g==c,b[g][i].lastRow=g==k,b[g][i].isReal=i==d&amp;&amp;g==c,b[g][i].spanCollection=j,j.push(b[g][i])},setCellAsModified:function(a){if(a.modified=!0,a.spanCollection.length&gt;0)for(var b=0,c=a.spanCollection.length;c&gt;b;b++)a.spanCollection[b].modified=!0},setTableMap:function(){var a,b,c,d,e,f,i,j,k=[],l=this.getTableRows();for(a=0;a&lt;l.length;a++)for(b=l[a],c=this.getRowCells(b),f=0,void 0===k[a]&amp;&amp;(k[a]=[]),d=0;d&lt;c.length;d++){for(e=c[d];void 0!==k[a][f];)f++;i=g.getAttribute(e,&quot;colspan&quot;),j=g.getAttribute(e,&quot;rowspan&quot;),i||j?(this.addSpannedCellToMap(e,k,a,f,i,j),f+=i?parseInt(i,10):1):(k[a][f]=new h(e),f++)}return this.map=k,k},getRowCells:function(c){var d=this.table.querySelectorAll(&quot;table&quot;),e=d?b(d,&quot;th, td&quot;):[],f=c.querySelectorAll(&quot;th, td&quot;),g=e.length&gt;0?a.lang.array(f).without(e):f;return g},getTableRows:function(){var c=this.table.querySelectorAll(&quot;table&quot;),d=c?b(c,&quot;tr&quot;):[],e=this.table.querySelectorAll(&quot;tr&quot;),f=d.length&gt;0?a.lang.array(e).without(d):e;return f},getMapIndex:function(a){var b,c,d=this.map.length,e=this.map&amp;&amp;this.map[0]?this.map[0].length:0;for(b=0;d&gt;b;b++)for(c=0;e&gt;c;c++)if(this.map[b][c].el===a)return{row:b,col:c};return!1},getElementAtIndex:function(a){return this.setTableMap(),this.map[a.row]&amp;&amp;this.map[a.row][a.col]&amp;&amp;this.map[a.row][a.col].el?this.map[a.row][a.col].el:null},getMapElsTo:function(a){var b,c,d,e,f,g,h=[];if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(a),(this.idx_start.row&gt;this.idx_end.row||this.idx_start.row==this.idx_end.row&amp;&amp;this.idx_start.col&gt;this.idx_end.col)&amp;&amp;(b=this.idx_start,this.idx_start=this.idx_end,this.idx_end=b),this.idx_start.col&gt;this.idx_end.col&amp;&amp;(c=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=c),null!=this.idx_start&amp;&amp;null!=this.idx_end)for(d=this.idx_start.row,e=this.idx_end.row;e&gt;=d;d++)for(f=this.idx_start.col,g=this.idx_end.col;g&gt;=f;f++)h.push(this.map[d][f].el);return h},orderSelectionEnds:function(a){var b,c;return this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(a),(this.idx_start.row&gt;this.idx_end.row||this.idx_start.row==this.idx_end.row&amp;&amp;this.idx_start.col&gt;this.idx_end.col)&amp;&amp;(b=this.idx_start,this.idx_start=this.idx_end,this.idx_end=b),this.idx_start.col&gt;this.idx_end.col&amp;&amp;(c=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=c),{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(a,b,c){var d,e,f,g=this.table.ownerDocument,h=g.createDocumentFragment();for(e=0;b&gt;e;e++){if(d=g.createElement(a),c)for(f in c)c.hasOwnProperty(f)&amp;&amp;d.setAttribute(f,c[f]);d.appendChild(document.createTextNode(&quot; &quot;)),h.appendChild(d)}return h},correctColIndexForUnreals:function(a,b){var c,d,e=this.map[b],f=-1;for(c=0,d=a;a&gt;c;c++)e[c].isReal&amp;&amp;f++;return f},getLastNewCellOnRow:function(a,b){var c,d,e,f,g=this.getRowCells(a);for(e=0,f=g.length;f&gt;e;e++)if(c=g[e],d=this.getMapIndex(c),d===!1||void 0!==b&amp;&amp;d.row!=b)return c;return null},removeEmptyTable:function(){var a=this.table.querySelectorAll(&quot;td, th&quot;);return a&amp;&amp;0!=a.length?!1:(d(this.table),!0)},splitRowToCells:function(a){var b,c,d;a.isColspan&amp;&amp;(b=parseInt(g.getAttribute(a.el,&quot;colspan&quot;)||1,10),c=a.el.tagName.toLowerCase(),b&gt;1&amp;&amp;(d=this.createCells(c,b-1),e(a.el,d)),a.el.removeAttribute(&quot;colspan&quot;))},getRealRowEl:function(a,b){var c,d,e=null,f=null;for(b=b||this.idx,c=0,d=this.map[b.row].length;d&gt;c;c++)if(f=this.map[b.row][c],f.isReal&amp;&amp;(e=g.getParentElement(f.el,{nodeName:[&quot;TR&quot;]}),e))return e;return null===e&amp;&amp;a&amp;&amp;(e=g.getParentElement(this.map[b.row][b.col].el,{nodeName:[&quot;TR&quot;]})||null),e},injectRowAt:function(a,b,c,d,f){var h,i,j=this.getRealRowEl(!1,{row:a,col:b}),k=this.createCells(d,c);j?(h=this.correctColIndexForUnreals(b,a),h&gt;=0?e(this.getRowCells(j)[h],k):j.insertBefore(k,j.firstChild)):(i=this.table.ownerDocument.createElement(&quot;tr&quot;),i.appendChild(k),e(g.getParentElement(f.el,{nodeName:[&quot;TR&quot;]}),i))},canMerge:function(a){var b,c,d,e,f,g;for(this.to=a,this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(this.to),(this.idx_start.row&gt;this.idx_end.row||this.idx_start.row==this.idx_end.row&amp;&amp;this.idx_start.col&gt;this.idx_end.col)&amp;&amp;(b=this.idx_start,this.idx_start=this.idx_end,this.idx_end=b),this.idx_start.col&gt;this.idx_end.col&amp;&amp;(c=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=c),d=this.idx_start.row,e=this.idx_end.row;e&gt;=d;d++)for(f=this.idx_start.col,g=this.idx_end.col;g&gt;=f;f++)if(this.map[d][f].isColspan||this.map[d][f].isRowspan)return!1;return!0},decreaseCellSpan:function(a,b){var c=parseInt(g.getAttribute(a.el,b),10)-1;c&gt;=1?a.el.setAttribute(b,c):(a.el.removeAttribute(b),&quot;colspan&quot;==b&amp;&amp;(a.isColspan=!1),&quot;rowspan&quot;==b&amp;&amp;(a.isRowspan=!1),a.firstCol=!0,a.lastCol=!0,a.firstRow=!0,a.lastRow=!0,a.isReal=!0)},removeSurplusLines:function(){var a,b,c,e,f,h,i,j;if(this.setTableMap(),this.map){for(c=0,e=this.map.length;e&gt;c;c++){for(a=this.map[c],i=!0,f=0,h=a.length;h&gt;f;f++)if(b=a[f],!(g.getAttribute(b.el,&quot;rowspan&quot;)&amp;&amp;parseInt(g.getAttribute(b.el,&quot;rowspan&quot;),10)&gt;1&amp;&amp;b.firstRow!==!0)){i=!1;break}if(i)for(f=0;h&gt;f;f++)this.decreaseCellSpan(a[f],&quot;rowspan&quot;)}for(j=this.getTableRows(),c=0,e=j.length;e&gt;c;c++)a=j[c],0==a.childNodes.length&amp;&amp;/^\s*$/.test(a.textContent||a.innerText)&amp;&amp;d(a)}},fillMissingCells:function(){var a,b,c,d=0,f=0,g=null;if(this.setTableMap(),this.map){for(d=this.map.length,a=0;d&gt;a;a++)this.map[a].length&gt;f&amp;&amp;(f=this.map[a].length);for(b=0;d&gt;b;b++)for(c=0;f&gt;c;c++)this.map[b]&amp;&amp;!this.map[b][c]&amp;&amp;c&gt;0&amp;&amp;(this.map[b][c]=new h(this.createCells(&quot;td&quot;,1)),g=this.map[b][c-1],g&amp;&amp;g.el&amp;&amp;g.el.parent&amp;&amp;e(this.map[b][c-1].el,this.map[b][c].el))}},rectify:function(){return this.removeEmptyTable()?!1:(this.removeSurplusLines(),this.fillMissingCells(),!0)},unmerge:function(){var a,b,c,d,e,f;if(this.rectify()&amp;&amp;(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx)){if(a=this.map[this.idx.row][this.idx.col],b=g.getAttribute(a.el,&quot;colspan&quot;)?parseInt(g.getAttribute(a.el,&quot;colspan&quot;),10):1,c=a.el.tagName.toLowerCase(),a.isRowspan){if(d=parseInt(g.getAttribute(a.el,&quot;rowspan&quot;),10),d&gt;1)for(e=1,f=d-1;f&gt;=e;e++)this.injectRowAt(this.idx.row+e,this.idx.col,b,c,a);a.el.removeAttribute(&quot;rowspan&quot;)}this.splitRowToCells(a)}},merge:function(a){var b,c,e,f,g,h;if(this.rectify())if(this.canMerge(a)){for(b=this.idx_end.row-this.idx_start.row+1,c=this.idx_end.col-this.idx_start.col+1,e=this.idx_start.row,f=this.idx_end.row;f&gt;=e;e++)for(g=this.idx_start.col,h=this.idx_end.col;h&gt;=g;g++)e==this.idx_start.row&amp;&amp;g==this.idx_start.col?(b&gt;1&amp;&amp;this.map[e][g].el.setAttribute(&quot;rowspan&quot;,b),c&gt;1&amp;&amp;this.map[e][g].el.setAttribute(&quot;colspan&quot;,c)):(/^\s*&lt;br\/?&gt;\s*$/.test(this.map[e][g].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=&quot; &quot;+this.map[e][g].el.innerHTML),d(this.map[e][g].el));this.rectify()}else window.console&amp;&amp;void 0},collapseCellToNextRow:function(a){var b,c,d,f=this.getMapIndex(a.el),h=f.row+1,i={row:h,col:f.col};h&lt;this.map.length&amp;&amp;(b=this.getRealRowEl(!1,i),null!==b&amp;&amp;(c=this.correctColIndexForUnreals(i.col,i.row),c&gt;=0?e(this.getRowCells(b)[c],a.el):(d=this.getLastNewCellOnRow(b,h),null!==d?e(d,a.el):b.insertBefore(a.el,b.firstChild)),parseInt(g.getAttribute(a.el,&quot;rowspan&quot;),10)&gt;2?a.el.setAttribute(&quot;rowspan&quot;,parseInt(g.getAttribute(a.el,&quot;rowspan&quot;),10)-1):a.el.removeAttribute(&quot;rowspan&quot;)))},removeRowCell:function(a){a.isReal?a.isRowspan?this.collapseCellToNextRow(a):d(a.el):parseInt(g.getAttribute(a.el,&quot;rowspan&quot;),10)&gt;2?a.el.setAttribute(&quot;rowspan&quot;,parseInt(g.getAttribute(a.el,&quot;rowspan&quot;),10)-1):a.el.removeAttribute(&quot;rowspan&quot;)},getRowElementsByCell:function(){var a,b,c,d=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(a=this.map[this.idx.row],b=0,c=a.length;c&gt;b;b++)a[b].isReal&amp;&amp;d.push(a[b].el);return d},getColumnElementsByCell:function(){var a,b,c=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(a=0,b=this.map.length;b&gt;a;a++)this.map[a][this.idx.col]&amp;&amp;this.map[a][this.idx.col].isReal&amp;&amp;c.push(this.map[a][this.idx.col].el);return c},removeRow:function(){var a,b,c,e=g.getParentElement(this.cell,{nodeName:[&quot;TR&quot;]});if(e){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(a=this.map[this.idx.row],b=0,c=a.length;c&gt;b;b++)a[b].modified||(this.setCellAsModified(a[b]),this.removeRowCell(a[b]));d(e)}},removeColCell:function(a){a.isColspan?parseInt(g.getAttribute(a.el,&quot;colspan&quot;),10)&gt;2?a.el.setAttribute(&quot;colspan&quot;,parseInt(g.getAttribute(a.el,&quot;colspan&quot;),10)-1):a.el.removeAttribute(&quot;colspan&quot;):a.isReal&amp;&amp;d(a.el)},removeColumn:function(){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var a=0,b=this.map.length;b&gt;a;a++)this.map[a][this.idx.col].modified||(this.setCellAsModified(this.map[a][this.idx.col]),this.removeColCell(this.map[a][this.idx.col]))},remove:function(a){if(this.rectify()){switch(a){case&quot;row&quot;:this.removeRow();break;case&quot;column&quot;:this.removeColumn()}this.rectify()}},addRow:function(a){var b,c,d,f,h,i=this.table.ownerDocument;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),&quot;below&quot;==a&amp;&amp;g.getAttribute(this.cell,&quot;rowspan&quot;)&amp;&amp;(this.idx.row=this.idx.row+parseInt(g.getAttribute(this.cell,&quot;rowspan&quot;),10)-1),this.idx!==!1){for(b=this.map[this.idx.row],c=i.createElement(&quot;tr&quot;),d=0,f=b.length;f&gt;d;d++)b[d].modified||(this.setCellAsModified(b[d]),this.addRowCell(b[d],c,a));switch(a){case&quot;below&quot;:e(this.getRealRowEl(!0),c);break;case&quot;above&quot;:h=g.getParentElement(this.map[this.idx.row][this.idx.col].el,{nodeName:[&quot;TR&quot;]}),h&amp;&amp;h.parentNode.insertBefore(c,h)}}},addRowCell:function(a,b,d){var e=a.isColspan?{colspan:g.getAttribute(a.el,&quot;colspan&quot;)}:null;a.isReal?&quot;above&quot;!=d&amp;&amp;a.isRowspan?a.el.setAttribute(&quot;rowspan&quot;,parseInt(g.getAttribute(a.el,&quot;rowspan&quot;),10)+1):b.appendChild(this.createCells(&quot;td&quot;,1,e)):&quot;above&quot;!=d&amp;&amp;a.isRowspan&amp;&amp;a.lastRow?b.appendChild(this.createCells(&quot;td&quot;,1,e)):c.isRowspan&amp;&amp;a.el.attr(&quot;rowspan&quot;,parseInt(g.getAttribute(a.el,&quot;rowspan&quot;),10)+1)},add:function(a){this.rectify()&amp;&amp;((&quot;below&quot;==a||&quot;above&quot;==a)&amp;&amp;this.addRow(a),(&quot;before&quot;==a||&quot;after&quot;==a)&amp;&amp;this.addColumn(a))},addColCell:function(a,b,d){var f,h=a.el.tagName.toLowerCase();switch(d){case&quot;before&quot;:f=!a.isColspan||a.firstCol;break;case&quot;after&quot;:f=!a.isColspan||a.lastCol||a.isColspan&amp;&amp;c.el==this.cell}if(f){switch(d){case&quot;before&quot;:a.el.parentNode.insertBefore(this.createCells(h,1),a.el);break;case&quot;after&quot;:e(a.el,this.createCells(h,1))}a.isRowspan&amp;&amp;this.handleCellAddWithRowspan(a,b+1,d)}else a.el.setAttribute(&quot;colspan&quot;,parseInt(g.getAttribute(a.el,&quot;colspan&quot;),10)+1)},addColumn:function(a){var b,c,d,e;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),&quot;after&quot;==a&amp;&amp;g.getAttribute(this.cell,&quot;colspan&quot;)&amp;&amp;(this.idx.col=this.idx.col+parseInt(g.getAttribute(this.cell,&quot;colspan&quot;),10)-1),this.idx!==!1)for(d=0,e=this.map.length;e&gt;d;d++)b=this.map[d],b[this.idx.col]&amp;&amp;(c=b[this.idx.col],c.modified||(this.setCellAsModified(c),this.addColCell(c,d,a)))},handleCellAddWithRowspan:function(a,b,c){var d,h,i,j,k=parseInt(g.getAttribute(this.cell,&quot;rowspan&quot;),10)-1,l=g.getParentElement(a.el,{nodeName:[&quot;TR&quot;]}),m=a.el.tagName.toLowerCase(),n=this.table.ownerDocument;for(j=0;k&gt;j;j++)if(d=this.correctColIndexForUnreals(this.idx.col,b+j),l=f(l,&quot;tr&quot;),l)if(d&gt;0)switch(c){case&quot;before&quot;:h=this.getRowCells(l),d&gt;0&amp;&amp;this.map[b+j][this.idx.col].el!=h[d]&amp;&amp;d==h.length-1?e(h[d],this.createCells(m,1)):h[d].parentNode.insertBefore(this.createCells(m,1),h[d]);</td>
      </tr>
      <tr>
        <td id="L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="LC5" class="blob-code blob-code-inner js-file-line">break;case&quot;after&quot;:e(this.getRowCells(l)[d],this.createCells(m,1))}else l.insertBefore(this.createCells(m,1),l.firstChild);else i=n.createElement(&quot;tr&quot;),i.appendChild(this.createCells(m,1)),this.table.appendChild(i)}},g.table={getCellsBetween:function(a,b){var c=new i(a);return c.getMapElsTo(b)},addCells:function(a,b){var c=new i(a);c.add(b)},removeCells:function(a,b){var c=new i(a);c.remove(b)},mergeCellsBetween:function(a,b){var c=new i(a);c.merge(b)},unmergeCell:function(a){var b=new i(a);b.unmerge()},orderSelectionEnds:function(a,b){var c=new i(a);return c.orderSelectionEnds(b)},indexOf:function(a){var b=new i(a);return b.setTableMap(),b.getMapIndex(a)},findCell:function(a,b){var c=new i(null,a);return c.getElementAtIndex(b)},findRowByCell:function(a){var b=new i(a);return b.getRowElementsByCell()},findColumnByCell:function(a){var b=new i(a);return b.getColumnElementsByCell()},canMerge:function(a,b){var c=new i(a);return c.canMerge(b)}}}(wysihtml5),wysihtml5.dom.query=function(a,b){var c,d,e,f,g=[];for(a.nodeType&amp;&amp;(a=[a]),d=0,e=a.length;e&gt;d;d++)if(c=a[d].querySelectorAll(b),c)for(f=c.length;f--;g.unshift(c[f]));return g},wysihtml5.dom.compareDocumentPosition=function(){var a=document.documentElement;return a.compareDocumentPosition?function(a,b){return a.compareDocumentPosition(b)}:function(a,b){var c,d,e,f,g,h,i,j,k;if(c=9===a.nodeType?a:a.ownerDocument,d=9===b.nodeType?b:b.ownerDocument,a===b)return 0;if(a===b.ownerDocument)return 20;if(a.ownerDocument===b)return 10;if(c!==d)return 1;if(2===a.nodeType&amp;&amp;a.childNodes&amp;&amp;-1!==wysihtml5.lang.array(a.childNodes).indexOf(b))return 20;if(2===b.nodeType&amp;&amp;b.childNodes&amp;&amp;-1!==wysihtml5.lang.array(b.childNodes).indexOf(a))return 10;for(e=a,f=[],g=null;e;){if(e==b)return 10;f.push(e),e=e.parentNode}for(e=b,g=null;e;){if(e==a)return 20;if(h=wysihtml5.lang.array(f).indexOf(e),-1!==h)return i=f[h],j=wysihtml5.lang.array(i.childNodes).indexOf(f[h-1]),k=wysihtml5.lang.array(i.childNodes).indexOf(g),j&gt;k?2:4;g=e,e=e.parentNode}return 1}}(),wysihtml5.dom.unwrap=function(a){if(a.parentNode){for(;a.lastChild;)wysihtml5.dom.insert(a.lastChild).after(a);a.parentNode.removeChild(a)}},wysihtml5.dom.getPastedHtml=function(a){var b;return a.clipboardData&amp;&amp;(wysihtml5.lang.array(a.clipboardData.types).contains(&quot;text/html&quot;)?b=a.clipboardData.getData(&quot;text/html&quot;):wysihtml5.lang.array(a.clipboardData.types).contains(&quot;text/plain&quot;)&amp;&amp;(b=wysihtml5.lang.string(a.clipboardData.getData(&quot;text/plain&quot;)).escapeHTML(!0,!0))),b},wysihtml5.dom.getPastedHtmlWithDiv=function(a,b){var c=a.selection.getBookmark(),d=a.element.ownerDocument,e=d.createElement(&quot;DIV&quot;);d.body.appendChild(e),e.style.width=&quot;1px&quot;,e.style.height=&quot;1px&quot;,e.style.overflow=&quot;hidden&quot;,e.setAttribute(&quot;contenteditable&quot;,&quot;true&quot;),e.focus(),setTimeout(function(){a.selection.setBookmark(c),b(e.innerHTML),e.parentNode.removeChild(e)},0)},wysihtml5.quirks.cleanPastedHTML=function(){var a=function(a){var b=wysihtml5.lang.string(a).trim(),c=b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,&quot;\\$&amp;&quot;);return RegExp(&quot;^((?!^&quot;+c+&quot;$).)*$&quot;,&quot;i&quot;)},b=function(b,c){var d,e,f=wysihtml5.lang.object(b).clone(!0);for(d in f.tags)if(f.tags.hasOwnProperty(d)&amp;&amp;f.tags[d].keep_styles)for(e in f.tags[d].keep_styles)f.tags[d].keep_styles.hasOwnProperty(e)&amp;&amp;c[e]&amp;&amp;(f.tags[d].keep_styles[e]=a(c[e]));return f},c=function(a,b){var c,d,e;if(!a)return null;for(d=0,e=a.length;e&gt;d;d++)if(a[d].condition||(c=a[d].set),a[d].condition&amp;&amp;a[d].condition.test(b))return a[d].set;return c};return function(a,d){var e,f={color:wysihtml5.dom.getStyle(&quot;color&quot;).from(d.referenceNode),fontSize:wysihtml5.dom.getStyle(&quot;font-size&quot;).from(d.referenceNode)},g=b(c(d.rules,a)||{},f);return e=wysihtml5.dom.parse(a,{rules:g,cleanUp:!0,context:d.referenceNode.ownerDocument,uneditableClass:d.uneditableClass,clearInternals:!0,unjoinNbsps:!0}),e}}(),wysihtml5.quirks.ensureProperClearing=function(){var a=function(){var a=this;setTimeout(function(){var b=a.innerHTML.toLowerCase();(&quot;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&quot;==b||&quot;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&lt;p&gt;&amp;nbsp;&lt;/p&gt;&quot;==b)&amp;&amp;(a.innerHTML=&quot;&quot;)},0)};return function(b){wysihtml5.dom.observe(b.element,[&quot;cut&quot;,&quot;keydown&quot;],a)}}(),function(a){var b=&quot;%7E&quot;;a.quirks.getCorrectInnerHTML=function(c){var d,e,f,g,h,i=c.innerHTML;if(-1===i.indexOf(b))return i;for(d=c.querySelectorAll(&quot;[href*=&#39;~&#39;], [src*=&#39;~&#39;]&quot;),h=0,g=d.length;g&gt;h;h++)e=d[h].href||d[h].src,f=a.lang.string(e).replace(&quot;~&quot;).by(b),i=a.lang.string(i).replace(f).by(e);return i}}(wysihtml5),function(a){var b=&quot;wysihtml5-quirks-redraw&quot;;a.quirks.redraw=function(c){a.dom.addClass(c,b),a.dom.removeClass(c,b);try{var d=c.ownerDocument;d.execCommand(&quot;italic&quot;,!1,null),d.execCommand(&quot;italic&quot;,!1,null)}catch(e){}}}(wysihtml5),wysihtml5.quirks.tableCellsSelection=function(a,b){function c(){return k.observe(a,&quot;mousedown&quot;,function(a){var b=wysihtml5.dom.getParentElement(a.target,{nodeName:[&quot;TD&quot;,&quot;TH&quot;]});b&amp;&amp;d(b)}),l}function d(c){l.start=c,l.end=c,l.cells=[c],l.table=k.getParentElement(l.start,{nodeName:[&quot;TABLE&quot;]}),l.table&amp;&amp;(e(),k.addClass(c,m),n=k.observe(a,&quot;mousemove&quot;,g),o=k.observe(a,&quot;mouseup&quot;,h),b.fire(&quot;tableselectstart&quot;).fire(&quot;tableselectstart:composer&quot;))}function e(){var b,c;if(a&amp;&amp;(b=a.querySelectorAll(&quot;.&quot;+m),b.length&gt;0))for(c=0;c&lt;b.length;c++)k.removeClass(b[c],m)}function f(a){for(var b=0;b&lt;a.length;b++)k.addClass(a[b],m)}function g(a){var c,d=null,g=k.getParentElement(a.target,{nodeName:[&quot;TD&quot;,&quot;TH&quot;]});g&amp;&amp;l.table&amp;&amp;l.start&amp;&amp;(d=k.getParentElement(g,{nodeName:[&quot;TABLE&quot;]}),d&amp;&amp;d===l.table&amp;&amp;(e(),c=l.end,l.end=g,l.cells=k.table.getCellsBetween(l.start,g),l.cells.length&gt;1&amp;&amp;b.composer.selection.deselect(),f(l.cells),l.end!==c&amp;&amp;b.fire(&quot;tableselectchange&quot;).fire(&quot;tableselectchange:composer&quot;)))}function h(){n.stop(),o.stop(),b.fire(&quot;tableselect&quot;).fire(&quot;tableselect:composer&quot;),setTimeout(function(){i()},0)}function i(){var c=k.observe(a.ownerDocument,&quot;click&quot;,function(a){c.stop(),k.getParentElement(a.target,{nodeName:[&quot;TABLE&quot;]})!=l.table&amp;&amp;(e(),l.table=null,l.start=null,l.end=null,b.fire(&quot;tableunselect&quot;).fire(&quot;tableunselect:composer&quot;))})}function j(a,c){l.start=a,l.end=c,l.table=k.getParentElement(l.start,{nodeName:[&quot;TABLE&quot;]}),selectedCells=k.table.getCellsBetween(l.start,l.end),f(selectedCells),i(),b.fire(&quot;tableselect&quot;).fire(&quot;tableselect:composer&quot;)}var k=wysihtml5.dom,l={table:null,start:null,end:null,cells:null,select:j},m=&quot;wysiwyg-tmp-selected-cell&quot;,n=null,o=null;return c()},function(a){var b=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]+)\s*\)/i,c=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i,d=/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,e=/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,f=function(a){return RegExp(&quot;(^|\\s|;)&quot;+a+&quot;\\s*:\\s*[^;$]+&quot;,&quot;gi&quot;)};a.quirks.styleParser={parseColor:function(g,h){var i,j,k,l=f(h),m=g.match(l),n=10;if(m){for(k=m.length;k--;)m[k]=a.lang.string(m[k].split(&quot;:&quot;)[1]).trim();if(i=m[m.length-1],b.test(i))j=i.match(b);else if(c.test(i))j=i.match(c);else if(d.test(i))j=i.match(d),n=16;else if(e.test(i))return j=i.match(e),j.shift(),j.push(1),a.lang.array(j).map(function(a,b){return 3&gt;b?16*parseInt(a,16)+parseInt(a,16):parseFloat(a)});if(j)return j.shift(),j[3]||j.push(1),a.lang.array(j).map(function(a,b){return 3&gt;b?parseInt(a,n):parseFloat(a)})}return!1},unparseColor:function(a,b){if(b){if(&quot;hex&quot;==b)return a[0].toString(16).toUpperCase()+a[1].toString(16).toUpperCase()+a[2].toString(16).toUpperCase();if(&quot;hash&quot;==b)return&quot;#&quot;+a[0].toString(16).toUpperCase()+a[1].toString(16).toUpperCase()+a[2].toString(16).toUpperCase();if(&quot;rgb&quot;==b)return&quot;rgb(&quot;+a[0]+&quot;,&quot;+a[1]+&quot;,&quot;+a[2]+&quot;)&quot;;if(&quot;rgba&quot;==b)return&quot;rgba(&quot;+a[0]+&quot;,&quot;+a[1]+&quot;,&quot;+a[2]+&quot;,&quot;+a[3]+&quot;)&quot;;if(&quot;csv&quot;==b)return a[0]+&quot;,&quot;+a[1]+&quot;,&quot;+a[2]+&quot;,&quot;+a[3]}return a[3]&amp;&amp;1!==a[3]?&quot;rgba(&quot;+a[0]+&quot;,&quot;+a[1]+&quot;,&quot;+a[2]+&quot;,&quot;+a[3]+&quot;)&quot;:&quot;rgb(&quot;+a[0]+&quot;,&quot;+a[1]+&quot;,&quot;+a[2]+&quot;)&quot;},parseFontSize:function(b){var c=b.match(f(&quot;font-size&quot;));return c?a.lang.string(c[c.length-1].split(&quot;:&quot;)[1]).trim():!1}}}(wysihtml5),function(a){function b(a){var b=0;if(a.parentNode)do b+=a.offsetTop||0,a=a.offsetParent;while(a);return b}function c(a,b){for(var c=0;b!==a;)if(c++,b=b.parentNode,!b)throw Error(&quot;not a descendant of ancestor!&quot;);return c}function d(a){if(!a.canSurroundContents())for(var b=a.commonAncestorContainer,d=c(b,a.startContainer),e=c(b,a.endContainer);!a.canSurroundContents();)d&gt;e?(a.setStartBefore(a.startContainer),d=c(b,a.startContainer)):(a.setEndAfter(a.endContainer),e=c(b,a.endContainer))}var e=a.dom;a.Selection=Base.extend({constructor:function(a,b,c){window.rangy.init(),this.editor=a,this.composer=a.composer,this.doc=this.composer.doc,this.contain=b,this.unselectableClass=c||!1},getBookmark:function(){var a=this.getRange();return a&amp;&amp;d(a),a&amp;&amp;a.cloneRange()},setBookmark:function(a){a&amp;&amp;this.setSelection(a)},setBefore:function(a){var b=rangy.createRange(this.doc);return b.setStartBefore(a),b.setEndBefore(a),this.setSelection(b)},setAfter:function(a){var b=rangy.createRange(this.doc);return b.setStartAfter(a),b.setEndAfter(a),this.setSelection(b)},selectNode:function(b,c){var d=rangy.createRange(this.doc),f=b.nodeType===a.ELEMENT_NODE,g=&quot;canHaveHTML&quot;in b?b.canHaveHTML:&quot;IMG&quot;!==b.nodeName,h=f?b.innerHTML:b.data,i=&quot;&quot;===h||h===a.INVISIBLE_SPACE,j=e.getStyle(&quot;display&quot;).from(b),k=&quot;block&quot;===j||&quot;list-item&quot;===j;if(i&amp;&amp;f&amp;&amp;g&amp;&amp;!c)try{b.innerHTML=a.INVISIBLE_SPACE}catch(l){}g?d.selectNodeContents(b):d.selectNode(b),g&amp;&amp;i&amp;&amp;f?d.collapse(k):g&amp;&amp;i&amp;&amp;(d.setStartAfter(b),d.setEndAfter(b)),this.setSelection(d)},getSelectedNode:function(a){var b,c;return a&amp;&amp;this.doc.selection&amp;&amp;&quot;Control&quot;===this.doc.selection.type&amp;&amp;(c=this.doc.selection.createRange(),c&amp;&amp;c.length)?c.item(0):(b=this.getSelection(this.doc),b.focusNode===b.anchorNode?b.focusNode:(c=this.getRange(this.doc),c?c.commonAncestorContainer:this.doc.body))},fixSelBorders:function(){var a=this.getRange();d(a),this.setSelection(a)},getSelectedOwnNodes:function(){var a,b,c=this.getOwnRanges(),d=[];for(a=0,b=c.length;b&gt;a;a++)d.push(c[a].commonAncestorContainer||this.doc.body);return d},findNodesInSelection:function(b){var c,d,e,f=this.getOwnRanges(),g=[];for(d=0,e=f.length;e&gt;d;d++)c=f[d].getNodes([1],function(c){return a.lang.array(b).contains(c.nodeName)}),g=g.concat(c);return g},containsUneditable:function(){var a,b,c=this.getOwnUneditables(),d=this.getSelection();for(a=0,b=c.length;b&gt;a;a++)if(d.containsNode(c[a]))return!0;return!1},deleteContents:function(){var a,b=this.getOwnRanges();for(a=b.length;a--;)b[a].deleteContents();this.setSelection(b[0])},getPreviousNode:function(b,c){var d,e,f;return b||(d=this.getSelection(),b=d.anchorNode),b===this.contain?!1:(e=b.previousSibling,e===this.contain?!1:(e&amp;&amp;3!==e.nodeType&amp;&amp;1!==e.nodeType?e=this.getPreviousNode(e,c):e&amp;&amp;3===e.nodeType&amp;&amp;/^\s*$/.test(e.textContent)?e=this.getPreviousNode(e,c):c&amp;&amp;e&amp;&amp;1===e.nodeType&amp;&amp;!a.lang.array([&quot;BR&quot;,&quot;HR&quot;,&quot;IMG&quot;]).contains(e.nodeName)&amp;&amp;/^[\s]*$/.test(e.innerHTML)?e=this.getPreviousNode(e,c):e||b===this.contain||(f=b.parentNode,f!==this.contain&amp;&amp;(e=this.getPreviousNode(f,c))),e!==this.contain?e:!1))},getSelectionParentsByTag:function(){var b,c,d,e=this.getSelectedOwnNodes(),f=[];for(c=0,d=e.length;d&gt;c;c++)b=e[c].nodeName&amp;&amp;&quot;LI&quot;===e[c].nodeName?e[c]:a.dom.getParentElement(e[c],{nodeName:[&quot;LI&quot;]},!1,this.contain),b&amp;&amp;f.push(b);return f.length?f:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var a=this.getRange(),b=a.startContainer,c=a.startOffset,d=rangy.createRange(this.doc);return d.selectNodeContents(b),d.setStart(b,c),d}},caretIsLastInSelection:function(){var a=(rangy.createRange(this.doc),this.getSelection(),this.getRangeToNodeEnd().cloneContents()),b=a.textContent;return/^\s*$/.test(b)},caretIsFirstInSelection:function(){var b=rangy.createRange(this.doc),c=this.getSelection(),d=this.getRange(),e=d.startContainer;return e.nodeType===a.TEXT_NODE?this.isCollapsed()&amp;&amp;e.nodeType===a.TEXT_NODE&amp;&amp;/^\s*$/.test(e.data.substr(0,d.startOffset)):(b.selectNodeContents(this.getRange().commonAncestorContainer),b.collapse(!0),this.isCollapsed()&amp;&amp;(b.startContainer===c.anchorNode||b.endContainer===c.anchorNode)&amp;&amp;b.startOffset===c.anchorOffset)},caretIsInTheBeginnig:function(b){var c=this.getSelection(),d=c.anchorNode,e=c.anchorOffset;return b?0===e&amp;&amp;(d.nodeName&amp;&amp;d.nodeName===b.toUpperCase()||a.dom.getParentElement(d.parentNode,{nodeName:b},1)):0===e&amp;&amp;!this.getPreviousNode(d,!0)},caretIsBeforeUneditable:function(){var a,b,c,d,e=this.getSelection(),f=e.anchorNode,g=e.anchorOffset;if(0===g&amp;&amp;(a=this.getPreviousNode(f,!0),a))for(b=this.getOwnUneditables(),c=0,d=b.length;d&gt;c;c++)if(a===b[c])return b[c];return!1},executeAndRestoreRangy:function(a){var b=this.doc.defaultView||this.doc.parentWindow,c=rangy.saveSelection(b);if(c)try{a()}catch(d){setTimeout(function(){throw d},0)}else a();rangy.restoreSelection(c)},executeAndRestore:function(b,c){var d,f,g,h,i,j,k,l,m,n=this.doc.body,o=c&amp;&amp;n.scrollTop,p=c&amp;&amp;n.scrollLeft,q=&quot;_wysihtml5-temp-placeholder&quot;,r=&#39;&lt;span class=&quot;&#39;+q+&#39;&quot;&gt;&#39;+a.INVISIBLE_SPACE+&quot;&lt;/span&gt;&quot;,s=this.getRange(!0);if(!s)return b(n,n),void 0;s.collapsed||(k=s.cloneRange(),j=k.createContextualFragment(r),k.collapse(!1),k.insertNode(j),k.detach()),i=s.createContextualFragment(r),s.insertNode(i),j&amp;&amp;(d=this.contain.querySelectorAll(&quot;.&quot;+q),s.setStartBefore(d[0]),s.setEndAfter(d[d.length-1])),this.setSelection(s);try{b(s.startContainer,s.endContainer)}catch(t){setTimeout(function(){throw t},0)}if(d=this.contain.querySelectorAll(&quot;.&quot;+q),d&amp;&amp;d.length)for(l=rangy.createRange(this.doc),g=d[0].nextSibling,d.length&gt;1&amp;&amp;(h=d[d.length-1].previousSibling),h&amp;&amp;g?(l.setStartBefore(g),l.setEndAfter(h)):(f=this.doc.createTextNode(a.INVISIBLE_SPACE),e.insert(f).after(d[0]),l.setStartBefore(f),l.setEndAfter(f)),this.setSelection(l),m=d.length;m--;)d[m].parentNode.removeChild(d[m]);else this.contain.focus();c&amp;&amp;(n.scrollTop=o,n.scrollLeft=p);try{d.parentNode.removeChild(d)}catch(u){}},set:function(a,b){var c=rangy.createRange(this.doc);c.setStart(a,b||0),this.setSelection(c)},insertHTML:function(a){var b,c=(rangy.createRange(this.doc),this.doc.createElement(&quot;DIV&quot;)),d=this.doc.createDocumentFragment();for(c.innerHTML=a,b=c.lastChild;c.firstChild;)d.appendChild(c.firstChild);this.insertNode(d),b&amp;&amp;this.setAfter(b)},insertNode:function(a){var b=this.getRange();b&amp;&amp;b.insertNode(a)},surround:function(a){var b,c,d=this.getOwnRanges(),e=[];if(0==d.length)return e;for(c=d.length;c--;){b=this.doc.createElement(a.nodeName),e.push(b),a.className&amp;&amp;(b.className=a.className),a.cssStyle&amp;&amp;b.setAttribute(&quot;style&quot;,a.cssStyle);try{d[c].surroundContents(b),this.selectNode(b)}catch(f){b.appendChild(d[c].extractContents()),d[c].insertNode(b)}}return e},deblockAndSurround:function(b){var c,d,e,f=this.doc.createElement(&quot;div&quot;),g=rangy.createRange(this.doc);if(f.className=b.className,this.composer.commands.exec(&quot;formatBlock&quot;,b.nodeName,b.className),c=this.contain.querySelectorAll(&quot;.&quot;+b.className),c[0])for(c[0].parentNode.insertBefore(f,c[0]),g.setStartBefore(c[0]),g.setEndAfter(c[c.length-1]),d=g.extractContents();d.firstChild;)if(e=d.firstChild,1==e.nodeType&amp;&amp;a.dom.hasClass(e,b.className)){for(;e.firstChild;)f.appendChild(e.firstChild);&quot;BR&quot;!==e.nodeName&amp;&amp;f.appendChild(this.doc.createElement(&quot;br&quot;)),d.removeChild(e)}else f.appendChild(e);else f=null;return f},scrollIntoView:function(){var c,d=this.doc,e=5,f=d.documentElement.scrollHeight&gt;d.documentElement.offsetHeight,g=d._wysihtml5ScrollIntoViewElement=d._wysihtml5ScrollIntoViewElement||function(){var b=d.createElement(&quot;span&quot;);return b.innerHTML=a.INVISIBLE_SPACE,b}();f&amp;&amp;(this.insertNode(g),c=b(g),g.parentNode.removeChild(g),c&gt;=d.body.scrollTop+d.documentElement.offsetHeight-e&amp;&amp;(d.body.scrollTop=c))},selectLine:function(){a.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&amp;&amp;this._selectLine_MSIE()},_selectLine_W3C:function(){var a=this.doc.defaultView,b=a.getSelection();b.modify(&quot;move&quot;,&quot;left&quot;,&quot;lineboundary&quot;),b.modify(&quot;extend&quot;,&quot;right&quot;,&quot;lineboundary&quot;)},_selectLine_MSIE:function(){var a,b,c,d,e,f=this.doc.selection.createRange(),g=f.boundingTop,h=this.doc.body.scrollWidth;if(f.moveToPoint){for(0===g&amp;&amp;(c=this.doc.createElement(&quot;span&quot;),this.insertNode(c),g=c.offsetTop,c.parentNode.removeChild(c)),g+=1,d=-10;h&gt;d;d+=2)try{f.moveToPoint(d,g);break}catch(i){}for(a=g,b=this.doc.selection.createRange(),e=h;e&gt;=0;e--)try{b.moveToPoint(e,a);break}catch(j){}f.setEndPoint(&quot;EndToEnd&quot;,b),f.select()}},getText:function(){var a=this.getSelection();return a?&quot;&quot;+a:&quot;&quot;},getNodes:function(a,b){var c=this.getRange();return c?c.getNodes([a],b):[]},fixRangeOverflow:function(a){var b,c;this.contain&amp;&amp;this.contain.firstChild&amp;&amp;a&amp;&amp;(b=a.compareNode(this.contain),2!==b?(1===b&amp;&amp;a.setStartBefore(this.contain.firstChild),0===b&amp;&amp;a.setEndAfter(this.contain.lastChild),3===b&amp;&amp;(a.setStartBefore(this.contain.firstChild),a.setEndAfter(this.contain.lastChild))):this._detectInlineRangeProblems(a)&amp;&amp;(c=a.endContainer.previousElementSibling,c&amp;&amp;a.setEnd(c,this._endOffsetForNode(c))))},_endOffsetForNode:function(a){var b=document.createRange();return b.selectNodeContents(a),b.endOffset},_detectInlineRangeProblems:function(a){var b=e.compareDocumentPosition(a.startContainer,a.endContainer);return 0==a.endOffset&amp;&amp;4&amp;b},getRange:function(a){var b=this.getSelection(),c=b&amp;&amp;b.rangeCount&amp;&amp;b.getRangeAt(0);return a!==!0&amp;&amp;this.fixRangeOverflow(c),c},getOwnUneditables:function(){var b=e.query(this.contain,&quot;.&quot;+this.unselectableClass),c=e.query(b,&quot;.&quot;+this.unselectableClass);return a.lang.array(b).without(c)},getOwnRanges:function(){var a,b,c,d,e,f,g,h=[],i=this.getRange();if(i&amp;&amp;h.push(i),this.unselectableClass&amp;&amp;this.contain&amp;&amp;i&amp;&amp;(b=this.getOwnUneditables(),b.length&gt;0))for(d=0,e=b.length;e&gt;d;d++)for(a=[],f=0,g=h.length;g&gt;f;f++){if(h[f])switch(h[f].compareNode(b[d])){case 2:break;case 3:c=h[f].cloneRange(),c.setEndBefore(b[d]),a.push(c),c=h[f].cloneRange(),c.setStartAfter(b[d]),a.push(c);break;default:a.push(h[f])}h=a}return h},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(a){var b=this.doc.defaultView||this.doc.parentWindow,c=rangy.getSelection(b);return c.setSingleRange(a)},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},getHtml:function(){return this.getSelection().toHtml()},isEndToEndInNode:function(b){var c=this.getRange(),d=c.commonAncestorContainer,e=c.startContainer,f=c.endContainer;if(d.nodeType===a.TEXT_NODE&amp;&amp;(d=d.parentNode),e.nodeType===a.TEXT_NODE&amp;&amp;!/^\s*$/.test(e.data.substr(c.startOffset)))return!1;if(f.nodeType===a.TEXT_NODE&amp;&amp;!/^\s*$/.test(f.data.substr(c.endOffset)))return!1;for(;e&amp;&amp;e!==d;){if(e.nodeType!==a.TEXT_NODE&amp;&amp;!a.dom.contains(d,e))return!1;if(a.dom.domNode(e).prev({ignoreBlankTexts:!0}))return!1;e=e.parentNode}for(;f&amp;&amp;f!==d;){if(f.nodeType!==a.TEXT_NODE&amp;&amp;!a.dom.contains(d,f))return!1;if(a.dom.domNode(f).next({ignoreBlankTexts:!0}))return!1;f=f.parentNode}return a.lang.array(b).contains(d.nodeName)?d:!1},deselect:function(){var a=this.getSelection();a&amp;&amp;a.removeAllRanges()}})}(wysihtml5),function(a,b){function c(a,b,c){if(!a.className)return!1;var d=a.className.match(c)||[];return d[d.length-1]===b}function d(a,b){if(!a.getAttribute||!a.getAttribute(&quot;style&quot;))return!1;a.getAttribute(&quot;style&quot;).match(b);return a.getAttribute(&quot;style&quot;).match(b)?!0:!1}function e(a,b,c){a.getAttribute(&quot;style&quot;)?(h(a,c),a.getAttribute(&quot;style&quot;)&amp;&amp;!/^\s*$/.test(a.getAttribute(&quot;style&quot;))?a.setAttribute(&quot;style&quot;,b+&quot;;&quot;+a.getAttribute(&quot;style&quot;)):a.setAttribute(&quot;style&quot;,b)):a.setAttribute(&quot;style&quot;,b)}function f(a,b,c){a.className?(g(a,c),a.className+=&quot; &quot;+b):a.className=b}function g(a,b){a.className&amp;&amp;(a.className=a.className.replace(b,&quot;&quot;))}function h(a,b){var c,d,e=[];if(a.getAttribute(&quot;style&quot;)){for(c=a.getAttribute(&quot;style&quot;).split(&quot;;&quot;),d=c.length;d--;)c[d].match(b)||/^\s*$/.test(c[d])||e.push(c[d]);e.length?a.setAttribute(&quot;style&quot;,e.join(&quot;;&quot;)):a.removeAttribute(&quot;style&quot;)}}function i(a,b){var c,d,e,f=[],g=b.split(&quot;;&quot;),h=a.getAttribute(&quot;style&quot;);if(h){for(h=h.replace(/\s/gi,&quot;&quot;).toLowerCase(),f.push(RegExp(&quot;(^|\\s|;)&quot;+b.replace(/\s/gi,&quot;&quot;).replace(/([\(\)])/gi,&quot;\\$1&quot;).toLowerCase().replace(&quot;;&quot;,&quot;;?&quot;).replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,&quot;\\s?rgb\\($1,\\s?$2,\\s?$3\\)&quot;),&quot;gi&quot;)),c=g.length;c--&gt;0;)/^\s*$/.test(g[c])||f.push(RegExp(&quot;(^|\\s|;)&quot;+g[c].replace(/\s/gi,&quot;&quot;).replace(/([\(\)])/gi,&quot;\\$1&quot;).toLowerCase().replace(&quot;;&quot;,&quot;;?&quot;).replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,&quot;\\s?rgb\\($1,\\s?$2,\\s?$3\\)&quot;),&quot;gi&quot;));for(d=0,e=f.length;e&gt;d;d++)if(h.match(f[d]))return f[d]}return!1}function j(c,d,e,f){return e?i(c,e):f?a.dom.hasClass(c,f):b.dom.arrayContains(d,c.tagName.toLowerCase())}function k(a,b,c,d){for(var e=a.length;e--;)if(!j(a[e],b,c,d))return!1;return a.length?!0:!1}function l(a,b,c){var d=i(a,b);return d?(h(a,d),&quot;remove&quot;):(e(a,b,c),&quot;change&quot;)}function m(a,b){return a.className.replace(u,&quot; &quot;)==b.className.replace(u,&quot; &quot;)}function n(a){for(var b=a.parentNode;a.firstChild;)b.insertBefore(a.firstChild,a);b.removeChild(a)}function o(a,b){if(a.attributes.length!=b.attributes.length)return!1;for(var c,d,e,f=0,g=a.attributes.length;g&gt;f;++f)if(c=a.attributes[f],e=c.name,&quot;class&quot;!=e){if(d=b.attributes.getNamedItem(e),c.specified!=d.specified)return!1;if(c.specified&amp;&amp;c.nodeValue!==d.nodeValue)return!1}return!0}function p(a,c){return b.dom.isCharacterDataNode(a)?0==c?!!a.previousSibling:c==a.length?!!a.nextSibling:!0:c&gt;0&amp;&amp;c&lt;a.childNodes.length}function q(a,c,d,e){var f,g;if(b.dom.isCharacterDataNode(c)&amp;&amp;(0==d?(d=b.dom.getNodeIndex(c),c=c.parentNode):d==c.length?(d=b.dom.getNodeIndex(c)+1,c=c.parentNode):f=b.dom.splitDataNode(c,d)),!(f||e&amp;&amp;c===e)){for(f=c.cloneNode(!1),f.id&amp;&amp;f.removeAttribute(&quot;id&quot;);g=c.childNodes[d];)f.appendChild(g);b.dom.insertAfter(f,c)}return c==a?f:q(a,f.parentNode,b.dom.getNodeIndex(f),e)}function r(b){this.isElementMerge=b.nodeType==a.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?b.lastChild:b,this.textNodes=[this.firstTextNode]}function s(a,b,c,d,e,f,g){this.tagNames=a||[t],this.cssClass=b||(b===!1?!1:&quot;&quot;),this.similarClassRegExp=c,this.cssStyle=e||&quot;&quot;,this.similarStyleRegExp=f,this.normalize=d,this.applyToAnyTagName=!1,this.container=g}var t=&quot;span&quot;,u=/\s+/g;r.prototype={doMerge:function(){var a,b,c,d,e,f=[];for(d=0,e=this.textNodes.length;e&gt;d;++d)a=this.textNodes[d],b=a.parentNode,f[d]=a.data,d&amp;&amp;(b.removeChild(a),b.hasChildNodes()||b.parentNode.removeChild(b));return this.firstTextNode.data=c=f.join(&quot;&quot;),c},getLength:function(){for(var a=this.textNodes.length,b=0;a--;)b+=this.textNodes[a].length;return b},toString:function(){var a,b,c=[];for(a=0,b=this.textNodes.length;b&gt;a;++a)c[a]=&quot;&#39;&quot;+this.textNodes[a].data+&quot;&#39;&quot;;return&quot;[Merge(&quot;+c.join(&quot;,&quot;)+&quot;)]&quot;}},s.prototype={getAncestorWithClass:function(d){for(var e;d;){if(e=this.cssClass?c(d,this.cssClass,this.similarClassRegExp):&quot;&quot;!==this.cssStyle?!1:!0,d.nodeType==a.ELEMENT_NODE&amp;&amp;&quot;false&quot;!=d.getAttribute(&quot;contenteditable&quot;)&amp;&amp;b.dom.arrayContains(this.tagNames,d.tagName.toLowerCase())&amp;&amp;e)return d;d=d.parentNode}return!1},getAncestorWithStyle:function(c){for(var e;c;){if(e=this.cssStyle?d(c,this.similarStyleRegExp):!1,c.nodeType==a.ELEMENT_NODE&amp;&amp;&quot;false&quot;!=c.getAttribute(&quot;contenteditable&quot;)&amp;&amp;b.dom.arrayContains(this.tagNames,c.tagName.toLowerCase())&amp;&amp;e)return c;c=c.parentNode}return!1},getMatchingAncestor:function(a){var b=this.getAncestorWithClass(a),c=!1;return b?this.cssStyle&amp;&amp;(c=&quot;class&quot;):(b=this.getAncestorWithStyle(a),b&amp;&amp;(c=&quot;style&quot;)),{element:b,type:c}},postApply:function(a,b){var c,d,e,f,g,h,i=a[0],j=a[a.length-1],k=[],l=i,m=j,n=0,o=j.length;for(f=0,g=a.length;g&gt;f;++f)d=a[f],e=null,d&amp;&amp;d.parentNode&amp;&amp;(e=this.getAdjacentMergeableTextNode(d.parentNode,!1)),e?(c||(c=new r(e),k.push(c)),c.textNodes.push(d),d===i&amp;&amp;(l=c.firstTextNode,n=l.length),d===j&amp;&amp;(m=c.firstTextNode,o=c.getLength())):c=null;if(j&amp;&amp;j.parentNode&amp;&amp;(h=this.getAdjacentMergeableTextNode(j.parentNode,!0),h&amp;&amp;(c||(c=new r(j),k.push(c)),c.textNodes.push(h))),k.length){for(f=0,g=k.length;g&gt;f;++f)k[f].doMerge();b.setStart(l,n),b.setEnd(m,o)}},getAdjacentMergeableTextNode:function(b,c){var d,e=b.nodeType==a.TEXT_NODE,f=e?b.parentNode:b,g=c?&quot;nextSibling&quot;:&quot;previousSibling&quot;;if(e){if(d=b[g],d&amp;&amp;d.nodeType==a.TEXT_NODE)return d}else if(d=f[g],d&amp;&amp;this.areElementsMergeable(b,d))return d[c?&quot;firstChild&quot;:&quot;lastChild&quot;];return null},areElementsMergeable:function(a,c){return b.dom.arrayContains(this.tagNames,(a.tagName||&quot;&quot;).toLowerCase())&amp;&amp;b.dom.arrayContains(this.tagNames,(c.tagName||&quot;&quot;).toLowerCase())&amp;&amp;m(a,c)&amp;&amp;o(a,c)},createContainer:function(a){var b=a.createElement(this.tagNames[0]);return this.cssClass&amp;&amp;(b.className=this.cssClass),this.cssStyle&amp;&amp;b.setAttribute(&quot;style&quot;,this.cssStyle),b},applyToTextNode:function(a){var c,d=a.parentNode;1==d.childNodes.length&amp;&amp;b.dom.arrayContains(this.tagNames,d.tagName.toLowerCase())?(this.cssClass&amp;&amp;f(d,this.cssClass,this.similarClassRegExp),this.cssStyle&amp;&amp;e(d,this.cssStyle,this.similarStyleRegExp)):(c=this.createContainer(b.dom.getDocument(a)),a.parentNode.insertBefore(c,a),c.appendChild(a))},isRemovable:function(c){return b.dom.arrayContains(this.tagNames,c.tagName.toLowerCase())&amp;&amp;&quot;&quot;===a.lang.string(c.className).trim()&amp;&amp;(!c.getAttribute(&quot;style&quot;)||&quot;&quot;===a.lang.string(c.getAttribute(&quot;style&quot;)).trim())},undoToTextNode:function(a,b,c,d){var e,f=c?!1:!0,h=c||d,i=!1;b.containsNode(h)||(e=b.cloneRange(),e.selectNode(h),e.isPointInRange(b.endContainer,b.endOffset)&amp;&amp;p(b.endContainer,b.endOffset)&amp;&amp;(q(h,b.endContainer,b.endOffset,this.container),b.setEndAfter(h)),e.isPointInRange(b.startContainer,b.startOffset)&amp;&amp;p(b.startContainer,b.startOffset)&amp;&amp;(h=q(h,b.startContainer,b.startOffset,this.container))),!f&amp;&amp;this.similarClassRegExp&amp;&amp;g(h,this.similarClassRegExp),f&amp;&amp;this.similarStyleRegExp&amp;&amp;(i=&quot;change&quot;===l(h,this.cssStyle,this.similarStyleRegExp)),this.isRemovable(h)&amp;&amp;!i&amp;&amp;n(h)},applyToRange:function(b){var c,d,e,f,g,h;for(d=b.length;d--;){if(c=b[d].getNodes([a.TEXT_NODE]),!c.length)try{return e=this.createContainer(b[d].endContainer.ownerDocument),b[d].surroundContents(e),this.selectNode(b[d],e),void 0}catch(i){}if(b[d].splitBoundaries(),c=b[d].getNodes([a.TEXT_NODE]),c.length){for(g=0,h=c.length;h&gt;g;++g)f=c[g],this.getMatchingAncestor(f).element||this.applyToTextNode(f);b[d].setStart(c[0],0),f=c[c.length-1],b[d].setEnd(f,f.length),this.normalize&amp;&amp;this.postApply(c,b[d])}}},undoToRange:function(b){var c,d,e,f,g,h,i,j;for(f=b.length;f--;){for(c=b[f].getNodes([a.TEXT_NODE]),c.length?(b[f].splitBoundaries(),c=b[f].getNodes([a.TEXT_NODE])):(g=b[f].endContainer.ownerDocument,h=g.createTextNode(a.INVISIBLE_SPACE),b[f].insertNode(h),b[f].selectNode(h),c=[h]),i=0,j=c.length;j&gt;i;++i)b[f].isValid()&amp;&amp;(d=c[i],e=this.getMatchingAncestor(d),&quot;style&quot;===e.type?this.undoToTextNode(d,b[f],!1,e.element):e.element&amp;&amp;this.undoToTextNode(d,b[f],e.element));1==j?this.selectNode(b[f],c[0]):(b[f].setStart(c[0],0),d=c[c.length-1],b[f].setEnd(d,d.length),this.normalize&amp;&amp;this.postApply(c,b[f]))}},selectNode:function(b,c){var d=c.nodeType===a.ELEMENT_NODE,e=&quot;canHaveHTML&quot;in c?c.canHaveHTML:!0,f=d?c.innerHTML:c.data,g=&quot;&quot;===f||f===a.INVISIBLE_SPACE;if(g&amp;&amp;d&amp;&amp;e)try{c.innerHTML=a.INVISIBLE_SPACE}catch(h){}b.selectNodeContents(c),g&amp;&amp;d?b.collapse(!1):g&amp;&amp;(b.setStartAfter(c),b.setEndAfter(c))},getTextSelectedByRange:function(a,b){var c,d,e=b.cloneRange();return e.selectNodeContents(a),c=e.intersection(b),d=c?&quot;&quot;+c:&quot;&quot;,e.detach(),d},isAppliedToRange:function(b){var c,d,e,f,g,h,i=[],j=&quot;full&quot;;for(e=b.length;e--;){if(d=b[e].getNodes([a.TEXT_NODE]),!d.length)return c=this.getMatchingAncestor(b[e].startContainer).element,c?{elements:[c],coverage:j}:!1;for(f=0,g=d.length;g&gt;f;++f)h=this.getTextSelectedByRange(d[f],b[e]),c=this.getMatchingAncestor(d[f]).element,c&amp;&amp;&quot;&quot;!=h?(i.push(c),1===a.dom.getTextNodes(c,!0).length?j=&quot;full&quot;:&quot;full&quot;===j&amp;&amp;(j=&quot;inline&quot;)):c||(j=&quot;partial&quot;)}return i.length?{elements:i,coverage:j}:!1},toggleRange:function(a){var b,c=this.isAppliedToRange(a);c?&quot;full&quot;===c.coverage?this.undoToRange(a):&quot;inline&quot;===c.coverage?(b=k(c.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(a),b||this.applyToRange(a)):(k(c.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(a),this.applyToRange(a)):this.applyToRange(a)}},a.selection.HTMLApplier=s}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(a){this.editor=a,this.composer=a.composer,this.doc=this.composer.doc},support:function(a){return wysihtml5.browser.supportsCommand(this.doc,a)},exec:function(a,b){var c=wysihtml5.commands[a],d=wysihtml5.lang.array(arguments).get(),e=c&amp;&amp;c.exec,f=null;if(this.editor.fire(&quot;beforecommand:composer&quot;),e)d.unshift(this.composer),f=e.apply(c,d);else try{f=this.doc.execCommand(a,!1,b)}catch(g){}return this.editor.fire(&quot;aftercommand:composer&quot;),f},state:function(a){var b=wysihtml5.commands[a],c=wysihtml5.lang.array(arguments).get(),d=b&amp;&amp;b.state;if(d)return c.unshift(this.composer),d.apply(b,c);try{return this.doc.queryCommandState(a)}catch(e){return!1}},stateValue:function(a){var b=wysihtml5.commands[a],c=wysihtml5.lang.array(arguments).get(),d=b&amp;&amp;b.stateValue;return d?(c.unshift(this.composer),d.apply(b,c)):!1}}),wysihtml5.commands.bold={exec:function(a,b){wysihtml5.commands.formatInline.execWithToggle(a,b,&quot;b&quot;)},state:function(a,b){return wysihtml5.commands.formatInline.state(a,b,&quot;b&quot;)}},function(a){function b(b,c){var g,h,i,j,k,l,m,n,o,p=b.doc,q=&quot;_wysihtml5-temp-&quot;+ +new Date,r=/non-matching-class/g,s=0;for(a.commands.formatInline.exec(b,d,e,q,r,d,d,!0,!0),h=p.querySelectorAll(e+&quot;.&quot;+q),g=h.length;g&gt;s;s++){i=h[s],i.removeAttribute(&quot;class&quot;);for(o in c)&quot;text&quot;!==o&amp;&amp;i.setAttribute(o,c[o])}l=i,1===g&amp;&amp;(m=f.getTextContent(i),j=!!i.querySelector(&quot;*&quot;),k=&quot;&quot;===m||m===a.INVISIBLE_SPACE,!j&amp;&amp;k&amp;&amp;(f.setTextContent(i,c.text||i.href),n=p.createTextNode(&quot; &quot;),b.selection.setAfter(i),f.insert(n).after(i),l=n)),b.selection.setAfter(l)}function c(a,b,c){var d,e,f,g;for(e=b.length;e--;){for(d=b[e].attributes,f=d.length;f--;)b[e].removeAttribute(d.item(f).name);for(g in c)c.hasOwnProperty(g)&amp;&amp;b[e].setAttribute(g,c[g])}}var d,e=&quot;A&quot;,f=a.dom;a.commands.createLink={exec:function(a,d,e){var f=this.state(a,d);f?a.selection.executeAndRestore(function(){c(a,f,e)}):(e=&quot;object&quot;==typeof e?e:{href:e},b(a,e))},state:function(b,c){return a.commands.formatInline.state(b,c,&quot;A&quot;)}}}(wysihtml5),function(a){function b(a,b){for(var d,e,f,g=b.length,h=0;g&gt;h;h++)d=b[h],e=c.getParentElement(d,{nodeName:&quot;code&quot;}),f=c.getTextContent(d),f.match(c.autoLink.URL_REG_EXP)&amp;&amp;!e?e=c.renameElement(d,&quot;code&quot;):c.replaceWithChildNodes(d)}var c=a.dom;a.commands.removeLink={exec:function(a,c){var d=this.state(a,c);d&amp;&amp;a.selection.executeAndRestore(function(){b(a,d)})},state:function(b,c){return a.commands.formatInline.state(b,c,&quot;A&quot;)}}}(wysihtml5),function(a){var b=/wysiwyg-font-size-[0-9a-z\-]+/g;a.commands.fontSize={exec:function(c,d,e){a.commands.formatInline.execWithToggle(c,d,&quot;span&quot;,&quot;wysiwyg-font-size-&quot;+e,b)},state:function(c,d,e){return a.commands.formatInline.state(c,d,&quot;span&quot;,&quot;wysiwyg-font-size-&quot;+e,b)}}}(wysihtml5),function(a){var b=/(\s|^)font-size\s*:\s*[^;\s]+;?/gi;a.commands.fontSizeStyle={exec:function(c,d,e){e=&quot;object&quot;==typeof e?e.size:e,/^\s*$/.test(e)||a.commands.formatInline.execWithToggle(c,d,&quot;span&quot;,!1,!1,&quot;font-size:&quot;+e,b)},state:function(c,d){return a.commands.formatInline.state(c,d,&quot;span&quot;,!1,!1,&quot;font-size&quot;,b)},stateValue:function(b,c){var d,e=this.state(b,c);return e&amp;&amp;a.lang.object(e).isArray()&amp;&amp;(e=e[0]),e&amp;&amp;(d=e.getAttribute(&quot;style&quot;),d)?a.quirks.styleParser.parseFontSize(d):!1}}}(wysihtml5),function(a){var b=/wysiwyg-color-[0-9a-z]+/g;a.commands.foreColor={exec:function(c,d,e){a.commands.formatInline.execWithToggle(c,d,&quot;span&quot;,&quot;wysiwyg-color-&quot;+e,b)},state:function(c,d,e){return a.commands.formatInline.state(c,d,&quot;span&quot;,&quot;wysiwyg-color-&quot;+e,b)}}}(wysihtml5),function(a){var b=/(\s|^)color\s*:\s*[^;\s]+;?/gi;a.commands.foreColorStyle={exec:function(c,d,e){var f,g=a.quirks.styleParser.parseColor(&quot;object&quot;==typeof e?&quot;color:&quot;+e.color:&quot;color:&quot;+e,&quot;color&quot;);g&amp;&amp;(f=&quot;color: rgb(&quot;+g[0]+&quot;,&quot;+g[1]+&quot;,&quot;+g[2]+&quot;);&quot;,1!==g[3]&amp;&amp;(f+=&quot;color: rgba(&quot;+g[0]+&quot;,&quot;+g[1]+&quot;,&quot;+g[2]+&quot;,&quot;+g[3]+&quot;);&quot;),a.commands.formatInline.execWithToggle(c,d,&quot;span&quot;,!1,!1,f,b))},state:function(c,d){return a.commands.formatInline.state(c,d,&quot;span&quot;,!1,!1,&quot;color&quot;,b)},stateValue:function(b,c,d){var e,f=this.state(b,c);return f&amp;&amp;a.lang.object(f).isArray()&amp;&amp;(f=f[0]),f&amp;&amp;(e=f.getAttribute(&quot;style&quot;),e&amp;&amp;e)?(val=a.quirks.styleParser.parseColor(e,&quot;color&quot;),a.quirks.styleParser.unparseColor(val,d)):!1</td>
      </tr>
      <tr>
        <td id="L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="LC6" class="blob-code blob-code-inner js-file-line">}}}(wysihtml5),function(a){var b=/(\s|^)background-color\s*:\s*[^;\s]+;?/gi;a.commands.bgColorStyle={exec:function(c,d,e){var f,g=a.quirks.styleParser.parseColor(&quot;object&quot;==typeof e?&quot;background-color:&quot;+e.color:&quot;background-color:&quot;+e,&quot;background-color&quot;);g&amp;&amp;(f=&quot;background-color: rgb(&quot;+g[0]+&quot;,&quot;+g[1]+&quot;,&quot;+g[2]+&quot;);&quot;,1!==g[3]&amp;&amp;(f+=&quot;background-color: rgba(&quot;+g[0]+&quot;,&quot;+g[1]+&quot;,&quot;+g[2]+&quot;,&quot;+g[3]+&quot;);&quot;),a.commands.formatInline.execWithToggle(c,d,&quot;span&quot;,!1,!1,f,b))},state:function(c,d){return a.commands.formatInline.state(c,d,&quot;span&quot;,!1,!1,&quot;background-color&quot;,b)},stateValue:function(b,c,d){var e,f=this.state(b,c),g=!1;return f&amp;&amp;a.lang.object(f).isArray()&amp;&amp;(f=f[0]),f&amp;&amp;(e=f.getAttribute(&quot;style&quot;),e)?(g=a.quirks.styleParser.parseColor(e,&quot;background-color&quot;),a.quirks.styleParser.unparseColor(g,d)):!1}}}(wysihtml5),function(a){function b(b,c,e){b.className?(d(b,e),b.className=a.lang.string(b.className+&quot; &quot;+c).trim()):b.className=c}function c(b,c,d){e(b,d),b.getAttribute(&quot;style&quot;)?b.setAttribute(&quot;style&quot;,a.lang.string(b.getAttribute(&quot;style&quot;)+&quot; &quot;+c).trim()):b.setAttribute(&quot;style&quot;,c)}function d(b,c){var d=c.test(b.className);return b.className=b.className.replace(c,&quot;&quot;),&quot;&quot;==a.lang.string(b.className).trim()&amp;&amp;b.removeAttribute(&quot;class&quot;),d}function e(b,c){var d=c.test(b.getAttribute(&quot;style&quot;));return b.setAttribute(&quot;style&quot;,(b.getAttribute(&quot;style&quot;)||&quot;&quot;).replace(c,&quot;&quot;)),&quot;&quot;==a.lang.string(b.getAttribute(&quot;style&quot;)||&quot;&quot;).trim()&amp;&amp;b.removeAttribute(&quot;style&quot;),d}function f(a){var b=a.lastChild;b&amp;&amp;g(b)&amp;&amp;b.parentNode.removeChild(b)}function g(a){return&quot;BR&quot;===a.nodeName}function h(b,c){var d,e,g;for(b.selection.isCollapsed()&amp;&amp;b.selection.selectLine(),d=b.selection.surround(c),e=0,g=d.length;g&gt;e;e++)a.dom.lineBreaks(d[e]).remove(),f(d[e])}function i(b){return!!a.lang.string(b.className).trim()}function j(b){return!!a.lang.string(b.getAttribute(&quot;style&quot;)||&quot;&quot;).trim()}var k=a.dom,l=[&quot;H1&quot;,&quot;H2&quot;,&quot;H3&quot;,&quot;H4&quot;,&quot;H5&quot;,&quot;H6&quot;,&quot;P&quot;,&quot;PRE&quot;,&quot;DIV&quot;];a.commands.formatBlock={exec:function(f,g,m,n,o,p,q){var r,s,t,u,v,w=(f.doc,this.state(f,g,m,n,o,p,q)),x=f.config.useLineBreaks,y=x?&quot;DIV&quot;:&quot;P&quot;;return m=&quot;string&quot;==typeof m?m.toUpperCase():m,w.length?(f.selection.executeAndRestoreRangy(function(){var b,c,f;for(b=w.length;b--;){if(o&amp;&amp;(s=d(w[b],o)),q&amp;&amp;(u=e(w[b],q)),(u||s)&amp;&amp;null===m&amp;&amp;w[b].nodeName!=y)return;c=i(w[b]),f=j(w[b]),c||f||!x&amp;&amp;&quot;P&quot;!==m?k.renameElement(w[b],&quot;P&quot;===m?&quot;DIV&quot;:y):(a.dom.lineBreaks(w[b]).add(),k.replaceWithChildNodes(w[b]))}}),void 0):((null!==m&amp;&amp;!a.lang.array(l).contains(m)||(r=f.selection.findNodesInSelection(l).concat(f.selection.getSelectedOwnNodes()),f.selection.executeAndRestoreRangy(function(){for(var a=r.length;a--;)v=k.getParentElement(r[a],{nodeName:l}),v==f.element&amp;&amp;(v=null),v&amp;&amp;(m&amp;&amp;(v=k.renameElement(v,m)),n&amp;&amp;b(v,n,o),p&amp;&amp;c(v,p,q),t=!0)}),!t))&amp;&amp;h(f,{nodeName:m||y,className:n||null,cssStyle:p||null}),void 0)},state:function(b,c,d,e,f,g,h){var i,j,l,m=b.selection.getSelectedOwnNodes(),n=[];for(d=&quot;string&quot;==typeof d?d.toUpperCase():d,j=0,l=m.length;l&gt;j;j++)i=k.getParentElement(m[j],{nodeName:d,className:e,classRegExp:f,cssStyle:g,styleRegExp:h}),i&amp;&amp;-1==a.lang.array(n).indexOf(i)&amp;&amp;n.push(i);return 0==n.length?!1:n}}}(wysihtml5),wysihtml5.commands.formatCode={exec:function(a,b,c){var d,e,f,g=this.state(a);g?a.selection.executeAndRestore(function(){d=g.querySelector(&quot;code&quot;),wysihtml5.dom.replaceWithChildNodes(g),d&amp;&amp;wysihtml5.dom.replaceWithChildNodes(d)}):(e=a.selection.getRange(),f=e.extractContents(),g=a.doc.createElement(&quot;pre&quot;),d=a.doc.createElement(&quot;code&quot;),c&amp;&amp;(d.className=c),g.appendChild(d),d.appendChild(f),e.insertNode(g),a.selection.selectNode(g))},state:function(a){var b=a.selection.getSelectedNode();return b&amp;&amp;b.nodeName&amp;&amp;&quot;PRE&quot;==b.nodeName&amp;&amp;b.firstChild&amp;&amp;b.firstChild.nodeName&amp;&amp;&quot;CODE&quot;==b.firstChild.nodeName?b:wysihtml5.dom.getParentElement(b,{nodeName:&quot;CODE&quot;})&amp;&amp;wysihtml5.dom.getParentElement(b,{nodeName:&quot;PRE&quot;})}},function(a){function b(a){var b=d[a];return b?[a.toLowerCase(),b.toLowerCase()]:[a.toLowerCase()]}function c(c,d,f,g,h,i){var j=c;return d&amp;&amp;(j+=&quot;:&quot;+d),g&amp;&amp;(j+=&quot;:&quot;+g),e[j]||(e[j]=new a.selection.HTMLApplier(b(c),d,f,!0,g,h,i)),e[j]}var d={strong:&quot;b&quot;,em:&quot;i&quot;,b:&quot;strong&quot;,i:&quot;em&quot;},e={};a.commands.formatInline={exec:function(a,b,d,e,f,g,h,i,j){var k=a.selection.createRange(),l=a.selection.getOwnRanges();return l&amp;&amp;0!=l.length?(a.selection.getSelection().removeAllRanges(),c(d,e,f,g,h,a.element).toggleRange(l),i?j||a.cleanUp():(k.setStart(l[0].startContainer,l[0].startOffset),k.setEnd(l[l.length-1].endContainer,l[l.length-1].endOffset),a.selection.setSelection(k),a.selection.executeAndRestore(function(){j||a.cleanUp()},!0,!0)),void 0):!1},execWithToggle:function(b,c,d,e,f,g,h){var i,j=this;this.state(b,c,d,e,f,g,h)&amp;&amp;b.selection.isCollapsed()&amp;&amp;!b.selection.caretIsLastInSelection()&amp;&amp;!b.selection.caretIsFirstInSelection()?(i=j.state(b,c,d,e,f)[0],b.selection.executeAndRestoreRangy(function(){i.parentNode;b.selection.selectNode(i,!0),a.commands.formatInline.exec(b,c,d,e,f,g,h,!0,!0)})):this.state(b,c,d,e,f,g,h)&amp;&amp;!b.selection.isCollapsed()?b.selection.executeAndRestoreRangy(function(){a.commands.formatInline.exec(b,c,d,e,f,g,h,!0,!0)}):a.commands.formatInline.exec(b,c,d,e,f,g,h)},state:function(b,e,f,g,h,i,j){var k,l,m=b.doc,n=d[f]||f;return a.dom.hasElementWithTagName(m,f)||a.dom.hasElementWithTagName(m,n)?g&amp;&amp;!a.dom.hasElementWithClassName(m,g)?!1:(k=b.selection.getOwnRanges(),k&amp;&amp;0!==k.length?(l=c(f,g,h,i,j,b.element).isAppliedToRange(k),l&amp;&amp;l.elements?l.elements:!1):!1):!1}}}(wysihtml5),function(a){a.commands.insertBlockQuote={exec:function(b,c){var d=this.state(b,c),e=b.selection.isEndToEndInNode([&quot;H1&quot;,&quot;H2&quot;,&quot;H3&quot;,&quot;H4&quot;,&quot;H5&quot;,&quot;H6&quot;,&quot;P&quot;]);b.selection.executeAndRestore(function(){if(d)b.config.useLineBreaks&amp;&amp;a.dom.lineBreaks(d).add(),a.dom.unwrap(d);else if(b.selection.isCollapsed()&amp;&amp;b.selection.selectLine(),e){var c=e.ownerDocument.createElement(&quot;blockquote&quot;);a.dom.insert(c).after(e),c.appendChild(e)}else b.selection.surround({nodeName:&quot;blockquote&quot;})})},state:function(b){var c=b.selection.getSelectedNode(),d=a.dom.getParentElement(c,{nodeName:&quot;BLOCKQUOTE&quot;},!1,b.element);return d?d:!1}}}(wysihtml5),wysihtml5.commands.insertHTML={exec:function(a,b,c){a.commands.support(b)?a.doc.execCommand(b,!1,c):a.selection.insertHTML(c)},state:function(){return!1}},function(a){var b=&quot;IMG&quot;;a.commands.insertImage={exec:function(c,d,e){var f,g,h,i,j;if(e=&quot;object&quot;==typeof e?e:{src:e},f=c.doc,g=this.state(c),g)return c.selection.setBefore(g),i=g.parentNode,i.removeChild(g),a.dom.removeEmptyTextNodes(i),&quot;A&quot;!==i.nodeName||i.firstChild||(c.selection.setAfter(i),i.parentNode.removeChild(i)),a.quirks.redraw(c.element),void 0;g=f.createElement(b);for(j in e)g.setAttribute(&quot;className&quot;===j?&quot;class&quot;:j,e[j]);c.selection.insertNode(g),a.browser.hasProblemsSettingCaretAfterImg()?(h=f.createTextNode(a.INVISIBLE_SPACE),c.selection.insertNode(h),c.selection.setAfter(h)):c.selection.setAfter(g)},state:function(c){var d,e,f,g=c.doc;return a.dom.hasElementWithTagName(g,b)?(d=c.selection.getSelectedNode(),d?d.nodeName===b?d:d.nodeType!==a.ELEMENT_NODE?!1:(e=c.selection.getText(),e=a.lang.string(e).trim(),e?!1:(f=c.selection.getNodes(a.ELEMENT_NODE,function(a){return&quot;IMG&quot;===a.nodeName}),1!==f.length?!1:f[0])):!1):!1}}}(wysihtml5),function(a){var b=&quot;&lt;br&gt;&quot;+(a.browser.needsSpaceAfterLineBreak()?&quot; &quot;:&quot;&quot;);a.commands.insertLineBreak={exec:function(c,d){c.commands.support(d)?(c.doc.execCommand(d,!1,null),a.browser.autoScrollsToCaret()||c.selection.scrollIntoView()):c.commands.exec(&quot;insertHTML&quot;,b)},state:function(){return!1}}}(wysihtml5),wysihtml5.commands.insertOrderedList={exec:function(a,b){wysihtml5.commands.insertList.exec(a,b,&quot;OL&quot;)},state:function(a,b){return wysihtml5.commands.insertList.state(a,b,&quot;OL&quot;)}},wysihtml5.commands.insertUnorderedList={exec:function(a,b){wysihtml5.commands.insertList.exec(a,b,&quot;UL&quot;)},state:function(a,b){return wysihtml5.commands.insertList.state(a,b,&quot;UL&quot;)}},wysihtml5.commands.insertList=function(a){var b=function(a,b){if(a&amp;&amp;a.nodeName){&quot;string&quot;==typeof b&amp;&amp;(b=[b]);for(var c=b.length;c--;)if(a.nodeName===b[c])return!0}return!1},c=function(c,d,e){var f,g,h={el:null,other:!1};return c&amp;&amp;(f=a.dom.getParentElement(c,{nodeName:&quot;LI&quot;}),g=&quot;UL&quot;===d?&quot;OL&quot;:&quot;UL&quot;,b(c,d)?h.el=c:b(c,g)?h={el:c,other:!0}:f&amp;&amp;(b(f.parentNode,d)?h.el=f.parentNode:b(f.parentNode,g)&amp;&amp;(h={el:f.parentNode,other:!0}))),h.el&amp;&amp;!e.element.contains(h.el)&amp;&amp;(h.el=null),h},d=function(b,c,d){var e,g=&quot;UL&quot;===c?&quot;OL&quot;:&quot;UL&quot;;d.selection.executeAndRestore(function(){var h,i,j=f(g,d);if(j.length)for(h=j.length;h--;)a.dom.renameElement(j[h],c.toLowerCase());else{for(e=f([&quot;OL&quot;,&quot;UL&quot;],d),i=e.length;i--;)a.dom.resolveList(e[i],d.config.useLineBreaks);a.dom.resolveList(b,d.config.useLineBreaks)}})},e=function(b,c,d){var e=&quot;UL&quot;===c?&quot;OL&quot;:&quot;UL&quot;;d.selection.executeAndRestore(function(){var g,h=[b].concat(f(e,d));for(g=h.length;g--;)a.dom.renameElement(h[g],c.toLowerCase())})},f=function(a,c){var d,e=c.selection.getOwnRanges(),f=[];for(d=e.length;d--;)f=f.concat(e[d].getNodes([1],function(c){return b(c,a)}));return f},g=function(b,c){c.selection.executeAndRestoreRangy(function(){var d,e,f=&quot;_wysihtml5-temp-&quot;+(new Date).getTime(),g=c.selection.deblockAndSurround({nodeName:&quot;div&quot;,className:f}),h=/\uFEFF/g;g.innerHTML=g.innerHTML.replace(h,&quot;&quot;),g&amp;&amp;(d=a.lang.array([&quot;&quot;,&quot;&lt;br&gt;&quot;,a.INVISIBLE_SPACE]).contains(g.innerHTML),e=a.dom.convertToList(g,b.toLowerCase(),c.parent.config.uneditableContainerClassname),d&amp;&amp;c.selection.selectNode(e.querySelector(&quot;li&quot;),!0))})};return{exec:function(a,b,f){var h=a.doc,i=&quot;OL&quot;===f?&quot;insertOrderedList&quot;:&quot;insertUnorderedList&quot;,j=a.selection.getSelectedNode(),k=c(j,f,a);k.el?k.other?e(k.el,f,a):d(k.el,f,a):a.commands.support(i)?h.execCommand(i,!1,null):g(f,a)},state:function(a,b,d){var e=a.selection.getSelectedNode(),f=c(e,d,a);return f.el&amp;&amp;!f.other?f.el:!1}}}(wysihtml5),wysihtml5.commands.italic={exec:function(a,b){wysihtml5.commands.formatInline.execWithToggle(a,b,&quot;i&quot;)},state:function(a,b){return wysihtml5.commands.formatInline.state(a,b,&quot;i&quot;)}},function(a){var b=&quot;wysiwyg-text-align-center&quot;,c=/wysiwyg-text-align-[0-9a-z]+/g;a.commands.justifyCenter={exec:function(d){return a.commands.formatBlock.exec(d,&quot;formatBlock&quot;,null,b,c)},state:function(d){return a.commands.formatBlock.state(d,&quot;formatBlock&quot;,null,b,c)}}}(wysihtml5),function(a){var b=&quot;wysiwyg-text-align-left&quot;,c=/wysiwyg-text-align-[0-9a-z]+/g;a.commands.justifyLeft={exec:function(d){return a.commands.formatBlock.exec(d,&quot;formatBlock&quot;,null,b,c)},state:function(d){return a.commands.formatBlock.state(d,&quot;formatBlock&quot;,null,b,c)}}}(wysihtml5),function(a){var b=&quot;wysiwyg-text-align-right&quot;,c=/wysiwyg-text-align-[0-9a-z]+/g;a.commands.justifyRight={exec:function(d){return a.commands.formatBlock.exec(d,&quot;formatBlock&quot;,null,b,c)},state:function(d){return a.commands.formatBlock.state(d,&quot;formatBlock&quot;,null,b,c)}}}(wysihtml5),function(a){var b=&quot;wysiwyg-text-align-justify&quot;,c=/wysiwyg-text-align-[0-9a-z]+/g;a.commands.justifyFull={exec:function(d){return a.commands.formatBlock.exec(d,&quot;formatBlock&quot;,null,b,c)},state:function(d){return a.commands.formatBlock.state(d,&quot;formatBlock&quot;,null,b,c)}}}(wysihtml5),function(a){var b=&quot;text-align: right;&quot;,c=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;a.commands.alignRightStyle={exec:function(d){return a.commands.formatBlock.exec(d,&quot;formatBlock&quot;,null,null,null,b,c)},state:function(d){return a.commands.formatBlock.state(d,&quot;formatBlock&quot;,null,null,null,b,c)}}}(wysihtml5),function(a){var b=&quot;text-align: left;&quot;,c=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;a.commands.alignLeftStyle={exec:function(d){return a.commands.formatBlock.exec(d,&quot;formatBlock&quot;,null,null,null,b,c)},state:function(d){return a.commands.formatBlock.state(d,&quot;formatBlock&quot;,null,null,null,b,c)}}}(wysihtml5),function(a){var b=&quot;text-align: center;&quot;,c=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;a.commands.alignCenterStyle={exec:function(d){return a.commands.formatBlock.exec(d,&quot;formatBlock&quot;,null,null,null,b,c)},state:function(d){return a.commands.formatBlock.state(d,&quot;formatBlock&quot;,null,null,null,b,c)}}}(wysihtml5),wysihtml5.commands.redo={exec:function(a){return a.undoManager.redo()},state:function(){return!1}},wysihtml5.commands.underline={exec:function(a,b){wysihtml5.commands.formatInline.execWithToggle(a,b,&quot;u&quot;)},state:function(a,b){return wysihtml5.commands.formatInline.state(a,b,&quot;u&quot;)}},wysihtml5.commands.undo={exec:function(a){return a.undoManager.undo()},state:function(){return!1}},wysihtml5.commands.createTable={exec:function(a,b,c){var d,e,f;if(c&amp;&amp;c.cols&amp;&amp;c.rows&amp;&amp;parseInt(c.cols,10)&gt;0&amp;&amp;parseInt(c.rows,10)&gt;0){for(f=c.tableStyle?&#39;&lt;table style=&quot;&#39;+c.tableStyle+&#39;&quot;&gt;&#39;:&quot;&lt;table&gt;&quot;,f+=&quot;&lt;tbody&gt;&quot;,e=0;e&lt;c.rows;e++){for(f+=&quot;&lt;tr&gt;&quot;,d=0;d&lt;c.cols;d++)f+=&quot;&lt;td&gt;&amp;nbsp;&lt;/td&gt;&quot;;f+=&quot;&lt;/tr&gt;&quot;}f+=&quot;&lt;/tbody&gt;&lt;/table&gt;&quot;,a.commands.exec(&quot;insertHTML&quot;,f)}},state:function(){return!1}},wysihtml5.commands.mergeTableCells={exec:function(a,b){a.tableSelection&amp;&amp;a.tableSelection.start&amp;&amp;a.tableSelection.end&amp;&amp;(this.state(a,b)?wysihtml5.dom.table.unmergeCell(a.tableSelection.start):wysihtml5.dom.table.mergeCellsBetween(a.tableSelection.start,a.tableSelection.end))},state:function(a){if(a.tableSelection){var b=a.tableSelection.start,c=a.tableSelection.end;if(b&amp;&amp;c&amp;&amp;b==c&amp;&amp;(wysihtml5.dom.getAttribute(b,&quot;colspan&quot;)&amp;&amp;parseInt(wysihtml5.dom.getAttribute(b,&quot;colspan&quot;),10)&gt;1||wysihtml5.dom.getAttribute(b,&quot;rowspan&quot;)&amp;&amp;parseInt(wysihtml5.dom.getAttribute(b,&quot;rowspan&quot;),10)&gt;1))return[b]}return!1}},wysihtml5.commands.addTableCells={exec:function(a,b,c){if(a.tableSelection&amp;&amp;a.tableSelection.start&amp;&amp;a.tableSelection.end){var d=wysihtml5.dom.table.orderSelectionEnds(a.tableSelection.start,a.tableSelection.end);&quot;before&quot;==c||&quot;above&quot;==c?wysihtml5.dom.table.addCells(d.start,c):(&quot;after&quot;==c||&quot;below&quot;==c)&amp;&amp;wysihtml5.dom.table.addCells(d.end,c),setTimeout(function(){a.tableSelection.select(d.start,d.end)},0)}},state:function(){return!1}},wysihtml5.commands.deleteTableCells={exec:function(a,b,c){if(a.tableSelection&amp;&amp;a.tableSelection.start&amp;&amp;a.tableSelection.end){var d,e=wysihtml5.dom.table.orderSelectionEnds(a.tableSelection.start,a.tableSelection.end),f=wysihtml5.dom.table.indexOf(e.start),g=a.tableSelection.table;wysihtml5.dom.table.removeCells(e.start,c),setTimeout(function(){d=wysihtml5.dom.table.findCell(g,f),d||(&quot;row&quot;==c&amp;&amp;(d=wysihtml5.dom.table.findCell(g,{row:f.row-1,col:f.col})),&quot;column&quot;==c&amp;&amp;(d=wysihtml5.dom.table.findCell(g,{row:f.row,col:f.col-1}))),d&amp;&amp;a.tableSelection.select(d,d)},0)}},state:function(){return!1}},wysihtml5.commands.indentList={exec:function(a){var b=a.selection.getSelectionParentsByTag(&quot;LI&quot;);return b?this.tryToPushLiLevel(b,a.selection):!1},state:function(){return!1},tryToPushLiLevel:function(a,b){var c,d,e,f,g,h=!1;return b.executeAndRestoreRangy(function(){for(var b=a.length;b--;)f=a[b],c=&quot;OL&quot;===f.parentNode.nodeName?&quot;OL&quot;:&quot;UL&quot;,d=f.ownerDocument.createElement(c),e=wysihtml5.dom.domNode(f).prev({nodeTypes:[wysihtml5.ELEMENT_NODE]}),g=e?e.querySelector(&quot;ul, ol&quot;):null,e&amp;&amp;(g?g.appendChild(f):(d.appendChild(f),e.appendChild(d)),h=!0)}),h}},wysihtml5.commands.outdentList={exec:function(a){var b=a.selection.getSelectionParentsByTag(&quot;LI&quot;);return b?this.tryToPullLiLevel(b,a):!1},state:function(){return!1},tryToPullLiLevel:function(a,b){var c,d,e,f,g,h=!1,i=this;return b.selection.executeAndRestoreRangy(function(){var j,k;for(j=a.length;j--;)if(f=a[j],f.parentNode&amp;&amp;(c=f.parentNode,&quot;OL&quot;===c.tagName||&quot;UL&quot;===c.tagName)){if(h=!0,d=wysihtml5.dom.getParentElement(c.parentNode,{nodeName:[&quot;OL&quot;,&quot;UL&quot;]},!1,b.element),e=wysihtml5.dom.getParentElement(c.parentNode,{nodeName:[&quot;LI&quot;]},!1,b.element),d&amp;&amp;e)f.nextSibling&amp;&amp;(g=i.getAfterList(c,f),f.appendChild(g)),d.insertBefore(f,e.nextSibling);else{for(f.nextSibling&amp;&amp;(g=i.getAfterList(c,f),f.appendChild(g)),k=f.childNodes.length;k--;)c.parentNode.insertBefore(f.childNodes[k],c.nextSibling);c.parentNode.insertBefore(document.createElement(&quot;br&quot;),c.nextSibling),f.parentNode.removeChild(f)}0===c.childNodes.length&amp;&amp;c.parentNode.removeChild(c)}}),h},getAfterList:function(a,b){for(var c=a.nodeName,d=document.createElement(c);b.nextSibling;)d.appendChild(b.nextSibling);return d}},function(a){var b=90,c=89,d=8,e=46,f=25,g=&quot;data-wysihtml5-selection-node&quot;,h=&quot;data-wysihtml5-selection-offset&quot;,i=(&#39;&lt;span id=&quot;_wysihtml5-undo&quot; class=&quot;_wysihtml5-temp&quot;&gt;&#39;+a.INVISIBLE_SPACE+&quot;&lt;/span&gt;&quot;,&#39;&lt;span id=&quot;_wysihtml5-redo&quot; class=&quot;_wysihtml5-temp&quot;&gt;&#39;+a.INVISIBLE_SPACE+&quot;&lt;/span&gt;&quot;,a.dom);a.UndoManager=a.lang.Dispatcher.extend({constructor:function(a){this.editor=a,this.composer=a.composer,this.element=this.composer.element,this.position=0,this.historyStr=[],this.historyDom=[],this.transact(),this._observe()},_observe:function(){{var a,f=this;this.composer.sandbox.getDocument()}i.observe(this.element,&quot;keydown&quot;,function(a){if(!a.altKey&amp;&amp;(a.ctrlKey||a.metaKey)){var d=a.keyCode,e=d===b&amp;&amp;!a.shiftKey,g=d===b&amp;&amp;a.shiftKey||d===c;e?(f.undo(),a.preventDefault()):g&amp;&amp;(f.redo(),a.preventDefault())}}),i.observe(this.element,&quot;keydown&quot;,function(b){var c=b.keyCode;c!==a&amp;&amp;(a=c,(c===d||c===e)&amp;&amp;f.transact())}),this.editor.on(&quot;newword:composer&quot;,function(){f.transact()}).on(&quot;beforecommand:composer&quot;,function(){f.transact()})},transact:function(){var b,c,d,e,i,j,k,l=this.historyStr[this.position-1],m=this.composer.getValue(!1,!1),n=this.element.offsetWidth&gt;0&amp;&amp;this.element.offsetHeight&gt;0;m!==l&amp;&amp;(j=this.historyStr.length=this.historyDom.length=this.position,j&gt;f&amp;&amp;(this.historyStr.shift(),this.historyDom.shift(),this.position--),this.position++,n&amp;&amp;(b=this.composer.selection.getRange(),c=b&amp;&amp;b.startContainer?b.startContainer:this.element,d=b&amp;&amp;b.startOffset?b.startOffset:0,c.nodeType===a.ELEMENT_NODE?e=c:(e=c.parentNode,i=this.getChildNodeIndex(e,c)),e.setAttribute(h,d),void 0!==i&amp;&amp;e.setAttribute(g,i)),k=this.element.cloneNode(!!m),this.historyDom.push(k),this.historyStr.push(m),e&amp;&amp;(e.removeAttribute(h),e.removeAttribute(g)))},undo:function(){this.transact(),this.undoPossible()&amp;&amp;(this.set(this.historyDom[--this.position-1]),this.editor.fire(&quot;undo:composer&quot;))},redo:function(){this.redoPossible()&amp;&amp;(this.set(this.historyDom[++this.position-1]),this.editor.fire(&quot;redo:composer&quot;))},undoPossible:function(){return this.position&gt;1},redoPossible:function(){return this.position&lt;this.historyStr.length},set:function(a){var b,c,d,e,f,i;for(this.element.innerHTML=&quot;&quot;,b=0,c=a.childNodes,d=a.childNodes.length;d&gt;b;b++)this.element.appendChild(c[b].cloneNode(!0));a.hasAttribute(h)?(e=a.getAttribute(h),i=a.getAttribute(g),f=this.element):(f=this.element.querySelector(&quot;[&quot;+h+&quot;]&quot;)||this.element,e=f.getAttribute(h),i=f.getAttribute(g),f.removeAttribute(h),f.removeAttribute(g)),null!==i&amp;&amp;(f=this.getChildNodeByIndex(f,+i)),this.composer.selection.set(f,e)},getChildNodeIndex:function(a,b){for(var c=0,d=a.childNodes,e=d.length;e&gt;c;c++)if(d[c]===b)return c},getChildNodeByIndex:function(a,b){return a.childNodes[b]}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(a,b,c){this.parent=a,this.element=b,this.config=c,this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var a=this;this.parent.on(&quot;beforeload&quot;,function(){a.parent.on(&quot;change_view&quot;,function(b){b===a.name?(a.parent.currentView=a,a.show(),setTimeout(function(){a.focus()},0)):a.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(&quot;:focus&quot;)!==this.element)try{this.element.focus()}catch(a){}},hide:function(){this.element.style.display=&quot;none&quot;},show:function(){this.element.style.display=&quot;&quot;},disable:function(){this.element.setAttribute(&quot;disabled&quot;,&quot;disabled&quot;)},enable:function(){this.element.removeAttribute(&quot;disabled&quot;)}}),function(a){var b=a.dom,c=a.browser;a.views.Composer=a.views.View.extend({name:&quot;composer&quot;,CARET_HACK:&quot;&lt;br&gt;&quot;,constructor:function(a,b,c){this.base(a,b,c),this.config.noTextarea?this.editableArea=b:this.textarea=this.parent.textarea,this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=c.displaysCaretInEmptyContentEditableCorrectly()?&quot;&quot;:this.CARET_HACK},getValue:function(b,c){var d=this.isEmpty()?&quot;&quot;:a.quirks.getCorrectInnerHTML(this.element);return b!==!1&amp;&amp;(d=this.parent.parse(d,c===!1?!1:!0)),d},setValue:function(a,b){b&amp;&amp;(a=this.parent.parse(a));try{this.element.innerHTML=a}catch(c){this.element.innerText=a}},cleanUp:function(){this.parent.parse(this.element)},show:function(){this.editableArea.style.display=this._displayStyle||&quot;&quot;,this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=b.getStyle(&quot;display&quot;).from(this.editableArea),&quot;none&quot;===this._displayStyle&amp;&amp;(this._displayStyle=null),this.editableArea.style.display=&quot;none&quot;},disable:function(){this.parent.fire(&quot;disable:composer&quot;),this.element.removeAttribute(&quot;contentEditable&quot;)},enable:function(){this.parent.fire(&quot;enable:composer&quot;),this.element.setAttribute(&quot;contentEditable&quot;,&quot;true&quot;)},focus:function(b){a.browser.doesAsyncFocus()&amp;&amp;this.hasPlaceholderSet()&amp;&amp;this.clear(),this.base();var c=this.element.lastChild;b&amp;&amp;c&amp;&amp;this.selection&amp;&amp;(&quot;BR&quot;===c.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return b.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute(&quot;data-placeholder&quot;):this.textarea.element.getAttribute(&quot;placeholder&quot;))&amp;&amp;this.placeholderSet},isEmpty:function(){var a=this.element.innerHTML.toLowerCase();return/^(\s|&lt;br&gt;|&lt;\/br&gt;|&lt;p&gt;|&lt;\/p&gt;)*$/i.test(a)||&quot;&quot;===a||&quot;&lt;br&gt;&quot;===a||&quot;&lt;p&gt;&lt;/p&gt;&quot;===a||&quot;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&quot;===a||this.hasPlaceholderSet()},_initContentEditableArea:function(){var a=this;this.config.noTextarea?this.sandbox=new b.ContentEditableArea(function(){a._create()},{},this.editableArea):(this.sandbox=new b.ContentEditableArea(function(){a._create()}),this.editableArea=this.sandbox.getContentEditable(),b.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var a,c=this;this.sandbox=new b.Sandbox(function(){c._create()},{stylesheets:this.config.stylesheets}),this.editableArea=this.sandbox.getIframe(),a=this.textarea.element,b.insert(this.editableArea).after(a),this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var a=document.createElement(&quot;input&quot;);a.type=&quot;hidden&quot;,a.name=&quot;_wysihtml5_mode&quot;,a.value=1,b.insert(a).after(this.textarea.element)}},_create:function(){var d,e,f=this;this.doc=this.sandbox.getDocument(),this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body,this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1)),this.selection=new a.Selection(this.parent,this.element,this.config.uneditableContainerClassname),this.commands=new a.Commands(this.parent),this.config.noTextarea||b.copyAttributes([&quot;className&quot;,&quot;spellcheck&quot;,&quot;title&quot;,&quot;lang&quot;,&quot;dir&quot;,&quot;accessKey&quot;]).from(this.textarea.element).to(this.element),b.addClass(this.element,this.config.composerClassName),this.config.style&amp;&amp;!this.config.contentEditableMode&amp;&amp;this.style(),this.observe(),d=this.config.name,d&amp;&amp;(b.addClass(this.element,d),this.config.contentEditableMode||b.addClass(this.editableArea,d)),this.enable(),!this.config.noTextarea&amp;&amp;this.textarea.element.disabled&amp;&amp;this.disable(),e=&quot;string&quot;==typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute(&quot;data-placeholder&quot;):this.textarea.element.getAttribute(&quot;placeholder&quot;),e&amp;&amp;b.simulatePlaceholder(this.parent,this,e),this.commands.exec(&quot;styleWithCSS&quot;,!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),this._initLineBreaking(),this.config.noTextarea||!this.textarea.element.hasAttribute(&quot;autofocus&quot;)&amp;&amp;document.querySelector(&quot;:focus&quot;)!=this.textarea.element||c.isIos()||setTimeout(function(){f.focus(!0)},100),c.clearsContentEditableCorrectly()||a.quirks.ensureProperClearing(this),this.initSync&amp;&amp;this.config.sync&amp;&amp;this.initSync(),this.config.noTextarea||this.textarea.hide(),this.parent.fire(&quot;beforeload&quot;).fire(&quot;load&quot;)},_initAutoLinking:function(){var d,e,f,g=this,h=c.canDisableAutoLinking(),i=c.doesAutoLinkingInContentEditable();h&amp;&amp;this.commands.exec(&quot;autoUrlDetect&quot;,!1),this.config.autoLink&amp;&amp;((!i||i&amp;&amp;h)&amp;&amp;(this.parent.on(&quot;newword:composer&quot;,function(){b.getTextContent(g.element).match(b.autoLink.URL_REG_EXP)&amp;&amp;g.selection.executeAndRestore(function(c,d){var e,f=g.element.querySelectorAll(&quot;.&quot;+g.config.uneditableContainerClassname),h=!1;for(e=f.length;e--;)a.dom.contains(f[e],d)&amp;&amp;(h=!0);h||b.autoLink(d.parentNode,[g.config.uneditableContainerClassname])})}),b.observe(this.element,&quot;blur&quot;,function(){b.autoLink(g.element,[g.config.uneditableContainerClassname])})),d=this.sandbox.getDocument().getElementsByTagName(&quot;a&quot;),e=b.autoLink.URL_REG_EXP,f=function(c){var d=a.lang.string(b.getTextContent(c)).trim();return&quot;www.&quot;===d.substr(0,4)&amp;&amp;(d=&quot;http://&quot;+d),d},b.observe(this.element,&quot;keydown&quot;,function(a){if(d.length){var c,h=g.selection.getSelectedNode(a.target.ownerDocument),i=b.getParentElement(h,{nodeName:&quot;A&quot;},4);i&amp;&amp;(c=f(i),setTimeout(function(){var a=f(i);a!==c&amp;&amp;a.match(e)&amp;&amp;i.setAttribute(&quot;href&quot;,a)},0))}}))},_initObjectResizing:function(){if(this.commands.exec(&quot;enableObjectResizing&quot;,!0),c.supportsEvent(&quot;resizeend&quot;)){var d=[&quot;width&quot;,&quot;height&quot;],e=d.length,f=this.element;b.observe(f,&quot;resizeend&quot;,function(b){var c,g=b.target||b.srcElement,h=g.style,i=0;if(&quot;IMG&quot;===g.nodeName){for(;e&gt;i;i++)c=d[i],h[c]&amp;&amp;(g.setAttribute(c,parseInt(h[c],10)),h[c]=&quot;&quot;);a.quirks.redraw(f)}})}},_initUndoManager:function(){this.undoManager=new a.UndoManager(this.parent)},_initLineBreaking:function(){function d(a){var c=b.getParentElement(a,{nodeName:[&quot;P&quot;,&quot;DIV&quot;]},2);c&amp;&amp;b.contains(e.element,c)&amp;&amp;e.selection.executeAndRestore(function(){e.config.useLineBreaks?b.replaceWithChildNodes(c):&quot;P&quot;!==c.nodeName&amp;&amp;b.renameElement(c,&quot;p&quot;)})}var e=this,f=[&quot;LI&quot;,&quot;P&quot;,&quot;H1&quot;,&quot;H2&quot;,&quot;H3&quot;,&quot;H4&quot;,&quot;H5&quot;,&quot;H6&quot;],g=[&quot;UL&quot;,&quot;OL&quot;,&quot;MENU&quot;];this.config.useLineBreaks||b.observe(this.element,[&quot;focus&quot;,&quot;keydown&quot;],function(){if(e.isEmpty()){var a=e.doc.createElement(&quot;P&quot;);e.element.innerHTML=&quot;&quot;,e.element.appendChild(a),c.displaysCaretInEmptyContentEditableCorrectly()?e.selection.selectNode(a,!0):(a.innerHTML=&quot;&lt;br&gt;&quot;,e.selection.setBefore(a.firstChild))}}),b.observe(this.element,&quot;keydown&quot;,function(c){var h,i=c.keyCode;if(!c.shiftKey&amp;&amp;(i===a.ENTER_KEY||i===a.BACKSPACE_KEY))return h=b.getParentElement(e.selection.getSelectedNode(),{nodeName:f},4),h?(setTimeout(function(){var c,f=e.selection.getSelectedNode();if(&quot;LI&quot;===h.nodeName){if(!f)return;c=b.getParentElement(f,{nodeName:g},2),c||d(f)}i===a.ENTER_KEY&amp;&amp;h.nodeName.match(/^H[1-6]$/)&amp;&amp;d(f)},0),void 0):(e.config.useLineBreaks&amp;&amp;i===a.ENTER_KEY&amp;&amp;!a.browser.insertsLineBreaksOnReturn()&amp;&amp;(c.preventDefault(),e.commands.exec(&quot;insertLineBreak&quot;)),void 0)})}})}(wysihtml5),function(a){var b=a.dom,c=document,d=window,e=c.createElement(&quot;div&quot;),f=[&quot;background-color&quot;,&quot;color&quot;,&quot;cursor&quot;,&quot;font-family&quot;,&quot;font-size&quot;,&quot;font-style&quot;,&quot;font-variant&quot;,&quot;font-weight&quot;,&quot;line-height&quot;,&quot;letter-spacing&quot;,&quot;text-align&quot;,&quot;text-decoration&quot;,&quot;text-indent&quot;,&quot;text-rendering&quot;,&quot;word-break&quot;,&quot;word-wrap&quot;,&quot;word-spacing&quot;],g=[&quot;background-color&quot;,&quot;border-collapse&quot;,&quot;border-bottom-color&quot;,&quot;border-bottom-style&quot;,&quot;border-bottom-width&quot;,&quot;border-left-color&quot;,&quot;border-left-style&quot;,&quot;border-left-width&quot;,&quot;border-right-color&quot;,&quot;border-right-style&quot;,&quot;border-right-width&quot;,&quot;border-top-color&quot;,&quot;border-top-style&quot;,&quot;border-top-width&quot;,&quot;clear&quot;,&quot;display&quot;,&quot;float&quot;,&quot;margin-bottom&quot;,&quot;margin-left&quot;,&quot;margin-right&quot;,&quot;margin-top&quot;,&quot;outline-color&quot;,&quot;outline-offset&quot;,&quot;outline-width&quot;,&quot;outline-style&quot;,&quot;padding-left&quot;,&quot;padding-right&quot;,&quot;padding-top&quot;,&quot;padding-bottom&quot;,&quot;position&quot;,&quot;top&quot;,&quot;left&quot;,&quot;right&quot;,&quot;bottom&quot;,&quot;z-index&quot;,&quot;vertical-align&quot;,&quot;text-align&quot;,&quot;-webkit-box-sizing&quot;,&quot;-moz-box-sizing&quot;,&quot;-ms-box-sizing&quot;,&quot;box-sizing&quot;,&quot;-webkit-box-shadow&quot;,&quot;-moz-box-shadow&quot;,&quot;-ms-box-shadow&quot;,&quot;box-shadow&quot;,&quot;-webkit-border-top-right-radius&quot;,&quot;-moz-border-radius-topright&quot;,&quot;border-top-right-radius&quot;,&quot;-webkit-border-bottom-right-radius&quot;,&quot;-moz-border-radius-bottomright&quot;,&quot;border-bottom-right-radius&quot;,&quot;-webkit-border-bottom-left-radius&quot;,&quot;-moz-border-radius-bottomleft&quot;,&quot;border-bottom-left-radius&quot;,&quot;-webkit-border-top-left-radius&quot;,&quot;-moz-border-radius-topleft&quot;,&quot;border-top-left-radius&quot;,&quot;width&quot;,&quot;height&quot;],h=[&quot;html                 { height: 100%; }&quot;,&quot;body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }&quot;,&quot;body &gt; p:first-child { margin-top: 0; }&quot;,&quot;._wysihtml5-temp     { display: none; }&quot;,a.browser.isGecko?&quot;body.placeholder { color: graytext !important; }&quot;:&quot;body.placeholder { color: #a9a9a9 !important; }&quot;,&quot;img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }&quot;],i=function(a){if(a.setActive)try{a.setActive()}catch(e){}else{var f=a.style,g=c.documentElement.scrollTop||c.body.scrollTop,h=c.documentElement.scrollLeft||c.body.scrollLeft,i={position:f.position,top:f.top,left:f.left,WebkitUserSelect:f.WebkitUserSelect};b.setStyles({position:&quot;absolute&quot;,top:&quot;-99999px&quot;,left:&quot;-99999px&quot;,WebkitUserSelect:&quot;none&quot;}).on(a),a.focus(),b.setStyles(i).on(a),d.scrollTo&amp;&amp;d.scrollTo(h,g)}};a.views.Composer.prototype.style=function(){var d,j,k=this,l=c.querySelector(&quot;:focus&quot;),m=this.textarea.element,n=m.hasAttribute(&quot;placeholder&quot;),o=n&amp;&amp;m.getAttribute(&quot;placeholder&quot;),p=m.style.display,q=m.disabled;return this.focusStylesHost=e.cloneNode(!1),this.blurStylesHost=e.cloneNode(!1),this.disabledStylesHost=e.cloneNode(!1),n&amp;&amp;m.removeAttribute(&quot;placeholder&quot;),m===l&amp;&amp;m.blur(),m.disabled=!1,m.style.display=d=&quot;none&quot;,(m.getAttribute(&quot;rows&quot;)&amp;&amp;&quot;auto&quot;===b.getStyle(&quot;height&quot;).from(m)||m.getAttribute(&quot;cols&quot;)&amp;&amp;&quot;auto&quot;===b.getStyle(&quot;width&quot;).from(m))&amp;&amp;(m.style.display=d=p),b.copyStyles(g).from(m).to(this.editableArea).andTo(this.blurStylesHost),b.copyStyles(f).from(m).to(this.element).andTo(this.blurStylesHost),b.insertCSS(h).into(this.element.ownerDocument),m.disabled=!0,b.copyStyles(g).from(m).to(this.disabledStylesHost),b.copyStyles(f).from(m).to(this.disabledStylesHost),m.disabled=q,m.style.display=p,i(m),m.style.display=d,b.copyStyles(g).from(m).to(this.focusStylesHost),b.copyStyles(f).from(m).to(this.focusStylesHost),m.style.display=p,b.copyStyles([&quot;display&quot;]).from(m).to(this.editableArea),j=a.lang.array(g).without([&quot;display&quot;]),l?l.focus():m.blur(),n&amp;&amp;m.setAttribute(&quot;placeholder&quot;,o),this.parent.on(&quot;focus:composer&quot;,function(){b.copyStyles(j).from(k.focusStylesHost).to(k.editableArea),b.copyStyles(f).from(k.focusStylesHost).to(k.element)}),this.parent.on(&quot;blur:composer&quot;,function(){b.copyStyles(j).from(k.blurStylesHost).to(k.editableArea),b.copyStyles(f).from(k.blurStylesHost).to(k.element)}),this.parent.observe(&quot;disable:composer&quot;,function(){b.copyStyles(j).from(k.disabledStylesHost).to(k.editableArea),b.copyStyles(f).from(k.disabledStylesHost).to(k.element)}),this.parent.observe(&quot;enable:composer&quot;,function(){b.copyStyles(j).from(k.blurStylesHost).to(k.editableArea),b.copyStyles(f).from(k.blurStylesHost).to(k.element)}),this}}(wysihtml5),function(a){var b=a.dom,c=a.browser,d={66:&quot;bold&quot;,73:&quot;italic&quot;,85:&quot;underline&quot;},e=function(a,b,c){var d,e=a.getPreviousNode(b,!0),f=a.getSelectedNode();if(1!==f.nodeType&amp;&amp;f.parentNode!==c&amp;&amp;(f=f.parentNode),e)if(1==f.nodeType){if(d=f.firstChild,1==e.nodeType)for(;f.firstChild;)e.appendChild(f.firstChild);else for(;f.firstChild;)b.parentNode.insertBefore(f.firstChild,b);f.parentNode&amp;&amp;f.parentNode.removeChild(f),a.setBefore(d)}else 1==e.nodeType?e.appendChild(f):b.parentNode.insertBefore(f,b),a.setBefore(f)},f=function(a,b,c,d){var f,g,h;b.isCollapsed()?b.caretIsInTheBeginnig(&quot;LI&quot;)?(a.preventDefault(),d.commands.exec(&quot;outdentList&quot;)):b.caretIsInTheBeginnig()?a.preventDefault():(b.caretIsFirstInSelection()&amp;&amp;b.getPreviousNode()&amp;&amp;b.getPreviousNode().nodeName&amp;&amp;/^H\d$/gi.test(b.getPreviousNode().nodeName)&amp;&amp;(f=b.getPreviousNode(),a.preventDefault(),/^\s*$/.test(f.textContent||f.innerText)?f.parentNode.removeChild(f):(g=f.ownerDocument.createRange(),g.selectNodeContents(f),g.collapse(!1),b.setSelection(g))),h=b.caretIsBeforeUneditable(),h&amp;&amp;(a.preventDefault(),e(b,h,c))):b.containsUneditable()&amp;&amp;(a.preventDefault(),b.deleteContents())},g=function(a){if(a.selection.isCollapsed()){if(a.selection.caretIsInTheBeginnig(&quot;LI&quot;)&amp;&amp;a.commands.exec(&quot;indentList&quot;))return}else a.selection.deleteContents();</td>
      </tr>
      <tr>
        <td id="L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="LC7" class="blob-code blob-code-inner js-file-line">a.commands.exec(&quot;insertHTML&quot;,&quot;&amp;emsp;&quot;)};a.views.Composer.prototype.observe=function(){var e,h,i=this,j=this.getValue(!1,!1),k=this.sandbox.getIframe?this.sandbox.getIframe():this.sandbox.getContentEditable(),l=this.element,m=c.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?l:this.sandbox.getWindow(),n=[&quot;drop&quot;,&quot;paste&quot;,&quot;beforepaste&quot;],o=[&quot;drop&quot;,&quot;paste&quot;,&quot;mouseup&quot;,&quot;focus&quot;,&quot;keyup&quot;];b.observe(k,&quot;DOMNodeRemoved&quot;,function(){clearInterval(e),i.parent.fire(&quot;destroy:composer&quot;)}),c.supportsMutationEvents()||(e=setInterval(function(){b.contains(document.documentElement,k)||(clearInterval(e),i.parent.fire(&quot;destroy:composer&quot;))},250)),b.observe(m,o,function(){setTimeout(function(){i.parent.fire(&quot;interaction&quot;).fire(&quot;interaction:composer&quot;)},0)}),this.config.handleTables&amp;&amp;(!this.tableClickHandle&amp;&amp;this.doc.execCommand&amp;&amp;a.browser.supportsCommand(this.doc,&quot;enableObjectResizing&quot;)&amp;&amp;a.browser.supportsCommand(this.doc,&quot;enableInlineTableEditing&quot;)&amp;&amp;(this.sandbox.getIframe?this.tableClickHandle=b.observe(k,[&quot;focus&quot;,&quot;mouseup&quot;,&quot;mouseover&quot;],function(){i.doc.execCommand(&quot;enableObjectResizing&quot;,!1,&quot;false&quot;),i.doc.execCommand(&quot;enableInlineTableEditing&quot;,!1,&quot;false&quot;),i.tableClickHandle.stop()}):setTimeout(function(){i.doc.execCommand(&quot;enableObjectResizing&quot;,!1,&quot;false&quot;),i.doc.execCommand(&quot;enableInlineTableEditing&quot;,!1,&quot;false&quot;)},0)),this.tableSelection=a.quirks.tableCellsSelection(l,i.parent)),b.observe(m,&quot;focus&quot;,function(a){i.parent.fire(&quot;focus&quot;,a).fire(&quot;focus:composer&quot;,a),setTimeout(function(){j=i.getValue(!1,!1)},0)}),b.observe(m,&quot;blur&quot;,function(a){if(j!==i.getValue(!1,!1)){var b=a;&quot;function&quot;==typeof Object.create&amp;&amp;(b=Object.create(a,{type:{value:&quot;change&quot;}})),i.parent.fire(&quot;change&quot;,b).fire(&quot;change:composer&quot;,b)}i.parent.fire(&quot;blur&quot;,a).fire(&quot;blur:composer&quot;,a)}),b.observe(l,&quot;dragenter&quot;,function(){i.parent.fire(&quot;unset_placeholder&quot;)}),b.observe(l,n,function(a){i.parent.fire(a.type,a).fire(a.type+&quot;:composer&quot;,a)}),this.config.copyedFromMarking&amp;&amp;b.observe(l,&quot;copy&quot;,function(a){a.clipboardData&amp;&amp;(a.clipboardData.setData(&quot;text/html&quot;,i.config.copyedFromMarking+i.selection.getHtml()),a.preventDefault()),i.parent.fire(a.type,a).fire(a.type+&quot;:composer&quot;,a)}),b.observe(l,&quot;keyup&quot;,function(b){var c=b.keyCode;(c===a.SPACE_KEY||c===a.ENTER_KEY)&amp;&amp;i.parent.fire(&quot;newword:composer&quot;)}),this.parent.on(&quot;paste:composer&quot;,function(){setTimeout(function(){i.parent.fire(&quot;newword:composer&quot;)},0)}),c.canSelectImagesInContentEditable()||b.observe(l,&quot;mousedown&quot;,function(b){var c=b.target,d=l.querySelectorAll(&quot;img&quot;),e=l.querySelectorAll(&quot;.&quot;+i.config.uneditableContainerClassname+&quot; img&quot;),f=a.lang.array(d).without(e);&quot;IMG&quot;===c.nodeName&amp;&amp;a.lang.array(f).contains(c)&amp;&amp;i.selection.selectNode(c)}),c.canSelectImagesInContentEditable()||b.observe(l,&quot;drop&quot;,function(){setTimeout(function(){i.selection.getSelection().removeAllRanges()},0)}),c.hasHistoryIssue()&amp;&amp;c.supportsSelectionModify()&amp;&amp;b.observe(l,&quot;keydown&quot;,function(a){if(a.metaKey||a.ctrlKey){var b=a.keyCode,c=l.ownerDocument.defaultView,d=c.getSelection();(37===b||39===b)&amp;&amp;(37===b&amp;&amp;(d.modify(&quot;extend&quot;,&quot;left&quot;,&quot;lineboundary&quot;),a.shiftKey||d.collapseToStart()),39===b&amp;&amp;(d.modify(&quot;extend&quot;,&quot;right&quot;,&quot;lineboundary&quot;),a.shiftKey||d.collapseToEnd()),a.preventDefault())}}),b.observe(l,&quot;keydown&quot;,function(a){var b=a.keyCode,c=d[b];(a.ctrlKey||a.metaKey)&amp;&amp;!a.altKey&amp;&amp;c&amp;&amp;(i.commands.exec(c),a.preventDefault()),8===b?f(a,i.selection,l,i):i.config.handleTabKey&amp;&amp;9===b&amp;&amp;(a.preventDefault(),g(i,l))}),b.observe(l,&quot;keydown&quot;,function(b){var c,d=i.selection.getSelectedNode(!0),e=b.keyCode;!d||&quot;IMG&quot;!==d.nodeName||e!==a.BACKSPACE_KEY&amp;&amp;e!==a.DELETE_KEY||(c=d.parentNode,c.removeChild(d),&quot;A&quot;!==c.nodeName||c.firstChild||c.parentNode.removeChild(c),setTimeout(function(){a.quirks.redraw(l)},0),b.preventDefault())}),!this.config.contentEditableMode&amp;&amp;c.hasIframeFocusIssue()&amp;&amp;(b.observe(k,&quot;focus&quot;,function(){setTimeout(function(){i.doc.querySelector(&quot;:focus&quot;)!==i.element&amp;&amp;i.focus()},0)}),b.observe(this.element,&quot;blur&quot;,function(){setTimeout(function(){i.selection.getSelection().removeAllRanges()},0)})),h={IMG:&quot;Image: &quot;,A:&quot;Link: &quot;},b.observe(l,&quot;mouseover&quot;,function(a){var b,c,d=a.target,e=d.nodeName;(&quot;A&quot;===e||&quot;IMG&quot;===e)&amp;&amp;(c=d.hasAttribute(&quot;title&quot;),c||(b=h[e]+(d.getAttribute(&quot;href&quot;)||d.getAttribute(&quot;src&quot;)),d.setAttribute(&quot;title&quot;,b)))})}}(wysihtml5),function(a){var b=400;a.views.Synchronizer=Base.extend({constructor:function(a,b,c){this.editor=a,this.textarea=b,this.composer=c,this._observe()},fromComposerToTextarea:function(b){this.textarea.setValue(a.lang.string(this.composer.getValue(!1,!1)).trim(),b)},fromTextareaToComposer:function(a){var b=this.textarea.getValue(!1,!1);b?this.composer.setValue(b,a):(this.composer.clear(),this.editor.fire(&quot;set_placeholder&quot;))},sync:function(a){&quot;textarea&quot;===this.editor.currentView.name?this.fromTextareaToComposer(a):this.fromComposerToTextarea(a)},_observe:function(){var c,d=this,e=this.textarea.element.form,f=function(){c=setInterval(function(){d.fromComposerToTextarea()},b)},g=function(){clearInterval(c),c=null};f(),e&amp;&amp;(a.dom.observe(e,&quot;submit&quot;,function(){d.sync(!0)}),a.dom.observe(e,&quot;reset&quot;,function(){setTimeout(function(){d.fromTextareaToComposer()},0)})),this.editor.on(&quot;change_view&quot;,function(a){&quot;composer&quot;!==a||c?&quot;textarea&quot;===a&amp;&amp;(d.fromComposerToTextarea(!0),g()):(d.fromTextareaToComposer(!0),f())}),this.editor.on(&quot;destroy:composer&quot;,g)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:&quot;textarea&quot;,constructor:function(a,b,c){this.base(a,b,c),this._observe()},clear:function(){this.element.value=&quot;&quot;},getValue:function(a){var b=this.isEmpty()?&quot;&quot;:this.element.value;return a!==!1&amp;&amp;(b=this.parent.parse(b)),b},setValue:function(a,b){b&amp;&amp;(a=this.parent.parse(a)),this.element.value=a},cleanUp:function(){var a=this.parent.parse(this.element.value);this.element.value=a},hasPlaceholderSet:function(){var a=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),b=this.element.getAttribute(&quot;placeholder&quot;)||null,c=this.element.value,d=!c;return a&amp;&amp;d||c===b},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var a=this.element,b=this.parent,c={focusin:&quot;focus&quot;,focusout:&quot;blur&quot;},d=wysihtml5.browser.supportsEvent(&quot;focusin&quot;)?[&quot;focusin&quot;,&quot;focusout&quot;,&quot;change&quot;]:[&quot;focus&quot;,&quot;blur&quot;,&quot;change&quot;];b.on(&quot;beforeload&quot;,function(){wysihtml5.dom.observe(a,d,function(a){var d=c[a.type]||a.type;b.fire(d).fire(d+&quot;:textarea&quot;)}),wysihtml5.dom.observe(a,[&quot;paste&quot;,&quot;drop&quot;],function(){setTimeout(function(){b.fire(&quot;paste&quot;).fire(&quot;paste:textarea&quot;)},0)})})}}),function(a){var b,c={name:b,style:!0,toolbar:b,showToolbarAfterInit:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},pasteParserRulesets:null,parser:a.dom.parse,composerClassName:&quot;wysihtml5-editor&quot;,bodyClassName:&quot;wysihtml5-supported&quot;,useLineBreaks:!0,stylesheets:[],placeholderText:b,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,uneditableContainerClassname:&quot;wysihtml5-uneditable-container&quot;,copyedFromMarking:&#39;&lt;meta name=&quot;copied-from&quot; content=&quot;wysihtml5&quot;&gt;&#39;};a.Editor=a.lang.Dispatcher.extend({constructor:function(b,d){if(this.editableElement=&quot;string&quot;==typeof b?document.getElementById(b):b,this.config=a.lang.object({}).merge(c).merge(d).get(),this._isCompatible=a.browser.supported(),&quot;textarea&quot;!=this.editableElement.nodeName.toLowerCase()&amp;&amp;(this.config.contentEditableMode=!0,this.config.noTextarea=!0),this.config.noTextarea||(this.textarea=new a.views.Textarea(this,this.editableElement,this.config),this.currentView=this.textarea),!this._isCompatible||!this.config.supportTouchDevices&amp;&amp;a.browser.isTouchDevice()){var e=this;return setTimeout(function(){e.fire(&quot;beforeload&quot;).fire(&quot;load&quot;)},0),void 0}a.dom.addClass(document.body,this.config.bodyClassName),this.composer=new a.views.Composer(this,this.editableElement,this.config),this.currentView=this.composer,&quot;function&quot;==typeof this.config.parser&amp;&amp;this._initParser(),this.on(&quot;beforeload&quot;,this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea||(this.synchronizer=new a.views.Synchronizer(this,this.textarea,this.composer)),this.config.toolbar&amp;&amp;(this.toolbar=new a.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(a,b){return this.currentView.getValue(a,b)},setValue:function(a,b){return this.fire(&quot;unset_placeholder&quot;),a?(this.currentView.setValue(a,b),this):this.clear()},cleanUp:function(){this.currentView.cleanUp()},focus:function(a){return this.currentView.focus(a),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(b,c){var d=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null,e=this.config.parser(b,{rules:this.config.parserRules,cleanUp:this.config.cleanUp,context:d,uneditableClass:this.config.uneditableContainerClassname,clearInternals:c});return&quot;object&quot;==typeof b&amp;&amp;a.quirks.redraw(b),e},_initParser:function(){var b,c=this;a.browser.supportsModenPaste()?this.on(&quot;paste:composer&quot;,function(d){d.preventDefault(),b=a.dom.getPastedHtml(d),b&amp;&amp;c._cleanAndPaste(b)}):this.on(&quot;beforepaste:composer&quot;,function(b){b.preventDefault(),a.dom.getPastedHtmlWithDiv(c.composer,function(a){a&amp;&amp;c._cleanAndPaste(a)})})},_cleanAndPaste:function(b){var c=a.quirks.cleanPastedHTML(b,{referenceNode:this.composer.element,rules:this.config.pasteParserRulesets||[{set:this.config.parserRules}],uneditableClass:this.config.uneditableContainerClassname});this.composer.selection.deleteContents(),this.composer.selection.insertHTML(c)}})}(wysihtml5),function(a){var b=a.dom,c=&quot;wysihtml5-command-dialog-opened&quot;,d=&quot;input, select, textarea&quot;,e=&quot;[data-wysihtml5-dialog-field]&quot;,f=&quot;data-wysihtml5-dialog-field&quot;;a.toolbar.Dialog=a.lang.Dispatcher.extend({constructor:function(a,b){this.link=a,this.container=b},_observe:function(){var e,f,g,h,i,j;if(!this._observed){for(e=this,f=function(a){var b=e._serialize();b==e.elementToChange?e.fire(&quot;edit&quot;,b):e.fire(&quot;save&quot;,b),e.hide(),a.preventDefault(),a.stopPropagation()},b.observe(e.link,&quot;click&quot;,function(){b.hasClass(e.link,c)&amp;&amp;setTimeout(function(){e.hide()},0)}),b.observe(this.container,&quot;keydown&quot;,function(b){var c=b.keyCode;c===a.ENTER_KEY&amp;&amp;f(b),c===a.ESCAPE_KEY&amp;&amp;(e.fire(&quot;cancel&quot;),e.hide())}),b.delegate(this.container,&quot;[data-wysihtml5-dialog-action=save]&quot;,&quot;click&quot;,f),b.delegate(this.container,&quot;[data-wysihtml5-dialog-action=cancel]&quot;,&quot;click&quot;,function(a){e.fire(&quot;cancel&quot;),e.hide(),a.preventDefault(),a.stopPropagation()}),g=this.container.querySelectorAll(d),h=0,i=g.length,j=function(){clearInterval(e.interval)};i&gt;h;h++)b.observe(g[h],&quot;change&quot;,j);this._observed=!0}},_serialize:function(){for(var a=this.elementToChange||{},b=this.container.querySelectorAll(e),c=b.length,d=0;c&gt;d;d++)a[b[d].getAttribute(f)]=b[d].value;return a},_interpolate:function(a){for(var b,c,d,g=document.querySelector(&quot;:focus&quot;),h=this.container.querySelectorAll(e),i=h.length,j=0;i&gt;j;j++)b=h[j],b!==g&amp;&amp;(a&amp;&amp;&quot;hidden&quot;===b.type||(c=b.getAttribute(f),d=this.elementToChange&amp;&amp;&quot;boolean&quot;!=typeof this.elementToChange?this.elementToChange.getAttribute(c)||&quot;&quot;:b.defaultValue,b.value=d))},show:function(a){if(!b.hasClass(this.link,c)){var e=this,f=this.container.querySelector(d);if(this.elementToChange=a,this._observe(),this._interpolate(),a&amp;&amp;(this.interval=setInterval(function(){e._interpolate(!0)},500)),b.addClass(this.link,c),this.container.style.display=&quot;&quot;,this.fire(&quot;show&quot;),f&amp;&amp;!a)try{f.focus()}catch(g){}}},hide:function(){clearInterval(this.interval),this.elementToChange=null,b.removeClass(this.link,c),this.container.style.display=&quot;none&quot;,this.fire(&quot;hide&quot;)}})}(wysihtml5),function(a){var b=a.dom,c={position:&quot;relative&quot;},d={left:0,margin:0,opacity:0,overflow:&quot;hidden&quot;,padding:0,position:&quot;absolute&quot;,top:0,zIndex:1},e={cursor:&quot;inherit&quot;,fontSize:&quot;50px&quot;,height:&quot;50px&quot;,marginTop:&quot;-25px&quot;,outline:0,padding:0,position:&quot;absolute&quot;,right:&quot;-4px&quot;,top:&quot;50%&quot;},f={&quot;x-webkit-speech&quot;:&quot;&quot;,speech:&quot;&quot;};a.toolbar.Speech=function(g,h){var i,j,k,l=document.createElement(&quot;input&quot;);return a.browser.supportsSpeechApiOn(l)?(i=g.editor.textarea.element.getAttribute(&quot;lang&quot;),i&amp;&amp;(f.lang=i),j=document.createElement(&quot;div&quot;),a.lang.object(d).merge({width:h.offsetWidth+&quot;px&quot;,height:h.offsetHeight+&quot;px&quot;}),b.insert(l).into(j),b.insert(j).into(h),b.setStyles(e).on(l),b.setAttributes(f).on(l),b.setStyles(d).on(j),b.setStyles(c).on(h),k=&quot;onwebkitspeechchange&quot;in l?&quot;webkitspeechchange&quot;:&quot;speechchange&quot;,b.observe(l,k,function(){g.execCommand(&quot;insertText&quot;,l.value),l.value=&quot;&quot;}),b.observe(l,&quot;click&quot;,function(a){b.hasClass(h,&quot;wysihtml5-command-disabled&quot;)&amp;&amp;a.preventDefault(),a.stopPropagation()}),void 0):(h.style.display=&quot;none&quot;,void 0)}}(wysihtml5),function(a){var b=&quot;wysihtml5-command-disabled&quot;,c=&quot;wysihtml5-commands-disabled&quot;,d=&quot;wysihtml5-command-active&quot;,e=&quot;wysihtml5-action-active&quot;,f=a.dom;a.toolbar.Toolbar=Base.extend({constructor:function(f,g,h){this.editor=f,this.container=&quot;string&quot;==typeof g?document.getElementById(g):g,this.composer=f.composer,this._getLinks(&quot;command&quot;),this._getLinks(&quot;action&quot;),this._observe(),h&amp;&amp;this.show(),null!=f.config.classNameCommandDisabled&amp;&amp;(b=f.config.classNameCommandDisabled),null!=f.config.classNameCommandsDisabled&amp;&amp;(c=f.config.classNameCommandsDisabled),null!=f.config.classNameCommandActive&amp;&amp;(d=f.config.classNameCommandActive),null!=f.config.classNameActionActive&amp;&amp;(e=f.config.classNameActionActive);for(var i=this.container.querySelectorAll(&quot;[data-wysihtml5-command=insertSpeech]&quot;),j=i.length,k=0;j&gt;k;k++)new a.toolbar.Speech(this,i[k])},_getLinks:function(b){for(var c,d,e,f,g,h=this[b+&quot;Links&quot;]=a.lang.array(this.container.querySelectorAll(&quot;[data-wysihtml5-&quot;+b+&quot;]&quot;)).get(),i=h.length,j=0,k=this[b+&quot;Mapping&quot;]={};i&gt;j;j++)c=h[j],e=c.getAttribute(&quot;data-wysihtml5-&quot;+b),f=c.getAttribute(&quot;data-wysihtml5-&quot;+b+&quot;-value&quot;),d=this.container.querySelector(&quot;[data-wysihtml5-&quot;+b+&quot;-group=&#39;&quot;+e+&quot;&#39;]&quot;),g=this._getDialog(c,e),k[e+&quot;:&quot;+f]={link:c,group:d,name:e,value:f,dialog:g,state:!1}},_getDialog:function(b,c){var d,e,f=this,g=this.container.querySelector(&quot;[data-wysihtml5-dialog=&#39;&quot;+c+&quot;&#39;]&quot;);return g&amp;&amp;(d=a.toolbar[&quot;Dialog_&quot;+c]?new a.toolbar[&quot;Dialog_&quot;+c](b,g):new a.toolbar.Dialog(b,g),d.on(&quot;show&quot;,function(){e=f.composer.selection.getBookmark(),f.editor.fire(&quot;show:dialog&quot;,{command:c,dialogContainer:g,commandLink:b})}),d.on(&quot;save&quot;,function(a){e&amp;&amp;f.composer.selection.setBookmark(e),f._execCommand(c,a),f.editor.fire(&quot;save:dialog&quot;,{command:c,dialogContainer:g,commandLink:b})}),d.on(&quot;cancel&quot;,function(){f.editor.focus(!1),f.editor.fire(&quot;cancel:dialog&quot;,{command:c,dialogContainer:g,commandLink:b})})),d},execCommand:function(a,b){if(!this.commandsDisabled){var c=this.commandMapping[a+&quot;:&quot;+b];c&amp;&amp;c.dialog&amp;&amp;!c.state?c.dialog.show():this._execCommand(a,b)}},_execCommand:function(a,b){this.editor.focus(!1),this.composer.commands.exec(a,b),this._updateLinkStates()},execAction:function(a){var b=this.editor;&quot;change_view&quot;===a&amp;&amp;b.textarea&amp;&amp;(b.currentView===b.textarea?b.fire(&quot;change_view&quot;,&quot;composer&quot;):b.fire(&quot;change_view&quot;,&quot;textarea&quot;)),&quot;showSource&quot;==a&amp;&amp;b.fire(&quot;showSource&quot;)},_observe:function(){for(var a=this,b=this.editor,d=this.container,e=this.commandLinks.concat(this.actionLinks),g=e.length,h=0;g&gt;h;h++)&quot;A&quot;===e[h].nodeName?f.setAttributes({href:&quot;javascript:;&quot;,unselectable:&quot;on&quot;}).on(e[h]):f.setAttributes({unselectable:&quot;on&quot;}).on(e[h]);f.delegate(d,&quot;[data-wysihtml5-command], [data-wysihtml5-action]&quot;,&quot;mousedown&quot;,function(a){a.preventDefault()}),f.delegate(d,&quot;[data-wysihtml5-command]&quot;,&quot;click&quot;,function(b){var c=this,d=c.getAttribute(&quot;data-wysihtml5-command&quot;),e=c.getAttribute(&quot;data-wysihtml5-command-value&quot;);a.execCommand(d,e),b.preventDefault()}),f.delegate(d,&quot;[data-wysihtml5-action]&quot;,&quot;click&quot;,function(b){var c=this.getAttribute(&quot;data-wysihtml5-action&quot;);a.execAction(c),b.preventDefault()}),b.on(&quot;interaction:composer&quot;,function(){a._updateLinkStates()}),b.on(&quot;focus:composer&quot;,function(){a.bookmark=null}),this.editor.config.handleTables&amp;&amp;(b.on(&quot;tableselect:composer&quot;,function(){a.container.querySelectorAll(&#39;[data-wysihtml5-hiddentools=&quot;table&quot;]&#39;)[0].style.display=&quot;&quot;}),b.on(&quot;tableunselect:composer&quot;,function(){a.container.querySelectorAll(&#39;[data-wysihtml5-hiddentools=&quot;table&quot;]&#39;)[0].style.display=&quot;none&quot;})),b.on(&quot;change_view&quot;,function(e){b.textarea&amp;&amp;setTimeout(function(){a.commandsDisabled=&quot;composer&quot;!==e,a._updateLinkStates(),a.commandsDisabled?f.addClass(d,c):f.removeClass(d,c)},0)})},_updateLinkStates:function(){var c,g,h,i,j=this.commandMapping,k=this.actionMapping;for(c in j)i=j[c],this.commandsDisabled?(g=!1,f.removeClass(i.link,d),i.group&amp;&amp;f.removeClass(i.group,d),i.dialog&amp;&amp;i.dialog.hide()):(g=this.composer.commands.state(i.name,i.value),f.removeClass(i.link,b),i.group&amp;&amp;f.removeClass(i.group,b)),i.state!==g&amp;&amp;(i.state=g,g?(f.addClass(i.link,d),i.group&amp;&amp;f.addClass(i.group,d),i.dialog&amp;&amp;(&quot;object&quot;==typeof g||a.lang.object(g).isArray()?(!i.dialog.multiselect&amp;&amp;a.lang.object(g).isArray()&amp;&amp;(g=1===g.length?g[0]:!0,i.state=g),i.dialog.show(g)):i.dialog.hide())):(f.removeClass(i.link,d),i.group&amp;&amp;f.removeClass(i.group,d),i.dialog&amp;&amp;i.dialog.hide()));for(c in k)h=k[c],&quot;change_view&quot;===h.name&amp;&amp;(h.state=this.editor.currentView===this.editor.textarea,h.state?f.addClass(h.link,e):f.removeClass(h.link,e))},show:function(){this.container.style.display=&quot;&quot;},hide:function(){this.container.style.display=&quot;none&quot;}})}(wysihtml5),function(a){a.toolbar.Dialog_createTable=a.toolbar.Dialog.extend({show:function(a){this.base(a)}})}(wysihtml5),function(a){var b=(a.dom,&quot;[data-wysihtml5-dialog-field]&quot;),c=&quot;data-wysihtml5-dialog-field&quot;;a.toolbar.Dialog_foreColorStyle=a.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){for(var a={},d=this.container.querySelectorAll(b),e=d.length,f=0;e&gt;f;f++)a[d[f].getAttribute(c)]=d[f].value;return a},_interpolate:function(d){for(var e,f=document.querySelector(&quot;:focus&quot;),g=this.container.querySelectorAll(b),h=g.length,i=0,j=this.elementToChange?a.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,k=j?j.getAttribute(&quot;style&quot;):null,l=k?a.quirks.styleParser.parseColor(k,&quot;color&quot;):null;h&gt;i;i++)e=g[i],e!==f&amp;&amp;(d&amp;&amp;&quot;hidden&quot;===e.type||&quot;color&quot;===e.getAttribute(c)&amp;&amp;(e.value=l?l[3]&amp;&amp;1!=l[3]?&quot;rgba(&quot;+l[0]+&quot;,&quot;+l[1]+&quot;,&quot;+l[2]+&quot;,&quot;+l[3]+&quot;);&quot;:&quot;rgb(&quot;+l[0]+&quot;,&quot;+l[1]+&quot;,&quot;+l[2]+&quot;);&quot;:&quot;rgb(0,0,0);&quot;))}})}(wysihtml5),function(a){a.dom;a.toolbar.Dialog_fontSizeStyle=a.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){return{size:this.container.querySelector(&#39;[data-wysihtml5-dialog-field=&quot;size&quot;]&#39;).value}},_interpolate:function(){var b=document.querySelector(&quot;:focus&quot;),c=this.container.querySelector(&quot;[data-wysihtml5-dialog-field=&#39;size&#39;]&quot;),d=this.elementToChange?a.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,e=d?d.getAttribute(&quot;style&quot;):null,f=e?a.quirks.styleParser.parseFontSize(e):null;c&amp;&amp;c!==b&amp;&amp;f&amp;&amp;!/^\s*$/.test(f)&amp;&amp;(c.value=f)}})}(wysihtml5),Handlebars=function(){var a=function(){&quot;use strict&quot;;function a(a){this.string=a}var b;return a.prototype.toString=function(){return&quot;&quot;+this.string},b=a}(),b=function(a){&quot;use strict&quot;;function b(a){return k[a]||&quot;&amp;amp;&quot;}function c(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&amp;&amp;(a[c]=b[c])}function d(a){return a instanceof j?&quot;&quot;+a:a||0===a?(a=&quot;&quot;+a,m.test(a)?a.replace(l,b):a):&quot;&quot;}function e(a){return a||0===a?h(a)&amp;&amp;0===a.length?!0:!1:!0}var f,g,h,i={},j=a,k={&quot;&amp;&quot;:&quot;&amp;amp;&quot;,&quot;&lt;&quot;:&quot;&amp;lt;&quot;,&quot;&gt;&quot;:&quot;&amp;gt;&quot;,&#39;&quot;&#39;:&quot;&amp;quot;&quot;,&quot;&#39;&quot;:&quot;&amp;#x27;&quot;,&quot;`&quot;:&quot;&amp;#x60;&quot;},l=/[&amp;&lt;&gt;&quot;&#39;`]/g,m=/[&amp;&lt;&gt;&quot;&#39;`]/;return i.extend=c,f=Object.prototype.toString,i.toString=f,g=function(a){return&quot;function&quot;==typeof a},g(/x/)&amp;&amp;(g=function(a){return&quot;function&quot;==typeof a&amp;&amp;&quot;[object Function]&quot;===f.call(a)}),i.isFunction=g,h=Array.isArray||function(a){return a&amp;&amp;&quot;object&quot;==typeof a?&quot;[object Array]&quot;===f.call(a):!1},i.isArray=h,i.escapeExpression=d,i.isEmpty=e,i}(a),c=function(){&quot;use strict&quot;;function a(a,b){var d,e,f;for(b&amp;&amp;b.firstLine&amp;&amp;(d=b.firstLine,a+=&quot; - &quot;+d+&quot;:&quot;+b.firstColumn),e=Error.prototype.constructor.call(this,a),f=0;f&lt;c.length;f++)this[c[f]]=e[c[f]];d&amp;&amp;(this.lineNumber=d,this.column=b.firstColumn)}var b,c=[&quot;description&quot;,&quot;fileName&quot;,&quot;lineNumber&quot;,&quot;message&quot;,&quot;name&quot;,&quot;number&quot;,&quot;stack&quot;];return a.prototype=Error(),b=a}(),d=function(a,b){&quot;use strict&quot;;function c(a,b){this.helpers=a||{},this.partials=b||{},d(this)}function d(a){a.registerHelper(&quot;helperMissing&quot;,function(a){if(2===arguments.length)return void 0;throw new p(&quot;Missing helper: &#39;&quot;+a+&quot;&#39;&quot;)}),a.registerHelper(&quot;blockHelperMissing&quot;,function(b,c){var d=c.inverse||function(){},e=c.fn;return i(b)&amp;&amp;(b=b.call(this)),b===!0?e(this):b===!1||null==b?d(this):h(b)?b.length&gt;0?a.helpers.each(b,c):d(this):e(b)}),a.registerHelper(&quot;each&quot;,function(a,b){var c,d,e,f=b.fn,g=b.inverse,j=0,k=&quot;&quot;;if(i(a)&amp;&amp;(a=a.call(this)),b.data&amp;&amp;(c=m(b.data)),a&amp;&amp;&quot;object&quot;==typeof a)if(h(a))for(d=a.length;d&gt;j;j++)c&amp;&amp;(c.index=j,c.first=0===j,c.last=j===a.length-1),k+=f(a[j],{data:c});else for(e in a)a.hasOwnProperty(e)&amp;&amp;(c&amp;&amp;(c.key=e,c.index=j,c.first=0===j),k+=f(a[e],{data:c}),j++);return 0===j&amp;&amp;(k=g(this)),k}),a.registerHelper(&quot;if&quot;,function(a,b){return i(a)&amp;&amp;(a=a.call(this)),!b.hash.includeZero&amp;&amp;!a||o.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper(&quot;unless&quot;,function(b,c){return a.helpers[&quot;if&quot;].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper(&quot;with&quot;,function(a,b){return i(a)&amp;&amp;(a=a.call(this)),o.isEmpty(a)?void 0:b.fn(a)}),a.registerHelper(&quot;log&quot;,function(b,c){var d=c.data&amp;&amp;null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)})}function e(a,b){l.log(a,b)}var f,g,h,i,j,k,l,m,n={},o=a,p=b,q=&quot;1.3.0&quot;;return n.VERSION=q,f=4,n.COMPILER_REVISION=f,g={1:&quot;&lt;= 1.0.rc.2&quot;,2:&quot;== 1.0.0-rc.3&quot;,3:&quot;== 1.0.0-rc.4&quot;,4:&quot;&gt;= 1.0.0&quot;},n.REVISION_CHANGES=g,h=o.isArray,i=o.isFunction,j=o.toString,k=&quot;[object Object]&quot;,n.HandlebarsEnvironment=c,c.prototype={constructor:c,logger:l,log:e,registerHelper:function(a,b,c){if(j.call(a)===k){if(c||b)throw new p(&quot;Arg not supported with multiple helpers&quot;);o.extend(this.helpers,a)}else c&amp;&amp;(b.not=c),this.helpers[a]=b},registerPartial:function(a,b){j.call(a)===k?o.extend(this.partials,a):this.partials[a]=b}},l={methodMap:{0:&quot;debug&quot;,1:&quot;info&quot;,2:&quot;warn&quot;,3:&quot;error&quot;},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){if(l.level&lt;=a){var c=l.methodMap[a];&quot;undefined&quot;!=typeof console&amp;&amp;console[c]&amp;&amp;console[c].call(console,b)}}},n.logger=l,n.log=e,m=function(a){var b={};return o.extend(b,a),b},n.createFrame=m,n}(b,c),e=function(a,b,c){&quot;use strict&quot;;function d(a){var b,c,d=a&amp;&amp;a[0]||1,e=m;if(d!==e){if(e&gt;d)throw b=n[e],c=n[d],new l(&quot;Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (&quot;+b+&quot;) or downgrade your runtime to an older version (&quot;+c+&quot;).&quot;);throw new l(&quot;Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (&quot;+a[1]+&quot;).&quot;)}}function e(a,b){if(!b)throw new l(&quot;No environment passed to template&quot;);var c=function(a,c,d,e,f,g){var h,i=b.VM.invokePartial.apply(this,arguments);if(null!=i)return i;if(b.compile)return h={helpers:e,partials:f,data:g},f[c]=b.compile(a,{data:void 0!==g},b),f[c](d,h);throw new l(&quot;The partial &quot;+c+&quot; could not be compiled when running in runtime-only mode&quot;)},d={escapeExpression:k.escapeExpression,invokePartial:c,programs:[],program:function(a,b,c){var d=this.programs[a];return c?d=g(a,b,c):d||(d=this.programs[a]=g(a,b)),d},merge:function(a,b){var c=a||b;return a&amp;&amp;b&amp;&amp;a!==b&amp;&amp;(c={},k.extend(c,b),k.extend(c,a)),c},programWithDepth:b.VM.programWithDepth,noop:b.VM.noop,compilerInfo:null};return function(c,e){var f,g,h,i;return e=e||{},h=e.partial?e:b,e.partial||(f=e.helpers,g=e.partials),i=a.call(d,h,c,f,g,e.data),e.partial||b.VM.checkRevision(d.compilerInfo),i}}function f(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e}function g(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d}function h(a,b,c,d,e,f){var g={partial:!0,helpers:d,partials:e,data:f};if(void 0===a)throw new l(&quot;The partial &quot;+b+&quot; could not be found&quot;);return a instanceof Function?a(c,g):void 0}function i(){return&quot;&quot;}var j={},k=a,l=b,m=c.COMPILER_REVISION,n=c.REVISION_CHANGES;return j.checkRevision=d,j.template=e,j.programWithDepth=f,j.program=g,j.invokePartial=h,j.noop=i,j}(b,c,d),f=function(a,b,c,d,e){&quot;use strict&quot;;var f,g=a,h=b,i=c,j=d,k=e,l=function(){var a=new g.HandlebarsEnvironment;return j.extend(a,g),a.SafeString=h,a.Exception=i,a.Utils=j,a.VM=k,a.template=function(b){return k.template(b,a)},a},m=l();return m.create=l,f=m}(d,a,c,b,e);return f}(),this.wysihtml5=this.wysihtml5||{},this.wysihtml5.tpl=this.wysihtml5.tpl||{},this.wysihtml5.tpl.blockquote=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c=&quot;&quot;;return c+=&quot;btn-&quot;+l((b=a&amp;&amp;a.options,b=null==b||b===!1?b:b.toolbar,b=null==b||b===!1?b:b.size,typeof b===k?b.apply(a):b)),c}function g(){return&#39; \n      &lt;span class=&quot;fa fa-quote-left&quot;&gt;&lt;/span&gt;\n    &#39;}function h(){return&#39;\n      &lt;span class=&quot;glyphicon glyphicon-quote&quot;&gt;&lt;/span&gt;\n    &#39;}this.compilerInfo=[4,&quot;&gt;= 1.0.0&quot;],c=this.merge(c,a.helpers),e=e||{};var i,j=&quot;&quot;,k=&quot;function&quot;,l=this.escapeExpression,m=this;return j+=&#39;&lt;li&gt;\n  &lt;a class=&quot;btn &#39;,i=c[&quot;if&quot;].call(b,(i=b&amp;&amp;b.options,i=null==i||i===!1?i:i.toolbar,null==i||i===!1?i:i.size),{hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e}),(i||0===i)&amp;&amp;(j+=i),j+=&#39; btn-default&quot; data-wysihtml5-command=&quot;formatBlock&quot; data-wysihtml5-command-value=&quot;blockquote&quot; data-wysihtml5-display-format-name=&quot;false&quot; tabindex=&quot;-1&quot;&gt;\n    &#39;,i=c[&quot;if&quot;].call(b,(i=b&amp;&amp;b.options,i=null==i||i===!1?i:i.toolbar,null==i||i===!1?i:i.fa),{hash:{},inverse:m.program(5,h,e),fn:m.program(3,g,e),data:e}),(i||0===i)&amp;&amp;(j+=i),j+=&quot;\n  &lt;/a&gt;\n&lt;/li&gt;\n&quot;,j}),this.wysihtml5.tpl.color=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c=&quot;&quot;;return c+=&quot;btn-&quot;+j((b=a&amp;&amp;a.options,b=null==b||b===!1?b:b.toolbar,b=null==b||b===!1?b:b.size,typeof b===i?b.apply(a):b)),c}this.compilerInfo=[4,&quot;&gt;= 1.0.0&quot;],c=this.merge(c,a.helpers),e=e||{};var g,h=&quot;&quot;,i=&quot;function&quot;,j=this.escapeExpression,k=this;return h+=&#39;&lt;li class=&quot;dropdown&quot;&gt;\n  &lt;a class=&quot;btn btn-default dropdown-toggle &#39;,g=c[&quot;if&quot;].call(b,(g=b&amp;&amp;b.options,g=null==g||g===!1?g:g.toolbar,null==g||g===!1?g:g.size),{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(g||0===g)&amp;&amp;(h+=g),h+=&#39;&quot; data-toggle=&quot;dropdown&quot; tabindex=&quot;-1&quot;&gt;\n    &lt;span class=&quot;current-color&quot;&gt;&#39;+j((g=b&amp;&amp;b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.black,typeof g===i?g.apply(b):g))+&#39;&lt;/span&gt;\n    &lt;b class=&quot;caret&quot;&gt;&lt;/b&gt;\n  &lt;/a&gt;\n  &lt;ul class=&quot;dropdown-menu&quot;&gt;\n    &lt;li&gt;&lt;div class=&quot;wysihtml5-colors&quot; data-wysihtml5-command-value=&quot;black&quot;&gt;&lt;/div&gt;&lt;a class=&quot;wysihtml5-colors-title&quot; data-wysihtml5-command=&quot;foreColor&quot; data-wysihtml5-command-value=&quot;black&quot;&gt;&#39;+j((g=b&amp;&amp;b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.black,typeof g===i?g.apply(b):g))+&#39;&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;div class=&quot;wysihtml5-colors&quot; data-wysihtml5-command-value=&quot;silver&quot;&gt;&lt;/div&gt;&lt;a class=&quot;wysihtml5-colors-title&quot; data-wysihtml5-command=&quot;foreColor&quot; data-wysihtml5-command-value=&quot;silver&quot;&gt;&#39;+j((g=b&amp;&amp;b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.silver,typeof g===i?g.apply(b):g))+&#39;&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;div class=&quot;wysihtml5-colors&quot; data-wysihtml5-command-value=&quot;gray&quot;&gt;&lt;/div&gt;&lt;a class=&quot;wysihtml5-colors-title&quot; data-wysihtml5-command=&quot;foreColor&quot; data-wysihtml5-command-value=&quot;gray&quot;&gt;&#39;+j((g=b&amp;&amp;b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.gray,typeof g===i?g.apply(b):g))+&#39;&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;div class=&quot;wysihtml5-colors&quot; data-wysihtml5-command-value=&quot;maroon&quot;&gt;&lt;/div&gt;&lt;a class=&quot;wysihtml5-colors-title&quot; data-wysihtml5-command=&quot;foreColor&quot; data-wysihtml5-command-value=&quot;maroon&quot;&gt;&#39;+j((g=b&amp;&amp;b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.maroon,typeof g===i?g.apply(b):g))+&#39;&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;div class=&quot;wysihtml5-colors&quot; data-wysihtml5-command-value=&quot;red&quot;&gt;&lt;/div&gt;&lt;a class=&quot;wysihtml5-colors-title&quot; data-wysihtml5-command=&quot;foreColor&quot; data-wysihtml5-command-value=&quot;red&quot;&gt;&#39;+j((g=b&amp;&amp;b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.red,typeof g===i?g.apply(b):g))+&#39;&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;div class=&quot;wysihtml5-colors&quot; data-wysihtml5-command-value=&quot;purple&quot;&gt;&lt;/div&gt;&lt;a class=&quot;wysihtml5-colors-title&quot; data-wysihtml5-command=&quot;foreColor&quot; data-wysihtml5-command-value=&quot;purple&quot;&gt;&#39;+j((g=b&amp;&amp;b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.purple,typeof g===i?g.apply(b):g))+&#39;&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;div class=&quot;wysihtml5-colors&quot; data-wysihtml5-command-value=&quot;green&quot;&gt;&lt;/div&gt;&lt;a class=&quot;wysihtml5-colors-title&quot; data-wysihtml5-command=&quot;foreColor&quot; data-wysihtml5-command-value=&quot;green&quot;&gt;&#39;+j((g=b&amp;&amp;b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.green,typeof g===i?g.apply(b):g))+&#39;&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;div class=&quot;wysihtml5-colors&quot; data-wysihtml5-command-value=&quot;olive&quot;&gt;&lt;/div&gt;&lt;a class=&quot;wysihtml5-colors-title&quot; data-wysihtml5-command=&quot;foreColor&quot; data-wysihtml5-command-value=&quot;olive&quot;&gt;&#39;+j((g=b&amp;&amp;b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.olive,typeof g===i?g.apply(b):g))+&#39;&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;div class=&quot;wysihtml5-colors&quot; data-wysihtml5-command-value=&quot;navy&quot;&gt;&lt;/div&gt;&lt;a class=&quot;wysihtml5-colors-title&quot; data-wysihtml5-command=&quot;foreColor&quot; data-wysihtml5-command-value=&quot;navy&quot;&gt;&#39;+j((g=b&amp;&amp;b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.navy,typeof g===i?g.apply(b):g))+&#39;&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;div class=&quot;wysihtml5-colors&quot; data-wysihtml5-command-value=&quot;blue&quot;&gt;&lt;/div&gt;&lt;a class=&quot;wysihtml5-colors-title&quot; data-wysihtml5-command=&quot;foreColor&quot; data-wysihtml5-command-value=&quot;blue&quot;&gt;&#39;+j((g=b&amp;&amp;b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.blue,typeof g===i?g.apply(b):g))+&#39;&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;div class=&quot;wysihtml5-colors&quot; data-wysihtml5-command-value=&quot;orange&quot;&gt;&lt;/div&gt;&lt;a class=&quot;wysihtml5-colors-title&quot; data-wysihtml5-command=&quot;foreColor&quot; data-wysihtml5-command-value=&quot;orange&quot;&gt;&#39;+j((g=b&amp;&amp;b.locale,g=null==g||g===!1?g:g.colours,g=null==g||g===!1?g:g.orange,typeof g===i?g.apply(b):g))+&quot;&lt;/a&gt;&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/li&gt;\n&quot;,h}),this.wysihtml5.tpl.emphasis=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c=&quot;&quot;;return c+=&quot;btn-&quot;+k((b=a&amp;&amp;a.options,b=null==b||b===!1?b:b.toolbar,b=null==b||b===!1?b:b.size,typeof b===j?b.apply(a):b)),c}function g(a,b){var d,e=&quot;&quot;;return e+=&#39;\n    &lt;a class=&quot;btn &#39;,d=c[&quot;if&quot;].call(a,(d=a&amp;&amp;a.options,d=null==d||d===!1?d:d.toolbar,null==d||d===!1?d:d.size),{hash:{},inverse:l.noop,fn:l.program(1,f,b),data:b}),(d||0===d)&amp;&amp;(e+=d),e+=&#39; btn-default&quot; data-wysihtml5-command=&quot;small&quot; title=&quot;CTRL+S&quot; tabindex=&quot;-1&quot;&gt;&#39;+k((d=a&amp;&amp;a.locale,d=null==d||d===!1?d:d.emphasis,d=null==d||d===!1?d:d.small,typeof d===j?d.apply(a):d))+&quot;&lt;/a&gt;\n    &quot;,e}this.compilerInfo=[4,&quot;&gt;= 1.0.0&quot;],c=this.merge(c,a.helpers),e=e||{};var h,i=&quot;&quot;,j=&quot;function&quot;,k=this.escapeExpression,l=this;return i+=&#39;&lt;li&gt;\n  &lt;div class=&quot;btn-group&quot;&gt;\n    &lt;a class=&quot;btn &#39;,h=c[&quot;if&quot;].call(b,(h=b&amp;&amp;b.options,h=null==h||h===!1?h:h.toolbar,null==h||h===!1?h:h.size),{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(h||0===h)&amp;&amp;(i+=h),i+=&#39; btn-default&quot; data-wysihtml5-command=&quot;bold&quot; title=&quot;CTRL+B&quot; tabindex=&quot;-1&quot;&gt;&#39;+k((h=b&amp;&amp;b.locale,h=null==h||h===!1?h:h.emphasis,h=null==h||h===!1?h:h.bold,typeof h===j?h.apply(b):h))+&#39;&lt;/a&gt;\n    &lt;a class=&quot;btn &#39;,h=c[&quot;if&quot;].call(b,(h=b&amp;&amp;b.options,h=null==h||h===!1?h:h.toolbar,null==h||h===!1?h:h.size),{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(h||0===h)&amp;&amp;(i+=h),i+=&#39; btn-default&quot; data-wysihtml5-command=&quot;italic&quot; title=&quot;CTRL+I&quot; tabindex=&quot;-1&quot;&gt;&#39;+k((h=b&amp;&amp;b.locale,h=null==h||h===!1?h:h.emphasis,h=null==h||h===!1?h:h.italic,typeof h===j?h.apply(b):h))+&#39;&lt;/a&gt;\n    &lt;a class=&quot;btn &#39;,h=c[&quot;if&quot;].call(b,(h=b&amp;&amp;b.options,h=null==h||h===!1?h:h.toolbar,null==h||h===!1?h:h.size),{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(h||0===h)&amp;&amp;(i+=h),i+=&#39; btn-default&quot; data-wysihtml5-command=&quot;underline&quot; title=&quot;CTRL+U&quot; tabindex=&quot;-1&quot;&gt;&#39;+k((h=b&amp;&amp;b.locale,h=null==h||h===!1?h:h.emphasis,h=null==h||h===!1?h:h.underline,typeof h===j?h.apply(b):h))+&quot;&lt;/a&gt;\n    &quot;,h=c[&quot;if&quot;].call(b,(h=b&amp;&amp;b.options,h=null==h||h===!1?h:h.toolbar,h=null==h||h===!1?h:h.emphasis,null==h||h===!1?h:h.small),{hash:{},inverse:l.noop,fn:l.program(3,g,e),data:e}),(h||0===h)&amp;&amp;(i+=h),i+=&quot;\n  &lt;/div&gt;\n&lt;/li&gt;\n&quot;,i</td>
      </tr>
      <tr>
        <td id="L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="LC8" class="blob-code blob-code-inner js-file-line">}),this.wysihtml5.tpl[&quot;font-styles&quot;]=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c=&quot;&quot;;return c+=&quot;btn-&quot;+l((b=a&amp;&amp;a.options,b=null==b||b===!1?b:b.toolbar,b=null==b||b===!1?b:b.size,typeof b===k?b.apply(a):b)),c}function g(){return&#39;\n      &lt;span class=&quot;fa fa-font&quot;&gt;&lt;/span&gt;\n    &#39;}function h(){return&#39;\n      &lt;span class=&quot;glyphicon glyphicon-font&quot;&gt;&lt;/span&gt;\n    &#39;}this.compilerInfo=[4,&quot;&gt;= 1.0.0&quot;],c=this.merge(c,a.helpers),e=e||{};var i,j=&quot;&quot;,k=&quot;function&quot;,l=this.escapeExpression,m=this;return j+=&#39;&lt;li class=&quot;dropdown&quot;&gt;\n  &lt;a class=&quot;btn btn-default dropdown-toggle &#39;,i=c[&quot;if&quot;].call(b,(i=b&amp;&amp;b.options,i=null==i||i===!1?i:i.toolbar,null==i||i===!1?i:i.size),{hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e}),(i||0===i)&amp;&amp;(j+=i),j+=&#39;&quot; data-toggle=&quot;dropdown&quot;&gt;\n    &#39;,i=c[&quot;if&quot;].call(b,(i=b&amp;&amp;b.options,i=null==i||i===!1?i:i.toolbar,null==i||i===!1?i:i.fa),{hash:{},inverse:m.program(5,h,e),fn:m.program(3,g,e),data:e}),(i||0===i)&amp;&amp;(j+=i),j+=&#39;\n    &lt;span class=&quot;current-font&quot;&gt;&#39;+l((i=b&amp;&amp;b.locale,i=null==i||i===!1?i:i.font_styles,i=null==i||i===!1?i:i.normal,typeof i===k?i.apply(b):i))+&#39;&lt;/span&gt;\n    &lt;b class=&quot;caret&quot;&gt;&lt;/b&gt;\n  &lt;/a&gt;\n  &lt;ul class=&quot;dropdown-menu&quot;&gt;\n    &lt;li&gt;&lt;a data-wysihtml5-command=&quot;formatBlock&quot; data-wysihtml5-command-value=&quot;p&quot; tabindex=&quot;-1&quot;&gt;&#39;+l((i=b&amp;&amp;b.locale,i=null==i||i===!1?i:i.font_styles,i=null==i||i===!1?i:i.normal,typeof i===k?i.apply(b):i))+&#39;&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a data-wysihtml5-command=&quot;formatBlock&quot; data-wysihtml5-command-value=&quot;h1&quot; tabindex=&quot;-1&quot;&gt;&#39;+l((i=b&amp;&amp;b.locale,i=null==i||i===!1?i:i.font_styles,i=null==i||i===!1?i:i.h1,typeof i===k?i.apply(b):i))+&#39;&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a data-wysihtml5-command=&quot;formatBlock&quot; data-wysihtml5-command-value=&quot;h2&quot; tabindex=&quot;-1&quot;&gt;&#39;+l((i=b&amp;&amp;b.locale,i=null==i||i===!1?i:i.font_styles,i=null==i||i===!1?i:i.h2,typeof i===k?i.apply(b):i))+&#39;&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a data-wysihtml5-command=&quot;formatBlock&quot; data-wysihtml5-command-value=&quot;h3&quot; tabindex=&quot;-1&quot;&gt;&#39;+l((i=b&amp;&amp;b.locale,i=null==i||i===!1?i:i.font_styles,i=null==i||i===!1?i:i.h3,typeof i===k?i.apply(b):i))+&#39;&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a data-wysihtml5-command=&quot;formatBlock&quot; data-wysihtml5-command-value=&quot;h4&quot; tabindex=&quot;-1&quot;&gt;&#39;+l((i=b&amp;&amp;b.locale,i=null==i||i===!1?i:i.font_styles,i=null==i||i===!1?i:i.h4,typeof i===k?i.apply(b):i))+&#39;&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a data-wysihtml5-command=&quot;formatBlock&quot; data-wysihtml5-command-value=&quot;h5&quot; tabindex=&quot;-1&quot;&gt;&#39;+l((i=b&amp;&amp;b.locale,i=null==i||i===!1?i:i.font_styles,i=null==i||i===!1?i:i.h5,typeof i===k?i.apply(b):i))+&#39;&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a data-wysihtml5-command=&quot;formatBlock&quot; data-wysihtml5-command-value=&quot;h6&quot; tabindex=&quot;-1&quot;&gt;&#39;+l((i=b&amp;&amp;b.locale,i=null==i||i===!1?i:i.font_styles,i=null==i||i===!1?i:i.h6,typeof i===k?i.apply(b):i))+&quot;&lt;/a&gt;&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/li&gt;\n&quot;,j}),this.wysihtml5.tpl.html=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c=&quot;&quot;;return c+=&quot;btn-&quot;+l((b=a&amp;&amp;a.options,b=null==b||b===!1?b:b.toolbar,b=null==b||b===!1?b:b.size,typeof b===k?b.apply(a):b)),c}function g(){return&#39;\n        &lt;span class=&quot;fa fa-pencil&quot;&gt;&lt;/span&gt;\n      &#39;}function h(){return&#39;\n        &lt;span class=&quot;glyphicon glyphicon-pencil&quot;&gt;&lt;/span&gt;\n      &#39;}this.compilerInfo=[4,&quot;&gt;= 1.0.0&quot;],c=this.merge(c,a.helpers),e=e||{};var i,j=&quot;&quot;,k=&quot;function&quot;,l=this.escapeExpression,m=this;return j+=&#39;&lt;li&gt;\n  &lt;div class=&quot;btn-group&quot;&gt;\n    &lt;a class=&quot;btn &#39;,i=c[&quot;if&quot;].call(b,(i=b&amp;&amp;b.options,i=null==i||i===!1?i:i.toolbar,null==i||i===!1?i:i.size),{hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e}),(i||0===i)&amp;&amp;(j+=i),j+=&#39; btn-default&quot; data-wysihtml5-action=&quot;change_view&quot; title=&quot;&#39;+l((i=b&amp;&amp;b.locale,i=null==i||i===!1?i:i.html,i=null==i||i===!1?i:i.edit,typeof i===k?i.apply(b):i))+&#39;&quot; tabindex=&quot;-1&quot;&gt;\n      &#39;,i=c[&quot;if&quot;].call(b,(i=b&amp;&amp;b.options,i=null==i||i===!1?i:i.toolbar,null==i||i===!1?i:i.fa),{hash:{},inverse:m.program(5,h,e),fn:m.program(3,g,e),data:e}),(i||0===i)&amp;&amp;(j+=i),j+=&quot;\n    &lt;/a&gt;\n  &lt;/div&gt;\n&lt;/li&gt;\n&quot;,j}),this.wysihtml5.tpl.image=Handlebars.template(function(a,b,c,d,e){function f(){return&quot;modal-sm&quot;}function g(a){var b,c=&quot;&quot;;return c+=&quot;btn-&quot;+m((b=a&amp;&amp;a.options,b=null==b||b===!1?b:b.toolbar,b=null==b||b===!1?b:b.size,typeof b===l?b.apply(a):b)),c}function h(){return&#39;\n      &lt;span class=&quot;fa fa-file-image-o&quot;&gt;&lt;/span&gt;\n    &#39;}function i(){return&#39;\n      &lt;span class=&quot;glyphicon glyphicon-picture&quot;&gt;&lt;/span&gt;\n    &#39;}this.compilerInfo=[4,&quot;&gt;= 1.0.0&quot;],c=this.merge(c,a.helpers),e=e||{};var j,k=&quot;&quot;,l=&quot;function&quot;,m=this.escapeExpression,n=this;return k+=&#39;&lt;li&gt;\n  &lt;div class=&quot;bootstrap-wysihtml5-insert-image-modal modal fade&quot; data-wysihtml5-dialog=&quot;insertImage&quot;&gt;\n    &lt;div class=&quot;modal-dialog &#39;,j=c[&quot;if&quot;].call(b,(j=b&amp;&amp;b.options,j=null==j||j===!1?j:j.toolbar,null==j||j===!1?j:j.smallmodals),{hash:{},inverse:n.noop,fn:n.program(1,f,e),data:e}),(j||0===j)&amp;&amp;(k+=j),k+=&#39;&quot;&gt;\n      &lt;div class=&quot;modal-content&quot;&gt;\n        &lt;div class=&quot;modal-header&quot;&gt;\n          &lt;a class=&quot;close&quot; data-dismiss=&quot;modal&quot;&gt;&amp;times;&lt;/a&gt;\n          &lt;h3&gt;&#39;+m((j=b&amp;&amp;b.locale,j=null==j||j===!1?j:j.image,j=null==j||j===!1?j:j.insert,typeof j===l?j.apply(b):j))+&#39;&lt;/h3&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;modal-body&quot;&gt;\n          &lt;div class=&quot;form-group&quot;&gt;\n            &lt;input value=&quot;http://&quot; class=&quot;bootstrap-wysihtml5-insert-image-url form-control&quot; data-wysihtml5-dialog-field=&quot;src&quot;&gt;\n          &lt;/div&gt; \n        &lt;/div&gt;\n        &lt;div class=&quot;modal-footer&quot;&gt;\n          &lt;a class=&quot;btn btn-default&quot; data-dismiss=&quot;modal&quot; data-wysihtml5-dialog-action=&quot;cancel&quot; href=&quot;#&quot;&gt;&#39;+m((j=b&amp;&amp;b.locale,j=null==j||j===!1?j:j.image,j=null==j||j===!1?j:j.cancel,typeof j===l?j.apply(b):j))+&#39;&lt;/a&gt;\n          &lt;a class=&quot;btn btn-primary&quot; data-dismiss=&quot;modal&quot;  data-wysihtml5-dialog-action=&quot;save&quot; href=&quot;#&quot;&gt;&#39;+m((j=b&amp;&amp;b.locale,j=null==j||j===!1?j:j.image,j=null==j||j===!1?j:j.insert,typeof j===l?j.apply(b):j))+&#39;&lt;/a&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;a class=&quot;btn &#39;,j=c[&quot;if&quot;].call(b,(j=b&amp;&amp;b.options,j=null==j||j===!1?j:j.toolbar,null==j||j===!1?j:j.size),{hash:{},inverse:n.noop,fn:n.program(3,g,e),data:e}),(j||0===j)&amp;&amp;(k+=j),k+=&#39; btn-default&quot; data-wysihtml5-command=&quot;insertImage&quot; title=&quot;&#39;+m((j=b&amp;&amp;b.locale,j=null==j||j===!1?j:j.image,j=null==j||j===!1?j:j.insert,typeof j===l?j.apply(b):j))+&#39;&quot; tabindex=&quot;-1&quot;&gt;\n    &#39;,j=c[&quot;if&quot;].call(b,(j=b&amp;&amp;b.options,j=null==j||j===!1?j:j.toolbar,null==j||j===!1?j:j.fa),{hash:{},inverse:n.program(7,i,e),fn:n.program(5,h,e),data:e}),(j||0===j)&amp;&amp;(k+=j),k+=&quot;\n  &lt;/a&gt;\n&lt;/li&gt;\n&quot;,k}),this.wysihtml5.tpl.link=Handlebars.template(function(a,b,c,d,e){function f(){return&quot;modal-sm&quot;}function g(a){var b,c=&quot;&quot;;return c+=&quot;btn-&quot;+m((b=a&amp;&amp;a.options,b=null==b||b===!1?b:b.toolbar,b=null==b||b===!1?b:b.size,typeof b===l?b.apply(a):b)),c}function h(){return&#39;\n      &lt;span class=&quot;fa fa-share-square-o&quot;&gt;&lt;/span&gt;\n    &#39;}function i(){return&#39;\n      &lt;span class=&quot;glyphicon glyphicon-share&quot;&gt;&lt;/span&gt;\n    &#39;}this.compilerInfo=[4,&quot;&gt;= 1.0.0&quot;],c=this.merge(c,a.helpers),e=e||{};var j,k=&quot;&quot;,l=&quot;function&quot;,m=this.escapeExpression,n=this;return k+=&#39;&lt;li&gt;\n  &lt;div class=&quot;bootstrap-wysihtml5-insert-link-modal modal fade&quot; data-wysihtml5-dialog=&quot;createLink&quot;&gt;\n    &lt;div class=&quot;modal-dialog &#39;,j=c[&quot;if&quot;].call(b,(j=b&amp;&amp;b.options,j=null==j||j===!1?j:j.toolbar,null==j||j===!1?j:j.smallmodals),{hash:{},inverse:n.noop,fn:n.program(1,f,e),data:e}),(j||0===j)&amp;&amp;(k+=j),k+=&#39;&quot;&gt;\n      &lt;div class=&quot;modal-content&quot;&gt;\n        &lt;div class=&quot;modal-header&quot;&gt;\n          &lt;a class=&quot;close&quot; data-dismiss=&quot;modal&quot;&gt;&amp;times;&lt;/a&gt;\n          &lt;h3&gt;&#39;+m((j=b&amp;&amp;b.locale,j=null==j||j===!1?j:j.link,j=null==j||j===!1?j:j.insert,typeof j===l?j.apply(b):j))+&#39;&lt;/h3&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;modal-body&quot;&gt;\n          &lt;div class=&quot;form-group&quot;&gt;\n            &lt;input value=&quot;http://&quot; class=&quot;bootstrap-wysihtml5-insert-link-url form-control&quot; data-wysihtml5-dialog-field=&quot;href&quot;&gt;\n          &lt;/div&gt; \n          &lt;div class=&quot;checkbox&quot;&gt;\n            &lt;label&gt; \n              &lt;input type=&quot;checkbox&quot; class=&quot;bootstrap-wysihtml5-insert-link-target&quot; checked&gt;&#39;+m((j=b&amp;&amp;b.locale,j=null==j||j===!1?j:j.link,j=null==j||j===!1?j:j.target,typeof j===l?j.apply(b):j))+&#39;\n            &lt;/label&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;modal-footer&quot;&gt;\n          &lt;a class=&quot;btn btn-default&quot; data-dismiss=&quot;modal&quot; data-wysihtml5-dialog-action=&quot;cancel&quot; href=&quot;#&quot;&gt;&#39;+m((j=b&amp;&amp;b.locale,j=null==j||j===!1?j:j.link,j=null==j||j===!1?j:j.cancel,typeof j===l?j.apply(b):j))+&#39;&lt;/a&gt;\n          &lt;a href=&quot;#&quot; class=&quot;btn btn-primary&quot; data-dismiss=&quot;modal&quot; data-wysihtml5-dialog-action=&quot;save&quot;&gt;&#39;+m((j=b&amp;&amp;b.locale,j=null==j||j===!1?j:j.link,j=null==j||j===!1?j:j.insert,typeof j===l?j.apply(b):j))+&#39;&lt;/a&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;a class=&quot;btn &#39;,j=c[&quot;if&quot;].call(b,(j=b&amp;&amp;b.options,j=null==j||j===!1?j:j.toolbar,null==j||j===!1?j:j.size),{hash:{},inverse:n.noop,fn:n.program(3,g,e),data:e}),(j||0===j)&amp;&amp;(k+=j),k+=&#39; btn-default&quot; data-wysihtml5-command=&quot;createLink&quot; title=&quot;&#39;+m((j=b&amp;&amp;b.locale,j=null==j||j===!1?j:j.link,j=null==j||j===!1?j:j.insert,typeof j===l?j.apply(b):j))+&#39;&quot; tabindex=&quot;-1&quot;&gt;\n    &#39;,j=c[&quot;if&quot;].call(b,(j=b&amp;&amp;b.options,j=null==j||j===!1?j:j.toolbar,null==j||j===!1?j:j.fa),{hash:{},inverse:n.program(7,i,e),fn:n.program(5,h,e),data:e}),(j||0===j)&amp;&amp;(k+=j),k+=&quot;\n  &lt;/a&gt;\n&lt;/li&gt;\n&quot;,k}),this.wysihtml5.tpl.lists=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c=&quot;&quot;;return c+=&quot;btn-&quot;+r((b=a&amp;&amp;a.options,b=null==b||b===!1?b:b.toolbar,b=null==b||b===!1?b:b.size,typeof b===q?b.apply(a):b)),c}function g(){return&#39;\n      &lt;span class=&quot;fa fa-list-ul&quot;&gt;&lt;/span&gt;\n    &#39;}function h(){return&#39;\n      &lt;span class=&quot;glyphicon glyphicon-list&quot;&gt;&lt;/span&gt;\n    &#39;}function i(){return&#39;\n      &lt;span class=&quot;fa fa-list-ol&quot;&gt;&lt;/span&gt;\n    &#39;}function j(){return&#39;\n      &lt;span class=&quot;glyphicon glyphicon-th-list&quot;&gt;&lt;/span&gt;\n    &#39;}function k(){return&#39;\n      &lt;span class=&quot;fa fa-outdent&quot;&gt;&lt;/span&gt;\n    &#39;}function l(){return&#39;\n      &lt;span class=&quot;glyphicon glyphicon-indent-right&quot;&gt;&lt;/span&gt;\n    &#39;}function m(){return&#39;\n      &lt;span class=&quot;fa fa-indent&quot;&gt;&lt;/span&gt;\n    &#39;}function n(){return&#39;\n      &lt;span class=&quot;glyphicon glyphicon-indent-left&quot;&gt;&lt;/span&gt;\n    &#39;}this.compilerInfo=[4,&quot;&gt;= 1.0.0&quot;],c=this.merge(c,a.helpers),e=e||{};var o,p=&quot;&quot;,q=&quot;function&quot;,r=this.escapeExpression,s=this;return p+=&#39;&lt;li&gt;\n  &lt;div class=&quot;btn-group&quot;&gt;\n    &lt;a class=&quot;btn &#39;,o=c[&quot;if&quot;].call(b,(o=b&amp;&amp;b.options,o=null==o||o===!1?o:o.toolbar,null==o||o===!1?o:o.size),{hash:{},inverse:s.noop,fn:s.program(1,f,e),data:e}),(o||0===o)&amp;&amp;(p+=o),p+=&#39; btn-default&quot; data-wysihtml5-command=&quot;insertUnorderedList&quot; title=&quot;&#39;+r((o=b&amp;&amp;b.locale,o=null==o||o===!1?o:o.lists,o=null==o||o===!1?o:o.unordered,typeof o===q?o.apply(b):o))+&#39;&quot; tabindex=&quot;-1&quot;&gt;\n    &#39;,o=c[&quot;if&quot;].call(b,(o=b&amp;&amp;b.options,o=null==o||o===!1?o:o.toolbar,null==o||o===!1?o:o.fa),{hash:{},inverse:s.program(5,h,e),fn:s.program(3,g,e),data:e}),(o||0===o)&amp;&amp;(p+=o),p+=&#39;\n    &lt;/a&gt;\n    &lt;a class=&quot;btn &#39;,o=c[&quot;if&quot;].call(b,(o=b&amp;&amp;b.options,o=null==o||o===!1?o:o.toolbar,null==o||o===!1?o:o.size),{hash:{},inverse:s.noop,fn:s.program(1,f,e),data:e}),(o||0===o)&amp;&amp;(p+=o),p+=&#39; btn-default&quot; data-wysihtml5-command=&quot;insertOrderedList&quot; title=&quot;&#39;+r((o=b&amp;&amp;b.locale,o=null==o||o===!1?o:o.lists,o=null==o||o===!1?o:o.ordered,typeof o===q?o.apply(b):o))+&#39;&quot; tabindex=&quot;-1&quot;&gt;\n    &#39;,o=c[&quot;if&quot;].call(b,(o=b&amp;&amp;b.options,o=null==o||o===!1?o:o.toolbar,null==o||o===!1?o:o.fa),{hash:{},inverse:s.program(9,j,e),fn:s.program(7,i,e),data:e}),(o||0===o)&amp;&amp;(p+=o),p+=&#39;\n    &lt;/a&gt;\n    &lt;a class=&quot;btn &#39;,o=c[&quot;if&quot;].call(b,(o=b&amp;&amp;b.options,o=null==o||o===!1?o:o.toolbar,null==o||o===!1?o:o.size),{hash:{},inverse:s.noop,fn:s.program(1,f,e),data:e}),(o||0===o)&amp;&amp;(p+=o),p+=&#39; btn-default&quot; data-wysihtml5-command=&quot;Outdent&quot; title=&quot;&#39;+r((o=b&amp;&amp;b.locale,o=null==o||o===!1?o:o.lists,o=null==o||o===!1?o:o.outdent,typeof o===q?o.apply(b):o))+&#39;&quot; tabindex=&quot;-1&quot;&gt;\n    &#39;,o=c[&quot;if&quot;].call(b,(o=b&amp;&amp;b.options,o=null==o||o===!1?o:o.toolbar,null==o||o===!1?o:o.fa),{hash:{},inverse:s.program(13,l,e),fn:s.program(11,k,e),data:e}),(o||0===o)&amp;&amp;(p+=o),p+=&#39;\n    &lt;/a&gt;\n    &lt;a class=&quot;btn &#39;,o=c[&quot;if&quot;].call(b,(o=b&amp;&amp;b.options,o=null==o||o===!1?o:o.toolbar,null==o||o===!1?o:o.size),{hash:{},inverse:s.noop,fn:s.program(1,f,e),data:e}),(o||0===o)&amp;&amp;(p+=o),p+=&#39; btn-default&quot; data-wysihtml5-command=&quot;Indent&quot; title=&quot;&#39;+r((o=b&amp;&amp;b.locale,o=null==o||o===!1?o:o.lists,o=null==o||o===!1?o:o.indent,typeof o===q?o.apply(b):o))+&#39;&quot; tabindex=&quot;-1&quot;&gt;\n    &#39;,o=c[&quot;if&quot;].call(b,(o=b&amp;&amp;b.options,o=null==o||o===!1?o:o.toolbar,null==o||o===!1?o:o.fa),{hash:{},inverse:s.program(17,n,e),fn:s.program(15,m,e),data:e}),(o||0===o)&amp;&amp;(p+=o),p+=&quot;\n    &lt;/a&gt;\n  &lt;/div&gt;\n&lt;/li&gt;\n&quot;,p}),function(a){&quot;use strict&quot;;&quot;function&quot;==typeof define&amp;&amp;define.amd?define(&quot;bootstrap.wysihtml5&quot;,[&quot;jquery&quot;,&quot;wysihtml5&quot;,&quot;bootstrap&quot;,&quot;bootstrap.wysihtml5.templates&quot;,&quot;bootstrap.wysihtml5.commands&quot;],a):a(jQuery,wysihtml5)}(function(a,b){&quot;use strict&quot;;var c=function(a,b){var c,d,e,f=function(a,c,d){return b.tpl[a]?b.tpl[a]({locale:c,options:d}):void 0},g=function(c,e){var f,g;this.el=c,f=a.extend(!0,{},d,e);for(g in f.customTemplates)f.customTemplates.hasOwnProperty(g)&amp;&amp;(b.tpl[g]=f.customTemplates[g]);this.toolbar=this.createToolbar(c,f),this.editor=this.createEditor(f)};g.prototype={constructor:g,createEditor:function(b){b=b||{},b=a.extend(!0,{},b),b.toolbar=this.toolbar[0],this.initializeEditor(this.el[0],b)},initializeEditor:function(a,c){var d,e=new b.Editor(this.el[0],c);if(e.on(&quot;beforeload&quot;,this.syncBootstrapDialogEvents),e.on(&quot;beforeload&quot;,this.loadParserRules),e.composer.editableArea.contentDocument?this.addMoreShortcuts(e,e.composer.editableArea.contentDocument.body||e.composer.editableArea.contentDocument,c.shortcuts):this.addMoreShortcuts(e,e.composer.editableArea,c.shortcuts),c&amp;&amp;c.events)for(d in c.events)c.events.hasOwnProperty(d)&amp;&amp;e.on(d,c.events[d]);return e},loadParserRules:function(){&quot;string&quot;===a.type(this.config.parserRules)&amp;&amp;a.ajax({dataType:&quot;json&quot;,url:this.config.parserRules,context:this,error:function(a,b,c){void 0},success:function(a){this.config.parserRules=a,void 0}}),this.config.pasteParserRulesets&amp;&amp;&quot;string&quot;===a.type(this.config.pasteParserRulesets)&amp;&amp;a.ajax({dataType:&quot;json&quot;,url:this.config.pasteParserRulesets,context:this,error:function(a,b,c){void 0},success:function(a){this.config.pasteParserRulesets=a}})},syncBootstrapDialogEvents:function(){var b=this;a.map(this.toolbar.commandMapping,function(a){return[a]}).filter(function(a){return a.dialog}).map(function(a){return a.dialog}).forEach(function(c){c.on(&quot;show&quot;,function(){a(this.container).modal(&quot;show&quot;)}),c.on(&quot;hide&quot;,function(){a(this.container).modal(&quot;hide&quot;),setTimeout(b.composer.focus,0)}),a(c.container).on(&quot;shown.bs.modal&quot;,function(){a(this).find(&quot;input, select, textarea&quot;).first().focus()})}),this.on(&quot;change_view&quot;,function(){a(this.toolbar.container.children).find(&quot;a.btn&quot;).not(&#39;[data-wysihtml5-action=&quot;change_view&quot;]&#39;).toggleClass(&quot;disabled&quot;)})},createToolbar:function(b,c){var g,h,i=this,j=a(&quot;&lt;ul/&gt;&quot;,{&quot;class&quot;:&quot;wysihtml5-toolbar&quot;,style:&quot;display:none&quot;}),k=c.locale||d.locale||&quot;en&quot;;e.hasOwnProperty(k)||(void 0,k=&quot;en&quot;),g=a.extend(!0,{},e.en,e[k]);for(h in c.toolbar)c.toolbar[h]&amp;&amp;j.append(f(h,g,c));return j.find(&#39;a[data-wysihtml5-command=&quot;formatBlock&quot;]&#39;).click(function(b){var c=b.delegateTarget||b.target||b.srcElement,d=a(c),e=d.data(&quot;wysihtml5-display-format-name&quot;),f=d.data(&quot;wysihtml5-format-name&quot;)||d.html();(void 0===e||&quot;true&quot;===e)&amp;&amp;i.toolbar.find(&quot;.current-font&quot;).text(f)}),j.find(&#39;a[data-wysihtml5-command=&quot;foreColor&quot;]&#39;).click(function(b){var c=b.target||b.srcElement,d=a(c);i.toolbar.find(&quot;.current-color&quot;).text(d.html())}),this.el.before(j),j},addMoreShortcuts:function(a,c,d){b.dom.observe(c,&quot;keydown&quot;,function(c){var e,f=c.keyCode,g=d[f];(c.ctrlKey||c.metaKey||c.altKey)&amp;&amp;g&amp;&amp;b.commands[g]&amp;&amp;(e=a.toolbar.commandMapping[g+&quot;:null&quot;],e&amp;&amp;e.dialog&amp;&amp;!e.state?e.dialog.show():b.commands[g].exec(a.composer,g),c.preventDefault())})}},c={resetDefaults:function(){a.fn.wysihtml5.defaultOptions=a.extend(!0,{},a.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(b){return this.each(function(){var c=a(this);c.data(&quot;wysihtml5&quot;,new g(c,b))})},shallowExtend:function(b){var d=a.extend({},a.fn.wysihtml5.defaultOptions,b||{},a(this).data()),e=this;return c.bypassDefaults.apply(e,[d])},deepExtend:function(b){var d=a.extend(!0,{},a.fn.wysihtml5.defaultOptions,b||{}),e=this;return c.bypassDefaults.apply(e,[d])},init:function(a){var b=this;return c.shallowExtend.apply(b,[a])}},a.fn.wysihtml5=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):&quot;object&quot;!=typeof b&amp;&amp;b?(a.error(&quot;Method &quot;+b+&quot; does not exist on jQuery.wysihtml5&quot;),void 0):c.init.apply(this,arguments)},a.fn.wysihtml5.Constructor=g,d=a.fn.wysihtml5.defaultOptions={toolbar:{&quot;font-styles&quot;:!0,color:!1,emphasis:{small:!0},blockquote:!0,lists:!0,html:!1,link:!0,image:!0,smallmodals:!1},useLineBreaks:!1,parserRules:{classes:{&quot;wysiwyg-color-silver&quot;:1,&quot;wysiwyg-color-gray&quot;:1,&quot;wysiwyg-color-white&quot;:1,&quot;wysiwyg-color-maroon&quot;:1,&quot;wysiwyg-color-red&quot;:1,&quot;wysiwyg-color-purple&quot;:1,&quot;wysiwyg-color-fuchsia&quot;:1,&quot;wysiwyg-color-green&quot;:1,&quot;wysiwyg-color-lime&quot;:1,&quot;wysiwyg-color-olive&quot;:1,&quot;wysiwyg-color-yellow&quot;:1,&quot;wysiwyg-color-navy&quot;:1,&quot;wysiwyg-color-blue&quot;:1,&quot;wysiwyg-color-teal&quot;:1,&quot;wysiwyg-color-aqua&quot;:1,&quot;wysiwyg-color-orange&quot;:1},tags:{b:{},i:{},strong:{},em:{},p:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:&quot;numbers&quot;,alt:&quot;alt&quot;,src:&quot;url&quot;,height:&quot;numbers&quot;}},a:{check_attributes:{href:&quot;url&quot;},set_attributes:{target:&quot;_blank&quot;,rel:&quot;nofollow&quot;}},span:1,div:1,small:1,code:1,pre:1}},locale:&quot;en&quot;,shortcuts:{83:&quot;small&quot;,75:&quot;createLink&quot;}},void 0===a.fn.wysihtml5.defaultOptionsCache&amp;&amp;(a.fn.wysihtml5.defaultOptionsCache=a.extend(!0,{},a.fn.wysihtml5.defaultOptions)),e=a.fn.wysihtml5.locale={}};c(a,b)}),function(a){a.commands.small={exec:function(b,c){return a.commands.formatInline.exec(b,c,&quot;small&quot;)},state:function(b,c){return a.commands.formatInline.state(b,c,&quot;small&quot;)}}}(wysihtml5),function(a){&quot;function&quot;==typeof define&amp;&amp;define.amd?define(&quot;bootstrap.wysihtml5.en-US&quot;,[&quot;jquery&quot;,&quot;bootstrap.wysihtml5&quot;],a):a(jQuery)}(function(a){a.fn.wysihtml5.locale.en=a.fn.wysihtml5.locale[&quot;en-US&quot;]={font_styles:{normal:&quot;Normal text&quot;,h1:&quot;Heading 1&quot;,h2:&quot;Heading 2&quot;,h3:&quot;Heading 3&quot;,h4:&quot;Heading 4&quot;,h5:&quot;Heading 5&quot;,h6:&quot;Heading 6&quot;},emphasis:{bold:&quot;Bold&quot;,italic:&quot;Italic&quot;,underline:&quot;Underline&quot;,small:&quot;Small&quot;},lists:{unordered:&quot;Unordered list&quot;,ordered:&quot;Ordered list&quot;,outdent:&quot;Outdent&quot;,indent:&quot;Indent&quot;},link:{insert:&quot;Insert link&quot;,cancel:&quot;Cancel&quot;,target:&quot;Open link in new window&quot;},image:{insert:&quot;Insert image&quot;,cancel:&quot;Cancel&quot;},html:{edit:&quot;Edit HTML&quot;},colours:{black:&quot;Black&quot;,silver:&quot;Silver&quot;,gray:&quot;Grey&quot;,maroon:&quot;Maroon&quot;,red:&quot;Red&quot;,purple:&quot;Purple&quot;,green:&quot;Green&quot;,olive:&quot;Olive&quot;,navy:&quot;Navy&quot;,blue:&quot;Blue&quot;,orange:&quot;Orange&quot;}}});</td>
      </tr>
</table>

  <details class="details-reset details-overlay BlobToolbar position-absolute js-file-line-actions dropdown d-none" aria-hidden="true">
    <summary class="btn-octicon ml-0 px-2 p-0 bg-white border border-gray-dark rounded-1" aria-label="Inline file action toolbar">
      <svg class="octicon octicon-kebab-horizontal" viewBox="0 0 13 16" version="1.1" width="13" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM13 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/></svg>
    </summary>
    <details-menu>
      <ul class="BlobToolbar-dropdown dropdown-menu dropdown-menu-se mt-2">
        <li><clipboard-copy role="menuitem" class="dropdown-item" id="js-copy-lines" style="cursor:pointer;" data-original-text="Copy lines">Copy lines</clipboard-copy></li>
        <li><clipboard-copy role="menuitem" class="dropdown-item" id="js-copy-permalink" style="cursor:pointer;" data-original-text="Copy permalink">Copy permalink</clipboard-copy></li>
        <li><a class="dropdown-item js-update-url-with-hash" id="js-view-git-blame" role="menuitem" href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/blame/7bbc35028e494e02f1b956da0a9880b841fee9e2/dist/bootstrap3-wysihtml5.all.min.js">View git blame</a></li>
          <li><a class="dropdown-item" id="js-new-issue" role="menuitem" href="/bootstrap-wysiwyg/bootstrap3-wysiwyg/issues/new">Open new issue</a></li>
      </ul>
    </details-menu>
  </details>

  </div>

  </div>

  <details class="details-reset details-overlay details-overlay-dark">
    <summary data-hotkey="l" aria-label="Jump to line"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast linejump" aria-label="Jump to line">
      <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-jump-to-line-form Box-body d-flex" action="" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
        <input class="form-control flex-auto mr-3 linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" aria-label="Jump to line" autofocus>
        <button type="submit" class="btn" data-close-dialog>Go</button>
</form>    </details-dialog>
  </details>


  </div>
  <div class="modal-backdrop js-touch-events"></div>
</div>

    </div>
  </div>

  </div>

        
<div class="footer container-lg px-3" role="contentinfo">
  <div class="position-relative d-flex flex-justify-between pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <ul class="list-style-none d-flex flex-wrap ">
      <li class="mr-3">&copy; 2018 <span title="0.24080s from unicorn-6b4d8c4dc9-nb9pz">GitHub</span>, Inc.</li>
        <li class="mr-3"><a data-ga-click="Footer, go to terms, text:terms" href="https://github.com/site/terms">Terms</a></li>
        <li class="mr-3"><a data-ga-click="Footer, go to privacy, text:privacy" href="https://github.com/site/privacy">Privacy</a></li>
        <li class="mr-3"><a href="https://help.github.com/articles/github-security/" data-ga-click="Footer, go to security, text:security">Security</a></li>
        <li class="mr-3"><a href="https://status.github.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
        <li><a data-ga-click="Footer, go to help, text:help" href="https://help.github.com">Help</a></li>
    </ul>

    <a aria-label="Homepage" title="GitHub" class="footer-octicon" href="https://github.com">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
</a>
   <ul class="list-style-none d-flex flex-wrap ">
        <li class="mr-3"><a data-ga-click="Footer, go to contact, text:contact" href="https://github.com/contact">Contact GitHub</a></li>
        <li class="mr-3"><a href="/pricing" data-ga-click="Footer, go to Pricing, text:Pricing">Pricing</a></li>
      <li class="mr-3"><a href="https://developer.github.com" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li class="mr-3"><a href="https://training.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>
        <li class="mr-3"><a href="https://blog.github.com" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a data-ga-click="Footer, go to about, text:about" href="https://github.com/about">About</a></li>

    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>
</div>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/></svg>
    </button>
    You can’t perform that action at this time.
  </div>


    
    <script crossorigin="anonymous" integrity="sha512-Swe7kfA0LYlT3FJ/ke9bPeUkLzJicE/ZxqOlslN1BTzsmekU9LCRmkEhprM8P9jyIT1PPZnHu/8tNM5k6JstFg==" type="application/javascript" src="https://assets-cdn.github.com/assets/frameworks-000e724656d8b68c57faba0b6d80278a.js"></script>
    
    <script crossorigin="anonymous" async="async" integrity="sha512-iK04uvFyMwXxWLbY/eleTk1H7shOe5W3V3LhirjsdmqMRoFuwWN1MHovDavK+Gm5INFyv+LiG32Aeui7DZk+/g==" type="application/javascript" src="https://assets-cdn.github.com/assets/github-ca5c0c6b6a11f4b7ad8aa92f3a2a45d4.js"></script>
    
    
    
  <div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner d-none">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg>
    <span class="signed-in-tab-flash">You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
    <span class="signed-out-tab-flash">You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
  </div>
  <div class="facebox" id="facebox" style="display:none;">
  <div class="facebox-popup">
    <div class="facebox-content" role="dialog" aria-labelledby="facebox-header" aria-describedby="facebox-description">
    </div>
    <button type="button" class="facebox-close js-facebox-close" aria-label="Close modal">
      <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/></svg>
    </button>
  </div>
</div>

  <template id="site-details-dialog">
  <details class="details-reset details-overlay details-overlay-dark lh-default text-gray-dark" open>
    <summary aria-haspopup="dialog" aria-label="Close dialog"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast">
      <button class="m-3 btn-octicon position-absolute right-0 top-0" type="button" aria-label="Close dialog" data-close-dialog>
        <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"/></svg>
      </button>
      <div class="octocat-spinner my-6 js-details-dialog-spinner"></div>
    </details-dialog>
  </details>
</template>

  <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;" tabindex="0">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box box-shadow-large" style="width:360px;">
  </div>
</div>

<div id="hovercard-aria-description" class="sr-only">
  Press h to open a hovercard with more details.
</div>


  </body>
</html>

